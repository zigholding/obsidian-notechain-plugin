/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ZigHolding
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  newTab: true,
  withSelf: true,
  reverse: true,
  field: "NID",
  PrevChain: "10",
  NextChain: "10",
  showLink: true,
  openLink: true,
  refreshDataView: true,
  refreshTasks: true
};
function get_tp_func(app2, target) {
  let templater = app2.plugins.getPlugin(
    "templater-obsidian"
  );
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items.length != 3) {
    return void 0;
  }
  let modules = templater.templater.functions_generator.internal_functions.modules_array.filter(
    (item) => item.name.localeCompare(items[1]) == 0
  );
  if (modules.length == 0) {
    return void 0;
  }
  return modules[0].static_functions.get(items[2]);
}
var ZigEditor = class {
  constructor(app2) {
    this.app = app2;
  }
  regexp_link(tfile, mode2) {
    if (mode2 === "link") {
      return new RegExp(`\\[\\[${tfile.basename}\\|?.*\\]\\]`, "g");
    }
    if (mode2 === "para") {
      return new RegExp(`.*\\[\\[${tfile.basename}\\|?.*\\]\\].*`, "g");
    }
  }
  replace(tfile, regex, target) {
    if (typeof regex === "string") {
      this.app.vault.process(tfile, (data) => {
        if (data.indexOf(regex) > -1) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    } else if (regex instanceof RegExp) {
      this.app.vault.process(tfile, (data) => {
        if (data.match(regex)) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    }
  }
};
var NoteChain = class {
  constructor(zig, prev = "PrevNote", next = "NextNote") {
    this.zig = zig;
    this.app = zig.app;
    this.prev = prev;
    this.next = next;
    this.dv_api = this.app.plugins.getPlugin(
      "dataview"
    );
  }
  get find_tfile() {
    return get_tp_func(this.app, "tp.file.find_tfile");
  }
  get suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get_all_folders(sort_mode = "") {
    return this.app.vault.getAllFolders();
  }
  sort_folders_by_mtime(folders, reverse = true) {
    function ufunc(f) {
      return Math.max(
        ...f.children.filter((f2) => f2.basename).map((f2) => f2.stat.mtime)
      );
    }
    let res = folders.sort((a, b) => ufunc(a) - ufunc(b));
    if (reverse) {
      res = res.reverse();
    }
    return res;
  }
  async move_file_to_another_folder(tfile = this.current_note) {
    let folders = this.get_all_folders();
    folders = this.sort_folders_by_mtime(
      folders
    ).filter((f) => f != tfile.parent);
    if (tfile.extension === "md") {
      folders = folders.filter((f) => this.filter_user_ignore(f));
    }
    try {
      let folder = await this.suggester((f) => f.path, folders);
      let dst = folder.path + "/" + tfile.basename + "." + tfile.extension;
      await app.fileManager.renameFile(tfile, dst);
    } catch (error) {
    }
  }
  filter_user_ignore(note) {
    if (!(this.app.vault.config.attachmentFolderPath === "./")) {
      if (note.path.startsWith(
        this.app.vault.config.attachmentFolderPath
      )) {
        return false;
      }
    }
    if (this.app.vault.config.userIgnoreFilters) {
      for (let x of this.app.vault.config.userIgnoreFilters) {
        if (note.path.startsWith(x)) {
          return false;
        }
      }
    }
    return true;
  }
  async sugguster_note() {
    let notes = this.sort_tfiles(
      this.app.vault.getFiles(),
      ["mtime", "x"]
    ).filter((f) => this.filter_user_ignore(f));
    try {
      let note = await this.suggester((f) => f.path, notes);
      return note;
    } catch (error) {
    }
  }
  open_note(tfile, new_tab = false) {
    if (tfile) {
      if (this.app.workspace.activeLeaf.pinned || new_tab) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else {
        this.app.workspace.activeLeaf.openFile(tfile);
      }
    }
  }
  async sugguster_open_note() {
    try {
      let note = await this.sugguster_note();
      console.log(note);
      this.open_note(note);
    } catch (error) {
    }
  }
  get_tfile(path) {
    let name = path.split("|")[0].replace("[[", "").replace("]]", "");
    return this.find_tfile(name);
  }
  get MDFiles() {
    return app.vault.getMarkdownFiles();
  }
  get current_note() {
    return this.app.workspace.getActiveFile();
  }
  get_inlinks(tfile = this.current_note) {
    let res = new Array();
    let inlinks = this.dv_api.index.links.invMap.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_outlinks(tfile = this.current_note) {
    let res = new Array();
    let inlinks = this.dv_api.index.links.map.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_links(tfile = this.current_note) {
    let inlinks = this.get_inlinks(tfile);
    let outlinks = this.get_outlinks(tfile);
    for (let link of inlinks) {
      if (!outlinks.includes(link)) {
        outlinks.push(link);
      }
    }
    return outlinks;
  }
  get_same_parent(tfile = this.current_note) {
    return this.get_tfiles_of_folder(tfile == null ? void 0 : tfile.parent, false);
  }
  get_tfiles_of_folder(tfolder, with_children = true) {
    if (tfolder == null) {
      return [];
    }
    let notes = [];
    for (let c of tfolder.children) {
      if (c.basename && c.extension === "md") {
        notes.push(c);
      } else if (c.children && with_children) {
        let tmp = this.get_tfiles_of_folder(c);
        for (let x of tmp) {
          notes.push(x);
        }
      }
    }
    return notes;
  }
  parse_item(item) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let seq = kwargs["seq"];
    if (seq != null) {
      return `${seq} -> ${item}`;
    }
    return item;
  }
  parse_items(items) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let res = [];
    let i = 0;
    while (i < items.length) {
      if (kwargs["seq"]) {
        res.push(this.parse_item(items[i], { "seq": i + 1 }));
      } else {
        res.push(this.parse_item(items[i]));
      }
      i++;
    }
    return res;
  }
  async suggester_notes(tfile = this.current_note, curr_first = true, smode = "") {
    let kv = [
      "\u540C\u7EA7\u76EE\u5F55",
      "\u7B14\u8BB0\u94FE\u6761",
      "\u540C\u7EA7\u76EE\u5F55+\u5B50\u76EE\u5F55",
      "\u51FA\u94FE+\u5165\u94FE",
      "\u5165\u94FE",
      "\u51FA\u94FE",
      "\u6240\u6709\u7B14\u8BB0",
      "recent-files-obsidian"
    ];
    if (curr_first) {
      kv.unshift("\u5F53\u524D\u7B14\u8BB0");
    } else {
      kv.push("\u5F53\u524D\u7B14\u8BB0");
    }
    let mode2 = "";
    if (kv.contains(smode)) {
      mode2 = smode;
    } else {
      mode2 = await this.suggester(kv, kv);
    }
    if (mode2 === "\u5F53\u524D\u7B14\u8BB0") {
      return [tfile];
    } else if (mode2 === "\u540C\u7EA7\u76EE\u5F55") {
      return this.get_same_parent(tfile);
    } else if (mode2 === "\u540C\u7EA7\u76EE\u5F55+\u5B50\u76EE\u5F55") {
      return this.get_tfiles_of_folder(tfile == null ? void 0 : tfile.parent, true);
    } else if (mode2 === "\u51FA\u94FE+\u5165\u94FE") {
      return this.get_links(tfile);
    } else if (mode2 === "\u5165\u94FE") {
      return this.get_inlinks(tfile);
    } else if (mode2 === "\u51FA\u94FE") {
      return this.get_outlinks(tfile);
    } else if (mode2 === "\u6240\u6709\u7B14\u8BB0") {
      return this.MDFiles;
    } else if (mode2 === "recent-files-obsidian") {
      let r = this.app.plugins.getPlugin("recent-files-obsidian");
      if (!r) {
        return [];
      }
      return Object.values(
        r.data.recentFiles
      ).map(
        (f) => this.app.vault.fileMap[f.path]
      ).filter((f) => f);
    } else if (mode2 === "\u7B14\u8BB0\u94FE\u6761") {
      return this.get_file_chain(
        tfile,
        Number(this.zig.settings.PrevChain),
        Number(this.zig.settings.NextChain)
      );
    } else {
      return [];
    }
  }
  get_first_note(tfile) {
    let res = new Array();
    res.push(tfile);
    let tmp = tfile;
    while (true) {
      let prev = this.get_prev_notes(tmp, this.prev, this.next, true);
      if (prev[0] && !res.includes(prev[1][0])) {
        res.unshift(prev[1][0]);
        tmp = prev[1][0];
      } else {
        break;
      }
    }
    return tmp;
  }
  get_last_note(tfile) {
    let res = new Array();
    res.push(tfile);
    let tmp = tfile;
    while (true) {
      let next = this.get_next_notes(tmp, this.prev, this.next, true);
      if (next[0] && !res.includes(next[1][0])) {
        res.push(next[1][0]);
        tmp = next[1][0];
      } else {
        break;
      }
    }
    return tmp;
  }
  get_file_chain(tfile = this.current_note, prev = 10, next = 10, with_self = true) {
    let res = new Array();
    if (with_self) {
      res.push(tfile);
    }
    let tmp = tfile;
    for (let i = prev; i != 0; i--) {
      let name = this.get_frontmatter(tmp, this.prev);
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.set_frontmatter(note, this.next, "");
        this.set_frontmatter(tmp, this.prev, "");
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = tfile;
    for (let i = next; i != 0; i--) {
      let name = this.get_frontmatter(tmp, this.next);
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.set_frontmatter(note, this.prev, "");
        this.set_frontmatter(tmp, this.next, "");
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    return res;
  }
  get_prev_notes(tfile, prev = "PrevNote", next = "NextNote", onlyFrontmatter = true) {
    let res = new Array();
    let notes = this.get_links(tfile);
    let meta = this.app.metadataCache.getFileCache(tfile);
    let flag = false;
    if (meta == null ? void 0 : meta.frontmatter) {
      let name = meta.frontmatter[prev];
      if (name) {
        let note = this.get_tfile(name, notes);
        res.push(note);
        flag = true;
      }
    }
    if (onlyFrontmatter) {
      return [flag, res];
    }
    for (let note of notes) {
      if (res.includes(note)) {
        continue;
      }
      if (!note) {
        continue;
      }
      let meta2 = this.app.metadataCache.getFileCache(note);
      if (meta2 == null ? void 0 : meta2.frontmatter) {
        let name = meta2.frontmatter[next];
        if (this.get_tfile(name, [tfile])) {
          res.push(note);
        }
      }
    }
    return [flag, res];
  }
  get_next_notes(tfile, prev = "PrevNote", next = "NextNote", onlyFrontmatter = true) {
    return this.get_prev_notes(tfile, next, prev, onlyFrontmatter);
  }
  open_prev_notes(tfile = this.current_note) {
    let res = this.get_prev_notes(tfile);
    if (res[0]) {
      this.open_note(res[1][0]);
    }
  }
  open_next_notes(tfile = this.current_note) {
    let res = this.get_next_notes(tfile);
    if (res[0]) {
      this.open_note(res[1][0]);
    }
  }
  get_neighbors(tfile) {
    let tmp = this.get_prev_notes(tfile, this.prev, this.next, true);
    let pflag = tmp[0];
    let prev = tmp[1];
    let tmp2 = this.get_next_notes(tfile, this.prev, this.next, true);
    let nflag = tmp2[0];
    let next = tmp2[1];
    if (pflag && nflag) {
      return [prev[0], next[0]];
    } else if (pflag) {
      return [prev[0], void 0];
    } else if (nflag) {
      return [void 0, next[0]];
    } else {
      return [void 0, void 0];
    }
  }
  async set_frontmatter(tfile, key, value) {
    await this.app.fileManager.processFrontMatter(tfile, (fm) => {
      console.log(`${tfile.basename}---${key}---${value}`);
      fm[key] = value;
    });
  }
  get_frontmatter(tfile, key) {
    let meta = this.app.metadataCache.getFileCache(tfile);
    if (meta == null ? void 0 : meta.frontmatter) {
      return meta.frontmatter[key];
    }
  }
  pop_node(tfile) {
    let neighbor = this.get_neighbors(tfile);
    if (neighbor[0] != null && neighbor[1] != null) {
      this.set_frontmatter(neighbor[0], this.next, `[[${neighbor[1].basename}]]`);
      this.set_frontmatter(neighbor[1], this.prev, `[[${neighbor[0].basename}]]`);
    } else if (neighbor[0] != null) {
      this.set_frontmatter(neighbor[0], this.next, ``);
    } else if (neighbor[1] != null) {
      this.set_frontmatter(neighbor[1], this.prev, ``);
    }
  }
  insert_node_as_head(tfile, anchor) {
    if (head == tfile) {
      return;
    }
    let head = this.get_first_note(anchor);
    this.set_frontmatter(tfile, this.next, `[[${head.basename}]]`);
    this.set_frontmatter(head, this.prev, `[[${tfile.basename}]]`);
  }
  insert_node_as_tail(tfile, anchor) {
    let tail = this.get_last_note(anchor);
    if (tfile == tail) {
      return;
    }
    this.set_frontmatter(tfile, this.prev, `[[${tail.basename}]]`);
    this.set_frontmatter(tail, this.next, `[[${tfile.basename}]]`);
  }
  insert_node_after(tfile, anchor) {
    let next = this.get_next_notes(anchor, this.prev, this.next, true);
    if (next[0] && next[1][0] != tfile && next[1][0] != anchor) {
      this.set_frontmatter(next[1][0], this.prev, `[[${tfile.basename}]]`);
      this.set_frontmatter(tfile, this.next, `[[${next[1][0].basename}]]`);
    }
    this.set_frontmatter(tfile, this.prev, `[[${anchor.basename}]]`);
    this.set_frontmatter(anchor, this.next, `[[${tfile.basename}]]`);
  }
  insert_node_before(tfile, anchor) {
    let prev = this.get_prev_notes(anchor, this.prev, this.next, true);
    if (prev[0] && prev[1][0] != tfile && prev[1][0] != anchor) {
      this.set_frontmatter(prev[1][0], this.next, `[[${tfile.basename}]]`);
      this.set_frontmatter(tfile, this.prev, `[[${prev[1][0].basename}]]`);
    }
    this.set_frontmatter(tfile, this.next, `[[${anchor.basename}]]`);
    this.set_frontmatter(anchor, this.prev, `[[${tfile.basename}]]`);
  }
  async rechain_folder(tfolder = null, mode2 = "suggester") {
    let notes = this.get_same_parent();
    let files = await this.suggester_sort(notes);
    for (let i = 0; i < files.length - 1; i++) {
      if (!(this.get_frontmatter(files[i], this.next) === `[[${files[i + 1].basename}]]`)) {
        this.set_frontmatter(files[i], this.next, `[[${files[i + 1].basename}]]`);
      }
      if (!(this.get_frontmatter(files[i + 1], this.prev) === `[[${files[i].basename}]]`)) {
        this.set_frontmatter(files[i + 1], this.prev, `[[${files[i].basename}]]`);
      }
    }
  }
  sort_tfiles(files, field) {
    if (typeof field === "string") {
      if (field === "name") {
        return files.sort(
          (a, b) => a.name.localeCompare(b.name)
        );
      } else if (field === "mtime") {
        return files.sort(
          (a, b) => a.stat.mtime - b.stat.mtime
        );
      } else if (field === "ctime") {
        return files.sort(
          (a, b) => a.stat.ctime - b.stat.ctime
        );
      } else if (field === "chain") {
        return this.sort_tfiles_by_chain(files);
      }
      return files;
    } else if (typeof field === "object") {
      if (field instanceof Array) {
        let nfiles = this.sort_tfiles(files, field[0]);
        if (field.length >= 2) {
          if (field[1] === "x") {
            return nfiles.reverse();
          }
        }
        return nfiles;
      }
    }
    return files;
  }
  sort_tfiles_by_chain(tfiles) {
    let notes = tfiles.map((f) => f);
    let res = [];
    while (notes.length > 0) {
      let note = notes[0];
      let tmp = [];
      let xchain = this.get_file_chain(note, -1, -1);
      for (let x of xchain) {
        if (notes.contains(x)) {
          tmp.push(x);
          notes.remove(x);
        }
      }
      res.push(tmp);
    }
    res = res.sort((a, b) => b.length - a.length);
    let rres = [];
    for (let i of res) {
      for (let j of i) {
        rres.push(j);
      }
    }
    return rres;
  }
  sort_tfiles_by_field(files, field) {
    let res = files.sort(
      (a, b) => {
        let ameta = this.app.metadataCache.getFileCache(a).frontmatter;
        let bmeta = this.app.metadataCache.getFileCache(b).frontmatter;
        if (!ameta && !bmeta) {
          return 0;
        } else if (!ameta) {
          return bmeta[field];
        } else if (!bmeta) {
          return ameta[mode];
        } else {
          return ameta[field] - bmeta[field];
        }
      }
    );
    return res;
  }
  async suggester_sort(tfiles) {
    if (!tfiles) {
      return [];
    }
    if (tfiles.length == 0) {
      return [];
    }
    ;
    let kv = {
      "name": "name",
      "ctime": "ctime",
      "mtime": "mtime",
      "name \u5012\u5E8F": ["name", "x"],
      "ctime \u5012\u5E8F": ["ctime", "x"],
      "mtime \u5012\u5E8F": ["mtime", "x"]
    };
    let field = await this.suggester(
      Object.keys(kv),
      Object.values(kv)
    );
    return this.sort_tfiles(tfiles, field);
  }
};
var ZigHolding = class extends import_obsidian.Plugin {
  async onload() {
    this.chain = new NoteChain(this);
    this.editor = new ZigEditor(this.app);
    this.app.zig = this;
    await this.loadSettings();
    this.dataview = await this.app.plugins.getPlugin(
      "dataview"
    );
    this.templater = await this.app.plugins.getPlugin(
      "templater-obsidian"
    );
    this.addCommand({
      id: "chain_insert_node",
      name: "Insert node of chain",
      callback: () => {
        this.chain_insert_node();
      }
    });
    this.addCommand({
      id: "chain_set_seq_note",
      name: "Reset the chain of current folder! Warning: It will reset your chain",
      callback: () => {
        this.chain.rechain_folder();
      }
    });
    this.addCommand({
      id: "open_notes_smarter",
      name: "Open note smarter",
      callback: () => {
        this.open_note_smarter();
      }
    });
    this.addCommand({
      id: "sugguster_open_note",
      name: "Open note",
      callback: () => {
        this.chain.sugguster_open_note();
      }
    });
    this.addCommand({
      id: "open_prev_notes",
      name: "Open prev note",
      callback: () => {
        this.chain.open_prev_notes();
      }
    });
    this.addCommand({
      id: "open_next_notes",
      name: "Open next note",
      callback: () => {
        this.chain.open_next_notes();
      }
    });
    this.addCommand({
      id: "open_note_chain",
      name: "Open chain of current file",
      callback: () => {
        this.open_note_chain();
      }
    });
    this.addCommand({
      id: "clear_inlinks",
      name: "Clear inlinks of current file",
      callback: () => {
        this.clear_inlinks();
      }
    });
    this.addCommand({
      id: "move_file_to_another_folder",
      name: "Move current file to another folder",
      callback: () => {
        this.chain.move_file_to_another_folder();
      }
    });
    this.addCommand({
      id: "replace_notes_with_regx",
      name: "Replace by regex",
      callback: () => {
        this.replace_notes_with_regx();
      }
    });
    this.addSettingTab(new ZigSettingTab(this.app, this));
    console.log("Zig-Holding:regeister ufunc_on_file_open");
    this.app.workspace.on("file-open", this.ufunc_on_file_open);
  }
  onunload() {
    console.log("Zig-Holding:unregeister ufunc_on_file_open");
    this.app.workspace.off("file-open", this.ufunc_on_file_open);
  }
  async ufunc_on_file_open(file) {
    let zh = await app.plugins.getPlugin("zig-holding");
    if (!zh) {
      return;
    }
    if (zh.settings.refreshDataView) {
      zh.app.commands.executeCommandById(
        "dataview:dataview-force-refresh-views"
      );
    }
    if (zh.settings.refreshTasks) {
      let target = await app.plugins.getPlugin("obsidian-tasks-plugin");
      target.cache.notifySubscribers();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async clear_inlinks(tfile = this.chain.current_note, mode2 = "suggester") {
    let notes = this.chain.get_inlinks(tfile);
    if (notes.length) {
      if (mode2 === "suggester") {
        mode2 = await this.suggester(
          ["\u5220\u9664\u94FE\u63A5", "\u66FF\u6362\u94FE\u63A5", "\u5220\u9664\u6BB5\u843D"],
          [["link", "del"], ["link", "rep"], ["para", "del"]]
        );
      }
      let reg = this.editor.regexp_link(tfile, mode2[0]);
      if (reg) {
        for (let note of notes) {
          let target;
          if (mode2[1] === "rep") {
            target = tfile.basename;
          } else {
            target = "";
          }
          this.editor.replace(note, reg, target);
        }
      }
    }
  }
  get prompt() {
    return get_tp_func(this.app, "tp.system.prompt");
  }
  async replace_notes_with_regx() {
    let notes = await this.chain.suggester_notes();
    if ((notes == null ? void 0 : notes.length) > 0) {
      try {
        let regs = await this.prompt("\u8981\u66FF\u6362\u7684\u6B63\u5219\u8868\u8FBE\u5F0F");
        if (regs == null) {
          return;
        }
        let reg = new RegExp(regs, "g");
        let target = await this.prompt("\u76EE\u6807\u5B57\u7B26\u4E32");
        if (target == null) {
          return;
        }
        target = target.trim().replace(
          /\\n/g,
          "\n"
        );
        console.log(regs, reg, target);
        for (let note of notes) {
          await this.editor.replace(note, reg, target);
        }
      } catch (error) {
        console.log(error);
      }
    }
  }
  get_tfile(path) {
    let files = app.vault.getMarkdownFiles();
    if (files.includes(path)) {
      return files[path];
    }
    for (let file of files) {
      if (file.name.toLowerCase().localeCompare(path.toLowerCase()) == 0) {
        return file;
      }
      if (file.basename.toLowerCase().localeCompare(path.toLowerCase()) == 0) {
        return file;
      }
      if (`[[${file.basename.toLowerCase()}]]`.localeCompare(path.toLowerCase()) == 0) {
        return file;
      }
    }
    return null;
  }
  get_tfile_config(tfile, suffix = "_config") {
    return this.get_tfile(tfile.basename + suffix);
  }
  async select_value_of_list(targets, prompt2 = null) {
    const target = await this.suggester(
      targets,
      targets,
      false,
      prompt2
    );
    return target;
  }
  async chain_insert_node() {
    let curr = this.chain.current_note;
    let notes = this.chain.get_tfiles_of_folder(curr == null ? void 0 : curr.parent, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    notes = notes.filter((f) => f != curr);
    const note = await this.suggester(
      (file) => this.tfile_to_string(
        file,
        this.settings.showLink ? ["PrevNote", "NextNote"] : [],
        "			\u26A1  "
      ),
      notes
    );
    if (!note) {
      return;
    }
    let mode2 = await this.select_value_of_list([
      "insert_node_after",
      "insert_node_before",
      "insert_node_as_head",
      "insert_node_as_tail"
    ], prompt = "Select Node Insert Mode.");
    if (!mode2) {
      return;
    }
    console.log(typeof mode2, mode2);
    if (this.settings.popFirst) {
      this.chain.pop_node(curr);
    }
    if (mode2 === "insert_node_as_head") {
      this.chain.insert_node_as_head(curr, note);
    } else if (mode2 === "insert_node_as_tail") {
      this.chain.insert_node_as_tail(curr, note);
    } else if (mode2 === "insert_node_before") {
      this.chain.insert_node_before(curr, note);
    } else if (mode2 === "insert_node_after") {
      this.chain.insert_node_after(curr, note);
    } else {
      return;
    }
    if (this.settings.openLink) {
      if (note) {
        if (this.settings.newTab) {
          this.app.workspace.getLeaf(true).openFile(note);
        } else {
          this.app.workspace.activeLeaf.openFile(note);
        }
      }
    }
  }
  tfile_to_string(tfile, fields, seq) {
    let meta = this.app.metadataCache.getFileCache(tfile);
    let items = new Array();
    items.push(tfile.basename);
    for (let field of fields) {
      try {
        items.push(meta.frontmatter[field]);
      } catch (error) {
        items.push("-");
      }
    }
    return items.join(seq);
  }
  async open_note_smarter() {
    let curr = this.chain.current_note;
    let notes = await this.chain.suggester_notes(curr, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    const note = await this.suggester(
      (file) => file.path,
      notes
    );
    await this.chain.open_note(note);
  }
  get suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get_file_chain(curr, prev = 10, next = 10, sameFolder = false) {
    var _a, _b;
    if (curr === null) {
      curr = this.app.workspace.getActiveFile();
    }
    let res = Array();
    res.push(curr);
    let tmp = curr;
    for (let i = prev; i != 0; i--) {
      let meta = this.app.metadataCache.getFileCache(tmp);
      if (!meta) {
        break;
      }
      let name = (_a = meta.frontmatter) == null ? void 0 : _a.PrevNote;
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note | res.includes(note)) {
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = curr;
    for (let i = next; i != 0; i--) {
      let meta = this.app.metadataCache.getFileCache(tmp);
      if (!meta) {
        break;
      }
      let name = (_b = meta.frontmatter) == null ? void 0 : _b.NextNote;
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note | res.includes(note)) {
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    if (sameFolder) {
      res.push(null);
      let afiles = this.app.vault.getMarkdownFiles();
      for (let f of afiles) {
        if (f.parent == (curr == null ? void 0 : curr.parent)) {
          if (!res.includes(f)) {
            res.push(f);
          }
        }
      }
      res = res.filter(
        (file) => file === null | (file == null ? void 0 : file.path.startsWith(curr.parent.path))
      );
    }
    return res;
  }
  async open_note_chain() {
    let curr = this.app.workspace.getActiveFile();
    let files = this.get_file_chain(
      curr,
      Number(this.settings.PrevChain),
      Number(this.settings.NextChain),
      this.settings.sameFolder
    );
    const note = await this.suggester(
      (file) => {
        if (!file) {
          return "-----\u{1F4C2}-----";
        } else if (file == curr) {
          return `\u{1F3E0} ${curr.basename}`;
        } else {
          return file.path.slice(curr.parent.path.length + 1).slice(0, -3);
        }
      },
      files
    );
    if (note) {
      if (this.settings.newTab) {
        this.app.workspace.getLeaf(true).openFile(note);
      } else {
        this.app.workspace.activeLeaf.openFile(note);
      }
    }
  }
};
var ZigSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Zig Holding" });
    containerEl.createEl("h3", { text: "Switch Note" });
    new import_obsidian.Setting(containerEl).setName("newTab").setDesc("\u662F\u5426\u5728\u65B0\u6807\u7B7E\u4E2D\u6253\u5F00\u7B14\u8BB0?").addToggle(
      (text) => text.setValue(this.plugin.settings.newTab).onChange(async (value) => {
        this.plugin.settings.newTab = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("withSelf").setDesc("\u662F\u5426\u663E\u793A\u5F53\u524D\u7B14\u8BB0?").addToggle(
      (text) => text.setValue(this.plugin.settings.withSelf).onChange(async (value) => {
        this.plugin.settings.withSelf = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h4", { text: "Open note in same folder" });
    new import_obsidian.Setting(containerEl).setName("reverse").setDesc("\u662F\u5426\u9006\u5411\u6392\u5E8F?").addToggle(
      (text) => text.setValue(this.plugin.settings.reverse).onChange(async (value) => {
        this.plugin.settings.reverse = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("field").setDesc("\u7B14\u8BB0\u6392\u5E8F\u5B57\u6BB5\uFF1Amtime\uFF0C\u4FEE\u6539\u65F6\u95F4\uFF1Bctime\uFF0C\u521B\u5EFA\u65F6\u95F4\uFF1Bname,\u6587\u4EF6\u540D\uFF1B\u6216\u5176\u5B83\u5143\u6570\u636E\u5B57\u6BB5\u3002").addText((text) => text.setValue(this.plugin.settings.field).onChange(async (value) => {
      this.plugin.settings.field = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h4", { text: "Open note chain" });
    new import_obsidian.Setting(containerEl).setName("PrevChain").setDesc("\u524D\u7F6E\u7B14\u8BB0\u6570\u76EE").addText((text) => text.setValue(this.plugin.settings.PrevChain).onChange(async (value) => {
      this.plugin.settings.PrevChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("NextChain").setDesc("\u540E\u7F6E\u7B14\u8BB0\u6570\u76EE").addText((text) => text.setValue(this.plugin.settings.NextChain).onChange(async (value) => {
      this.plugin.settings.NextChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("sameFolder").setDesc("\u4EC5\u663E\u793A\u5F53\u524D\u6587\u4EF6\u5939\u4E2D\u94FE\u8DEF\uFF0C\u540C\u65F6\u5C55\u793A\u4E0D\u5728\u94FE\u8DEF\u7684\u6587\u4EF6").addToggle(
      (text) => text.setValue(this.plugin.settings.sameFolder).onChange(async (value) => {
        this.plugin.settings.sameFolder = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Note Chain" });
    new import_obsidian.Setting(containerEl).setName("showLink").setDesc("\u662F\u5426\u9009\u62E9\u65F6\u663E\u793A\u7B14\u8BB0\u94FE\u63A5").addToggle(
      (text) => text.setValue(this.plugin.settings.showLink).onChange(async (value) => {
        this.plugin.settings.showLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("popFirst").setDesc("\u63D2\u5165\u524D\u94FE\u63A5\u5F53\u524D\u7B14\u8BB0\u524D\u540E\u7F6E\u7B14\u8BB0").addToggle(
      (text) => text.setValue(this.plugin.settings.popFirst).onChange(async (value) => {
        this.plugin.settings.popFirst = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("openLink").setDesc("\u9009\u62E9\u540E\u662F\u5426\u6253\u5F00\u7B14\u8BB0").addToggle(
      (text) => text.setValue(this.plugin.settings.openLink).onChange(async (value) => {
        this.plugin.settings.openLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("allFiles").setDesc("\u662F\u5426\u4ECE\u6240\u6709\u7B14\u8BB0\u4E2D\u9009\u62E9").addToggle(
      (text) => text.setValue(this.plugin.settings.allFiles).onChange(async (value) => {
        this.plugin.settings.allFiles = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "\u521D\u59CB\u5316" });
    new import_obsidian.Setting(containerEl).setName("refreshDataView").setDesc("\u6253\u5F00\u65B0\u7B14\u8BB0\u65F6\u5237\u65B0Dataview\uFF1F").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshDataView).onChange(async (value) => {
        this.plugin.settings.refreshDataView = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("refreshTasks").setDesc("\u6253\u5F00\u65B0\u7B14\u8BB0\u65F6\u5237\u65B0Tasks\uFF1F").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshTasks).onChange(async (value) => {
        this.plugin.settings.refreshTasks = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgXHJcblx0QXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgXHJcblx0UGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLFxyXG5cdERhdGF2aWV3UGx1Z2luLFxyXG5cdFRGaWxlLFRGb2xkZXJcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcclxuXHJcbmludGVyZmFjZSBaaWdTZXR0aW5ncyB7XHJcblx0bmV3VGFiOiBib29sZWFuO1xyXG5cdHdpdGhTZWxmOmJvb2xlYW47XHJcblx0cmV2ZXJzZTpib29sZWFuO1xyXG5cdGZpZWxkOnN0cmluZztcclxuXHRQcmV2Q2hhaW46c3RyaW5nO1xyXG5cdE5leHRDaGFpbjpzdHJpbmc7XHJcblx0c2hvd0xpbms6Ym9vbGVhbjtcclxuXHRvcGVuTGluazpib29sZWFuO1xyXG5cdHJlZnJlc2hEYXRhVmlldzpib29sZWFuO1xyXG5cdHJlZnJlc2hUYXNrczpib29sZWFuLFxyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBaaWdTZXR0aW5ncyA9IHtcclxuXHRuZXdUYWIgOiB0cnVlLFxyXG5cdHdpdGhTZWxmIDogdHJ1ZSxcclxuXHRyZXZlcnNlIDogdHJ1ZSxcclxuXHRmaWVsZCA6IFwiTklEXCIsXHJcblx0UHJldkNoYWluIDogXCIxMFwiLFxyXG5cdE5leHRDaGFpbiA6IFwiMTBcIixcclxuXHRzaG93TGluayA6IHRydWUsXHJcblx0b3BlbkxpbmsgOiB0cnVlLFxyXG5cdHJlZnJlc2hEYXRhVmlldyA6IHRydWUsXHJcblx0cmVmcmVzaFRhc2tzIDogdHJ1ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRfdHBfZnVuYyhhcHA6QXBwLHRhcmdldDpzdHJpbmcpIHtcclxuXHQvLyBcdTgzQjdcdTUzRDYgIHRlbXBsYXRlciBcdTUxRkRcdTY1NzBcclxuXHQvLyBnZXRfdHBfZnVuYyhcInRwLnN5c3RlbS5wcm9tcHRcIilcclxuXHJcblx0bGV0IHRlbXBsYXRlciA9IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcclxuXHRcdFwidGVtcGxhdGVyLW9ic2lkaWFuXCJcclxuXHQpO1xyXG5cclxuXHRsZXQgaXRlbXMgPSB0YXJnZXQuc3BsaXQoXCIuXCIpO1xyXG5cdGlmKGl0ZW1zWzBdLmxvY2FsZUNvbXBhcmUoXCJ0cFwiKSE9MCB8fCBpdGVtcy5sZW5ndGghPTMpe3JldHVybiB1bmRlZmluZWQ7fVxyXG5cdFxyXG5cdGxldCBtb2R1bGVzID0gdGVtcGxhdGVyLnRlbXBsYXRlci5mdW5jdGlvbnNfZ2VuZXJhdG9yLlxyXG5cdFx0aW50ZXJuYWxfZnVuY3Rpb25zLm1vZHVsZXNfYXJyYXkuZmlsdGVyKFxyXG5cdFx0XHQoaXRlbSk9PihpdGVtLm5hbWUubG9jYWxlQ29tcGFyZShpdGVtc1sxXSk9PTApXHJcblx0XHQpO1xyXG5cclxuXHRpZihtb2R1bGVzLmxlbmd0aD09MCl7cmV0dXJuIHVuZGVmaW5lZH1cclxuXHRcclxuXHRyZXR1cm4gbW9kdWxlc1swXS5zdGF0aWNfZnVuY3Rpb25zLmdldChpdGVtc1syXSk7XHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgWmlnRWRpdG9ye1xyXG5cdGFwcDpBcHA7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDpBcHApe1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0fVxyXG5cclxuXHRyZWdleHBfbGluayh0ZmlsZTpURmlsZSxtb2RlOnN0cmluZyl7XHJcblx0XHQvL1tbbm90ZXx8YWxpYXNdXVxyXG5cdFx0aWYobW9kZT09PSdsaW5rJyl7XHJcblx0XHRcdHJldHVybiBuZXcgUmVnRXhwKGBcXFxcW1xcXFxbJHt0ZmlsZS5iYXNlbmFtZX1cXFxcfD8uKlxcXFxdXFxcXF1gLCdnJyk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vcGFyYWdyYXBoXHJcblx0XHRpZihtb2RlPT09J3BhcmEnKXtcclxuXHRcdFx0cmV0dXJuIG5ldyBSZWdFeHAoYC4qXFxcXFtcXFxcWyR7dGZpbGUuYmFzZW5hbWV9XFxcXHw/LipcXFxcXVxcXFxdLipgLCdnJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXBsYWNlKHRmaWxlOlRGaWxlLHJlZ2V4LHRhcmdldDpzdHJpbmcpe1xyXG5cdFx0aWYodHlwZW9mIHJlZ2V4ID09PSAnc3RyaW5nJyl7XHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0LnByb2Nlc3ModGZpbGUsKGRhdGEpPT57XHJcblx0XHRcdFx0aWYoZGF0YS5pbmRleE9mKHJlZ2V4KT4tMSl7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnUmVwbGFjZTogJyx0ZmlsZS5wYXRoKTtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhLnJlcGxhY2UocmVnZXgsIHRhcmdldCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KVxyXG5cdFx0fWVsc2UgaWYocmVnZXggaW5zdGFuY2VvZiBSZWdFeHApe1xyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5wcm9jZXNzKHRmaWxlLChkYXRhKT0+e1xyXG5cdFx0XHRcdGlmKGRhdGEubWF0Y2gocmVnZXgpKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdSZXBsYWNlOiAnLHRmaWxlLnBhdGgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGEucmVwbGFjZShyZWdleCwgdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIE5vdGVDaGFpbntcclxuXHR6aWc6WmlnSG9sZGluZztcclxuXHRhcHA6QXBwO1xyXG5cdHByZXY6c3RyaW5nO1xyXG5cdG5leHQ6c3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih6aWc6WmlnSG9sZGluZyxwcmV2PVwiUHJldk5vdGVcIixuZXh0PVwiTmV4dE5vdGVcIikge1xyXG5cdFx0dGhpcy56aWcgPSB6aWc7XHJcblx0XHR0aGlzLmFwcCA9IHppZy5hcHA7XHJcblx0XHR0aGlzLnByZXYgPSBwcmV2O1xyXG5cdFx0dGhpcy5uZXh0ID0gbmV4dDtcclxuXHJcblx0XHR0aGlzLmR2X2FwaSA9IHRoaXMuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFxyXG5cdFx0XHRcImRhdGF2aWV3XCJcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRnZXQgZmluZF90ZmlsZSgpe1xyXG5cdFx0cmV0dXJuIGdldF90cF9mdW5jKHRoaXMuYXBwLCd0cC5maWxlLmZpbmRfdGZpbGUnKTtcclxuXHJcblx0fVxyXG5cclxuXHRnZXQgc3VnZ2VzdGVyKCl7XHJcblx0XHRyZXR1cm4gZ2V0X3RwX2Z1bmModGhpcy5hcHAsJ3RwLnN5c3RlbS5zdWdnZXN0ZXInKTtcclxuXHR9XHJcblxyXG5cdGdldF9hbGxfZm9sZGVycyhzb3J0X21vZGU9Jycpe1xyXG5cdFx0cmV0dXJuIHRoaXMuYXBwLnZhdWx0LmdldEFsbEZvbGRlcnMoKTtcclxuXHR9XHJcblx0XHJcblx0c29ydF9mb2xkZXJzX2J5X210aW1lKGZvbGRlcnM6QXJyYXk8VEZvbGRlcj4scmV2ZXJzZT10cnVlKXtcclxuXHRcdGZ1bmN0aW9uIHVmdW5jKGY6VEZvbGRlcil7XHJcblx0XHRcdHJldHVybiBNYXRoLm1heChcclxuXHRcdFx0XHQuLi5mLmNoaWxkcmVuLmZpbHRlcihmPT5mLmJhc2VuYW1lKS5tYXAoZj0+Zi5zdGF0XHJcblx0XHRcdFx0Lm10aW1lKVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0XHRsZXQgcmVzID0gZm9sZGVycy5zb3J0KChhLGIpPT51ZnVuYyhhKS11ZnVuYyhiKSk7XHJcblx0XHRpZihyZXZlcnNlKXtcclxuXHRcdFx0cmVzID0gcmVzLnJldmVyc2UoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IGZvbGRlcnMgPSB0aGlzLmdldF9hbGxfZm9sZGVycygpO1xyXG5cdFx0Zm9sZGVycyA9IHRoaXMuc29ydF9mb2xkZXJzX2J5X210aW1lKGZvbGRlcnNcclxuXHRcdCkuZmlsdGVyKGY9PmYhPXRmaWxlLnBhcmVudCk7XHJcblxyXG5cdFx0aWYodGZpbGUuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdGZvbGRlcnMgPSBmb2xkZXJzLmZpbHRlcihmPT50aGlzLmZpbHRlcl91c2VyX2lnbm9yZShmKSk7XHJcblx0XHR9XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgZm9sZGVyID0gYXdhaXQgdGhpcy5zdWdnZXN0ZXIoKGYpPT5mLnBhdGgsZm9sZGVycyk7XHJcblx0XHRcdC8vIFx1NzlGQlx1NTJBOFx1N0IxNFx1OEJCMFxyXG5cdFx0XHRsZXQgZHN0ID0gZm9sZGVyLnBhdGgrXCIvXCIrdGZpbGUuYmFzZW5hbWUrXCIuXCIrdGZpbGUuZXh0ZW5zaW9uO1xyXG5cdFx0XHRhd2FpdCBhcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZSh0ZmlsZSxkc3QpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZpbHRlcl91c2VyX2lnbm9yZShub3RlKXtcclxuXHRcdGlmKCEodGhpcy5hcHAudmF1bHQuY29uZmlnLmF0dGFjaG1lbnRGb2xkZXJQYXRoPT09Jy4vJykpe1xyXG5cdFx0XHRpZihub3RlLnBhdGguc3RhcnRzV2l0aChcclxuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5jb25maWcuYXR0YWNobWVudEZvbGRlclBhdGgpXHJcblx0XHRcdCl7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZih0aGlzLmFwcC52YXVsdC5jb25maWcudXNlcklnbm9yZUZpbHRlcnMpe1xyXG5cdFx0XHRmb3IobGV0IHggb2YgdGhpcy5hcHAudmF1bHQuY29uZmlnLnVzZXJJZ25vcmVGaWx0ZXJzKXtcclxuXHRcdFx0XHRpZihub3RlLnBhdGguc3RhcnRzV2l0aCh4KSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2d1c3Rlcl9ub3RlKCl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLnNvcnRfdGZpbGVzKFxyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpLFxyXG5cdFx0XHRbJ210aW1lJywneCddXHJcblx0XHQpLmZpbHRlcihmPT50aGlzLmZpbHRlcl91c2VyX2lnbm9yZShmKSk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgbm90ZSA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyKGY9PmYucGF0aCxub3Rlcyk7XHJcblx0XHRcdHJldHVybiBub3RlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9wZW5fbm90ZSh0ZmlsZTpURmlsZSxuZXdfdGFiPWZhbHNlKXtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0aWYodGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYucGlubmVkIHx8IG5ld190YWIpe1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpLm9wZW5GaWxlKHRmaWxlKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYub3BlbkZpbGUodGZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdndXN0ZXJfb3Blbl9ub3RlKCl7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgbm90ZSA9IGF3YWl0IHRoaXMuc3VnZ3VzdGVyX25vdGUoKTtcclxuXHRcdFx0Y29uc29sZS5sb2cobm90ZSk7XHJcblx0XHRcdHRoaXMub3Blbl9ub3RlKG5vdGUpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHJcblx0Z2V0X3RmaWxlKHBhdGgpe1xyXG5cdFx0bGV0IG5hbWUgPSBwYXRoLnNwbGl0KCd8JylbMF0ucmVwbGFjZSgnW1snLCcnKS5yZXBsYWNlKCddXScsJycpO1xyXG5cdFx0cmV0dXJuIHRoaXMuZmluZF90ZmlsZShuYW1lKTtcclxuXHR9XHJcblxyXG5cdGdldCBNREZpbGVzKCl7XHJcblx0XHRyZXR1cm4gYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHR9XHJcblxyXG5cdGdldCBjdXJyZW50X25vdGUoKXtcclxuXHRcdHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cdH1cclxuXHJcblx0Z2V0X2lubGlua3ModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IHJlcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRcdGxldCBpbmxpbmtzID0gdGhpcy5kdl9hcGkuaW5kZXgubGlua3MuaW52TWFwLmdldCh0ZmlsZS5wYXRoKTtcclxuXHRcdGlmKGlubGlua3M9PXVuZGVmaW5lZCl7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gQXJyYXkuZnJvbShpbmxpbmtzKS5tYXAoXHJcblx0XHRcdFx0KHBhdGgpPT4odGhpcy5hcHAudmF1bHQuZmlsZU1hcFtwYXRoXSlcclxuXHRcdFx0KS5maWx0ZXIoXHJcblx0XHRcdFx0KGl0ZW0pPT4oaXRlbSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X291dGxpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCByZXMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdGxldCBpbmxpbmtzID0gdGhpcy5kdl9hcGkuaW5kZXgubGlua3MubWFwLmdldCh0ZmlsZS5wYXRoKTtcclxuXHRcdGlmKGlubGlua3M9PXVuZGVmaW5lZCl7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gQXJyYXkuZnJvbShpbmxpbmtzKS5tYXAoXHJcblx0XHRcdFx0KHBhdGgpPT4odGhpcy5hcHAudmF1bHQuZmlsZU1hcFtwYXRoXSlcclxuXHRcdFx0KS5maWx0ZXIoXHJcblx0XHRcdFx0KGl0ZW0pPT4oaXRlbSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2xpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBpbmxpbmtzID0gdGhpcy5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHRsZXQgb3V0bGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyh0ZmlsZSk7XHJcblx0XHRmb3IobGV0IGxpbmsgb2YgaW5saW5rcyl7XHJcblx0XHRcdGlmKCFvdXRsaW5rcy5pbmNsdWRlcyhsaW5rKSl7XHJcblx0XHRcdFx0b3V0bGlua3MucHVzaChsaW5rKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb3V0bGlua3M7XHJcblx0fVxyXG5cclxuXHRnZXRfc2FtZV9wYXJlbnQodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0X3RmaWxlc19vZl9mb2xkZXIodGZpbGU/LnBhcmVudCxmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRnZXRfdGZpbGVzX29mX2ZvbGRlcih0Zm9sZGVyOlRGb2xkZXIsd2l0aF9jaGlsZHJlbj10cnVlKXtcclxuXHRcdGlmKHRmb2xkZXI9PW51bGwpe3JldHVybiBbXTt9XHJcblx0XHRsZXQgbm90ZXMgPSBbXTtcclxuXHRcdGZvcihsZXQgYyBvZiB0Zm9sZGVyLmNoaWxkcmVuKXtcclxuXHRcdFx0aWYoYy5iYXNlbmFtZSAmJiBjLmV4dGVuc2lvbj09PSdtZCcpe1xyXG5cdFx0XHRcdG5vdGVzLnB1c2goYyk7XHJcblx0XHRcdH1lbHNlIGlmKGMuY2hpbGRyZW4gJiYgd2l0aF9jaGlsZHJlbil7XHJcblx0XHRcdFx0bGV0IHRtcCA9IHRoaXMuZ2V0X3RmaWxlc19vZl9mb2xkZXIoYyk7XHJcblx0XHRcdFx0Zm9yKGxldCB4IG9mIHRtcCl7XHJcblx0XHRcdFx0XHRub3Rlcy5wdXNoKHgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5vdGVzO1xyXG5cclxuXHR9XHJcblxyXG5cdHBhcnNlX2l0ZW0oaXRlbSl7XHJcblx0XHR2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxKTtcclxuXHRcdGxldCBrd2FyZ3MgPSB7fVxyXG5cdFx0aWYoYXJncy5sZW5ndGg9PTEpe1xyXG5cdFx0XHRrd2FyZ3MgPSBhcmdzWzBdO1xyXG5cdFx0fVxyXG5cdFx0bGV0IHNlcSA9IGt3YXJnc1snc2VxJ107XHJcblxyXG5cdFx0aWYoc2VxIT1udWxsKXtcclxuXHRcdFx0cmV0dXJuIGAke3NlcX0gLT4gJHtpdGVtfWA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbTtcclxuXHR9XHJcblxyXG5cdHBhcnNlX2l0ZW1zKGl0ZW1zOkFycmF5PHN0cmluZ3xURmlsZT4pe1xyXG5cdFx0dmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuc2xpY2UoMSk7XHJcblx0XHRsZXQga3dhcmdzID0ge31cclxuXHRcdGlmKGFyZ3MubGVuZ3RoPT0xKXtcclxuXHRcdFx0a3dhcmdzID0gYXJnc1swXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgcmVzID0gW107XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHR3aGlsZShpPGl0ZW1zLmxlbmd0aCl7XHJcblx0XHRcdGlmKGt3YXJnc1snc2VxJ10pe1xyXG5cdFx0XHRcdHJlcy5wdXNoKHRoaXMucGFyc2VfaXRlbShpdGVtc1tpXSx7J3NlcSc6aSsxfSkpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXMucHVzaCh0aGlzLnBhcnNlX2l0ZW0oaXRlbXNbaV0pKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aSsrO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2dlc3Rlcl9ub3Rlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxjdXJyX2ZpcnN0PXRydWUsc21vZGU9Jycpe1xyXG5cdFx0bGV0IGt2ID0gW1x0XHRcdFxyXG5cdFx0XHQnXHU1NDBDXHU3RUE3XHU3NkVFXHU1RjU1JyxcclxuXHRcdFx0J1x1N0IxNFx1OEJCMFx1OTRGRVx1Njc2MScsXHJcblx0XHRcdCdcdTU0MENcdTdFQTdcdTc2RUVcdTVGNTUrXHU1QjUwXHU3NkVFXHU1RjU1JyxcclxuXHRcdFx0J1x1NTFGQVx1OTRGRStcdTUxNjVcdTk0RkUnLFxyXG5cdFx0XHQnXHU1MTY1XHU5NEZFJyxcclxuXHRcdFx0J1x1NTFGQVx1OTRGRScsXHJcblx0XHRcdCdcdTYyNDBcdTY3MDlcdTdCMTRcdThCQjAnLFxyXG5cdFx0XHQncmVjZW50LWZpbGVzLW9ic2lkaWFuJ1xyXG5cdFx0XVxyXG5cdFx0aWYoY3Vycl9maXJzdCl7XHJcblx0XHRcdGt2LnVuc2hpZnQoJ1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCcpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0a3YucHVzaCgnXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwJylcclxuXHRcdH1cclxuXHRcdGxldCBtb2RlID0gJyc7XHJcblx0XHRpZihrdi5jb250YWlucyhzbW9kZSkpe1xyXG5cdFx0XHRtb2RlID0gc21vZGU7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0bW9kZSA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyKGt2LGt2KTtcclxuXHRcdH1cclxuXHRcdGlmKG1vZGU9PT0nXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwJyl7XHJcblx0XHRcdHJldHVybiBbdGZpbGVdO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTU0MENcdTdFQTdcdTc2RUVcdTVGNTUnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3NhbWVfcGFyZW50KHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0nXHU1NDBDXHU3RUE3XHU3NkVFXHU1RjU1K1x1NUI1MFx1NzZFRVx1NUY1NScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcih0ZmlsZT8ucGFyZW50LHRydWUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTUxRkFcdTk0RkUrXHU1MTY1XHU5NEZFJyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NTE2NVx1OTRGRScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NTFGQVx1OTRGRScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTYyNDBcdTY3MDlcdTdCMTRcdThCQjAnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuTURGaWxlcztcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0ncmVjZW50LWZpbGVzLW9ic2lkaWFuJyl7XHJcblx0XHRcdGxldCByID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJyZWNlbnQtZmlsZXMtb2JzaWRpYW5cIik7XHJcblx0XHRcdGlmKCFyKXtyZXR1cm4gW107fVxyXG5cdFx0XHRyZXR1cm4gT2JqZWN0LnZhbHVlcyhcclxuXHRcdFx0XHRyLmRhdGEucmVjZW50RmlsZXMpLm1hcChmPT50aGlzLmFwcC52YXVsdC5maWxlTWFwW2YucGF0aF1cclxuXHRcdFx0KS5maWx0ZXIoZj0+Zik7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1N0IxNFx1OEJCMFx1OTRGRVx1Njc2MScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfZmlsZV9jaGFpbihcclxuXHRcdFx0XHR0ZmlsZSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy56aWcuc2V0dGluZ3MuUHJldkNoYWluKSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy56aWcuc2V0dGluZ3MuTmV4dENoYWluKVxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRnZXRfZmlyc3Rfbm90ZSh0ZmlsZSl7XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcclxuXHRcdGxldCB0bXAgPSB0ZmlsZTtcclxuXHRcdHdoaWxlKHRydWUpe1xyXG5cdFx0XHRsZXQgcHJldiA9IHRoaXMuZ2V0X3ByZXZfbm90ZXModG1wLHRoaXMucHJldix0aGlzLm5leHQsdHJ1ZSk7XHJcblx0XHRcdGlmKHByZXZbMF0gJiYgIXJlcy5pbmNsdWRlcyhwcmV2WzFdWzBdKSl7XHJcblx0XHRcdFx0cmVzLnVuc2hpZnQocHJldlsxXVswXSk7XHJcblx0XHRcdFx0dG1wID0gcHJldlsxXVswXVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRtcDtcclxuXHR9XHJcblxyXG5cdGdldF9sYXN0X25vdGUodGZpbGUpe1xyXG5cdFx0bGV0IHJlcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0cmVzLnB1c2godGZpbGUpO1xyXG5cdFx0bGV0IHRtcCA9IHRmaWxlO1xyXG5cdFx0d2hpbGUodHJ1ZSl7XHJcblx0XHRcdGxldCBuZXh0ID0gdGhpcy5nZXRfbmV4dF9ub3Rlcyh0bXAsdGhpcy5wcmV2LHRoaXMubmV4dCx0cnVlKTtcclxuXHRcdFx0aWYobmV4dFswXSAmJiAhcmVzLmluY2x1ZGVzKG5leHRbMV1bMF0pKXtcclxuXHRcdFx0XHRyZXMucHVzaChuZXh0WzFdWzBdKTtcclxuXHRcdFx0XHR0bXAgPSBuZXh0WzFdWzBdO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRtcDtcclxuXHR9XHJcblxyXG5cdGdldF9maWxlX2NoYWluKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLHByZXY9MTAsbmV4dD0xMCx3aXRoX3NlbGY9dHJ1ZSl7XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRpZih3aXRoX3NlbGYpe1xyXG5cdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB0bXAgPSB0ZmlsZTtcclxuXHRcdGZvcihsZXQgaT1wcmV2O2khPTA7aS0tKXtcclxuXHRcdFx0bGV0IG5hbWUgPSB0aGlzLmdldF9mcm9udG1hdHRlcih0bXAsdGhpcy5wcmV2KTtcclxuXHRcdFx0aWYoIW5hbWUpe2JyZWFrfVxyXG5cdFxyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3RmaWxlKG5hbWUpO1xyXG5cdFx0XHRpZighbm90ZSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNlIGlmKHJlcy5pbmNsdWRlcyhub3RlKSl7XHJcblx0XHRcdFx0Ly8gXHU2QkNGXHU2QjIxXHU4MUVBXHU1MkE4XHU1MjIwXHU5NjY0XHU1RkFBXHU3M0FGXHU5NEZFXHU2M0E1XHJcblx0XHRcdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIobm90ZSx0aGlzLm5leHQsXCJcIik7XHJcblx0XHRcdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIodG1wLHRoaXMucHJldixcIlwiKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnVuc2hpZnQobm90ZSk7XHJcblx0XHRcdFx0dG1wID0gbm90ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dG1wID0gdGZpbGU7XHJcblx0XHRmb3IobGV0IGk9bmV4dDtpIT0wO2ktLSl7XHJcblx0XHRcdGxldCBuYW1lID0gdGhpcy5nZXRfZnJvbnRtYXR0ZXIodG1wLHRoaXMubmV4dCk7XHJcblx0XHRcdGlmKCFuYW1lKXticmVha31cclxuXHRcclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZShuYW1lKTtcclxuXHRcdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZSBpZihyZXMuaW5jbHVkZXMobm90ZSkpe1xyXG5cdFx0XHRcdC8vIFx1NkJDRlx1NkIyMVx1ODFFQVx1NTJBOFx1NTIyMFx1OTY2NFx1NUZBQVx1NzNBRlx1OTRGRVx1NjNBNVxyXG5cdFx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKG5vdGUsdGhpcy5wcmV2LFwiXCIpO1xyXG5cdFx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKHRtcCx0aGlzLm5leHQsXCJcIik7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5wdXNoKG5vdGUpO1xyXG5cdFx0XHRcdHRtcCA9IG5vdGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRnZXRfcHJldl9ub3Rlcyh0ZmlsZSxwcmV2PVwiUHJldk5vdGVcIixuZXh0PVwiTmV4dE5vdGVcIixvbmx5RnJvbnRtYXR0ZXI9dHJ1ZSl7XHJcblx0XHQvLyBvbmx5RnJvbnRtYXR0ZXJcdUZGMENcdTUzRUFcdTY0MUNcdTdEMjIgZnJvbnRtYXR0ZXIgXHU0RTJEXHU3Njg0XHU5NEZFXHU2M0E1XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9saW5rcyh0ZmlsZSk7XHJcblx0XHRcclxuXHRcdGxldCBtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0bGV0IGZsYWcgPSBmYWxzZTtcclxuXHRcdGlmKG1ldGE/LmZyb250bWF0dGVyKXtcclxuXHRcdFx0bGV0IG5hbWUgPSBtZXRhLmZyb250bWF0dGVyW3ByZXZdO1xyXG5cdFx0XHRpZihuYW1lKXtcclxuXHRcdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3RmaWxlKG5hbWUsbm90ZXMpO1xyXG5cdFx0XHRcdHJlcy5wdXNoKG5vdGUpO1xyXG5cdFx0XHRcdGZsYWcgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihvbmx5RnJvbnRtYXR0ZXIpe1xyXG5cdFx0XHRyZXR1cm4gW2ZsYWcscmVzXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Zm9yKGxldCBub3RlIG9mIG5vdGVzKXtcclxuXHRcdFx0aWYocmVzLmluY2x1ZGVzKG5vdGUpKXtjb250aW51ZX1cclxuXHRcdFx0aWYoIW5vdGUpe2NvbnRpbnVlfVxyXG5cclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShub3RlKTtcclxuXHRcdFx0aWYobWV0YT8uZnJvbnRtYXR0ZXIpe1xyXG5cdFx0XHRcdGxldCBuYW1lID0gbWV0YS5mcm9udG1hdHRlcltuZXh0XTtcclxuXHRcdFx0XHRpZih0aGlzLmdldF90ZmlsZShuYW1lLFt0ZmlsZV0pKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKG5vdGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFtmbGFnLHJlc107XHJcblx0fVxyXG5cclxuXHRnZXRfbmV4dF9ub3Rlcyh0ZmlsZSxwcmV2PVwiUHJldk5vdGVcIixuZXh0PVwiTmV4dE5vdGVcIixvbmx5RnJvbnRtYXR0ZXI9dHJ1ZSl7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRfcHJldl9ub3Rlcyh0ZmlsZSxuZXh0LHByZXYsb25seUZyb250bWF0dGVyKTtcclxuXHR9XHJcblxyXG5cdG9wZW5fcHJldl9ub3Rlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgcmVzID0gdGhpcy5nZXRfcHJldl9ub3Rlcyh0ZmlsZSk7XHJcblx0XHRpZihyZXNbMF0pe3RoaXMub3Blbl9ub3RlKHJlc1sxXVswXSk7fVxyXG5cdH1cclxuXHRcclxuXHRvcGVuX25leHRfbm90ZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IHJlcyA9IHRoaXMuZ2V0X25leHRfbm90ZXModGZpbGUpO1xyXG5cdFx0aWYocmVzWzBdKXt0aGlzLm9wZW5fbm90ZShyZXNbMV1bMF0pO31cclxuXHR9XHJcblxyXG5cdGdldF9uZWlnaGJvcnModGZpbGUpe1xyXG5cdFx0bGV0IHRtcCA9IHRoaXMuZ2V0X3ByZXZfbm90ZXModGZpbGUsdGhpcy5wcmV2LHRoaXMubmV4dCx0cnVlKTtcclxuXHRcdGxldCBwZmxhZyA9IHRtcFswXTtcclxuXHRcdGxldCBwcmV2ID0gdG1wWzFdO1xyXG5cdFx0bGV0IHRtcDIgPSB0aGlzLmdldF9uZXh0X25vdGVzKHRmaWxlLHRoaXMucHJldix0aGlzLm5leHQsdHJ1ZSk7XHJcblx0XHRsZXQgbmZsYWcgPSB0bXAyWzBdO1xyXG5cdFx0bGV0IG5leHQgPSB0bXAyWzFdO1xyXG5cclxuXHRcdGlmKHBmbGFnICYmIG5mbGFnKXtcclxuXHRcdFx0cmV0dXJuIFtwcmV2WzBdLG5leHRbMF1dO1xyXG5cdFx0fWVsc2UgaWYocGZsYWcpe1xyXG5cdFx0XHRyZXR1cm4gW3ByZXZbMF0sdW5kZWZpbmVkXTtcclxuXHRcdH1lbHNlIGlmKG5mbGFnKXtcclxuXHRcdFx0cmV0dXJuIFt1bmRlZmluZWQsbmV4dFswXV07XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIFt1bmRlZmluZWQsdW5kZWZpbmVkXTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblxyXG5cdGFzeW5jIHNldF9mcm9udG1hdHRlcih0ZmlsZSxrZXksdmFsdWUpe1xyXG5cdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKHRmaWxlLGZtID0+e1xyXG5cdFx0XHRjb25zb2xlLmxvZyhgJHt0ZmlsZS5iYXNlbmFtZX0tLS0ke2tleX0tLS0ke3ZhbHVlfWApO1xyXG5cdFx0XHRmbVtrZXldID0gdmFsdWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldF9mcm9udG1hdHRlcih0ZmlsZSxrZXkpe1xyXG5cdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRpZihtZXRhPy5mcm9udG1hdHRlcil7XHJcblx0XHRcdHJldHVybiBtZXRhLmZyb250bWF0dGVyW2tleV07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwb3Bfbm9kZSh0ZmlsZSl7XHJcblx0XHQvLyBcdTc5RkJcdTk2NjQgdGZpbGVcdUZGMENcdTUxNzNcdTgwNTRcdTUyNERcdTU0MEVcclxuXHRcdGxldCBuZWlnaGJvciA9IHRoaXMuZ2V0X25laWdoYm9ycyh0ZmlsZSk7XHJcblx0XHRpZihuZWlnaGJvclswXSE9bnVsbCAmJiBuZWlnaGJvclsxXSE9bnVsbCl7XHJcblx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKG5laWdoYm9yWzBdLHRoaXMubmV4dCxgW1ske25laWdoYm9yWzFdLmJhc2VuYW1lfV1dYCk7XHJcblx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKG5laWdoYm9yWzFdLHRoaXMucHJldixgW1ske25laWdoYm9yWzBdLmJhc2VuYW1lfV1dYCk7XHJcblx0XHR9ZWxzZSBpZihuZWlnaGJvclswXSE9bnVsbCl7XHJcblx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKG5laWdoYm9yWzBdLHRoaXMubmV4dCxgYCk7XHJcblx0XHR9ZWxzZSBpZihuZWlnaGJvclsxXSE9bnVsbCl7XHJcblx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKG5laWdoYm9yWzFdLHRoaXMucHJldixgYCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpbnNlcnRfbm9kZV9hc19oZWFkKHRmaWxlLGFuY2hvcil7XHJcblx0XHQvLyBcdTVDMDZ0ZmlsZSBcdTYzRDJcdTUyMzAgYW5jaG9yIFx1NjI0MFx1NTcyOFx1OTRGRVx1NzY4NFx1NTkzNFxyXG5cdFx0aWYoaGVhZD09dGZpbGUpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRsZXQgaGVhZCA9IHRoaXMuZ2V0X2ZpcnN0X25vdGUoYW5jaG9yKTtcclxuXHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMubmV4dCxgW1ske2hlYWQuYmFzZW5hbWV9XV1gKTtcclxuXHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKGhlYWQsdGhpcy5wcmV2LGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gKTtcclxuXHR9XHJcblxyXG5cdGluc2VydF9ub2RlX2FzX3RhaWwodGZpbGUsYW5jaG9yKXtcclxuXHRcdC8vIFx1NUMwNnRmaWxlIFx1NjNEMlx1NTIzMCBhbmNob3IgXHU2MjQwXHU1NzI4XHU5NEZFXHU3Njg0XHU1QzNFXHJcblx0XHRsZXQgdGFpbCA9IHRoaXMuZ2V0X2xhc3Rfbm90ZShhbmNob3IpO1xyXG5cdFx0aWYodGZpbGU9PXRhaWwpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLnNldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLnByZXYsYFtbJHt0YWlsLmJhc2VuYW1lfV1dYCk7XHJcblx0XHR0aGlzLnNldF9mcm9udG1hdHRlcih0YWlsLHRoaXMubmV4dCxgW1ske3RmaWxlLmJhc2VuYW1lfV1dYCk7XHJcblx0fVxyXG5cclxuXHRpbnNlcnRfbm9kZV9hZnRlcih0ZmlsZSxhbmNob3Ipe1xyXG5cdFx0bGV0IG5leHQgPSB0aGlzLmdldF9uZXh0X25vdGVzKGFuY2hvcix0aGlzLnByZXYsdGhpcy5uZXh0LHRydWUpO1xyXG5cdFx0aWYobmV4dFswXSAmJiBuZXh0WzFdWzBdIT10ZmlsZSAmJiBuZXh0WzFdWzBdIT1hbmNob3Ipe1xyXG5cdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihuZXh0WzFdWzBdLHRoaXMucHJldixgW1ske3RmaWxlLmJhc2VuYW1lfV1dYCk7XHJcblx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMubmV4dCxgW1ske25leHRbMV1bMF0uYmFzZW5hbWV9XV1gKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLnByZXYsYFtbJHthbmNob3IuYmFzZW5hbWV9XV1gKTtcclxuXHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKGFuY2hvcix0aGlzLm5leHQsYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWApO1xyXG5cdH1cclxuXHJcblx0aW5zZXJ0X25vZGVfYmVmb3JlKHRmaWxlLGFuY2hvcil7XHJcblx0XHRsZXQgcHJldiA9IHRoaXMuZ2V0X3ByZXZfbm90ZXMoYW5jaG9yLHRoaXMucHJldix0aGlzLm5leHQsdHJ1ZSk7XHJcblx0XHRpZihwcmV2WzBdICYmIHByZXZbMV1bMF0hPXRmaWxlICYmIHByZXZbMV1bMF0hPWFuY2hvcil7XHJcblx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKHByZXZbMV1bMF0sdGhpcy5uZXh0LGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gKTtcclxuXHRcdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsdGhpcy5wcmV2LGBbWyR7cHJldlsxXVswXS5iYXNlbmFtZX1dXWApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMubmV4dCxgW1ske2FuY2hvci5iYXNlbmFtZX1dXWApO1xyXG5cdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIoYW5jaG9yLHRoaXMucHJldixgW1ske3RmaWxlLmJhc2VuYW1lfV1dYCk7XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIHJlY2hhaW5fZm9sZGVyKHRmb2xkZXI9bnVsbCxtb2RlPSdzdWdnZXN0ZXInKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X3NhbWVfcGFyZW50KCk7XHJcblx0XHRsZXQgZmlsZXMgPSBhd2FpdCB0aGlzLnN1Z2dlc3Rlcl9zb3J0KG5vdGVzKTtcclxuXHRcdFxyXG5cdFx0Zm9yKGxldCBpPTA7aTxmaWxlcy5sZW5ndGgtMTtpKyspe1xyXG5cdFx0XHRpZighKHRoaXMuZ2V0X2Zyb250bWF0dGVyKGZpbGVzW2ldLHRoaXMubmV4dCk9PT1gW1ske2ZpbGVzW2krMV0uYmFzZW5hbWV9XV1gKSl7XHJcblx0XHRcdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIoZmlsZXNbaV0sdGhpcy5uZXh0LGBbWyR7ZmlsZXNbaSsxXS5iYXNlbmFtZX1dXWApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKCEodGhpcy5nZXRfZnJvbnRtYXR0ZXIoZmlsZXNbaSsxXSx0aGlzLnByZXYpPT09YFtbJHtmaWxlc1tpXS5iYXNlbmFtZX1dXWApKXtcclxuXHRcdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihmaWxlc1tpKzFdLHRoaXMucHJldixgW1ske2ZpbGVzW2ldLmJhc2VuYW1lfV1dYCk7XHRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c29ydF90ZmlsZXMoZmlsZXM6QXJyYXk8VEZpbGU+LGZpZWxkKXtcclxuXHRcdGlmKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpe1xyXG5cdFx0XHRpZihmaWVsZD09PSduYW1lJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYSxiKT0+KGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nbXRpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0Lm10aW1lLWIuc3RhdC5tdGltZSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1lbHNlIGlmKGZpZWxkPT09J2N0aW1lJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYSxiKT0+KGEuc3RhdC5jdGltZS1iLnN0YXQuY3RpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYoZmllbGQ9PT0nY2hhaW4nKXtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5zb3J0X3RmaWxlc19ieV9jaGFpbihmaWxlcyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZpbGVzO1xyXG5cdFx0fWVsc2UgaWYodHlwZW9mIGZpZWxkID09PSAnb2JqZWN0Jyl7XHJcblx0XHRcdGlmKGZpZWxkIGluc3RhbmNlb2YgQXJyYXkpe1xyXG5cdFx0XHRcdGxldCBuZmlsZXMgPSB0aGlzLnNvcnRfdGZpbGVzKGZpbGVzLGZpZWxkWzBdKTtcclxuXHRcdFx0XHRpZihmaWVsZC5sZW5ndGg+PTIpe1xyXG5cdFx0XHRcdFx0aWYoZmllbGRbMV09PT0neCcpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbmZpbGVzLnJldmVyc2UoKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gbmZpbGVzO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmlsZXM7XHJcblx0fVxyXG5cdFxyXG5cdHNvcnRfdGZpbGVzX2J5X2NoYWluKHRmaWxlczpBcnJheTxURmlsZT4pe1xyXG5cdFx0bGV0IG5vdGVzID0gdGZpbGVzLm1hcChmPT5mKTtcclxuXHRcdGxldCByZXMgPSBbXTtcclxuXHRcdHdoaWxlKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0bGV0IG5vdGUgPSBub3Rlc1swXTtcclxuXHRcdFx0bGV0IHRtcCA9IFtdO1xyXG5cdFx0XHRsZXQgeGNoYWluID0gdGhpcy5nZXRfZmlsZV9jaGFpbihub3RlLC0xLC0xKTtcclxuXHRcdFx0Zm9yKGxldCB4IG9mIHhjaGFpbil7XHJcblx0XHRcdFx0aWYobm90ZXMuY29udGFpbnMoeCkpe1xyXG5cdFx0XHRcdFx0dG1wLnB1c2goeCk7XHJcblx0XHRcdFx0XHRub3Rlcy5yZW1vdmUoeCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJlcy5wdXNoKHRtcCk7XHJcblx0XHR9XHJcblx0XHRyZXMgPSByZXMuc29ydCgoYSxiKT0+Yi5sZW5ndGgtYS5sZW5ndGgpO1xyXG5cdFx0bGV0IHJyZXMgPSBbXTtcclxuXHRcdGZvcihsZXQgaSBvZiByZXMpe1xyXG5cdFx0XHRmb3IobGV0IGogb2YgaSl7XHJcblx0XHRcdFx0cnJlcy5wdXNoKGopO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcnJlcztcclxuXHR9XHJcblxyXG5cdHNvcnRfdGZpbGVzX2J5X2ZpZWxkKGZpbGVzLGZpZWxkKXtcclxuXHRcdGxldCByZXMgPSBmaWxlcy5zb3J0KFxyXG5cdFx0XHQoYSxiKT0+e1xyXG5cdFx0XHRcdGxldCBhbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGEpLmZyb250bWF0dGVyO1xyXG5cdFx0XHRcdGxldCBibWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGIpLmZyb250bWF0dGVyO1xyXG5cdFx0XHRcdGlmKCFhbWV0YSAmJiAhYm1ldGEpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIDA7XHJcblx0XHRcdFx0fWVsc2UgaWYoIWFtZXRhKXtcclxuXHRcdFx0XHRcdHJldHVybiBibWV0YVtmaWVsZF07XHJcblx0XHRcdFx0fWVsc2UgaWYoIWJtZXRhKXtcclxuXHRcdFx0XHRcdHJldHVybiBhbWV0YVttb2RlXTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHJldHVybiBhbWV0YVtmaWVsZF0tYm1ldGFbZmllbGRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2dlc3Rlcl9zb3J0KHRmaWxlcyl7XHJcblx0XHRpZighdGZpbGVzKXtyZXR1cm4gW107fVxyXG5cdFx0aWYodGZpbGVzLmxlbmd0aD09MCl7cmV0dXJuIFtdfTtcclxuXHRcdGxldCBrdiA9IHtcclxuXHRcdFx0J25hbWUnOiduYW1lJyxcclxuXHRcdFx0J2N0aW1lJzonY3RpbWUnLFxyXG5cdFx0XHQnbXRpbWUnOidtdGltZScsXHJcblx0XHRcdCduYW1lIFx1NTAxMlx1NUU4Ric6WyduYW1lJywneCddLFxyXG5cdFx0XHQnY3RpbWUgXHU1MDEyXHU1RThGJzpbJ2N0aW1lJywneCddLFxyXG5cdFx0XHQnbXRpbWUgXHU1MDEyXHU1RThGJzpbJ210aW1lJywneCddLFxyXG5cdFx0fVxyXG5cdFx0bGV0IGZpZWxkID0gYXdhaXQgdGhpcy5zdWdnZXN0ZXIoXHJcblx0XHRcdE9iamVjdC5rZXlzKGt2KSxcclxuXHRcdFx0T2JqZWN0LnZhbHVlcyhrdilcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gdGhpcy5zb3J0X3RmaWxlcyh0ZmlsZXMsZmllbGQpO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFppZ0hvbGRpbmcgZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBaaWdTZXR0aW5ncztcclxuXHRjaGFpbiA6IE5vdGVDaGFpbjtcclxuXHRlZGl0b3IgOiBaaWdFZGl0b3I7IFxyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblxyXG5cdFx0dGhpcy5jaGFpbiA9IG5ldyBOb3RlQ2hhaW4odGhpcyk7XHJcblxyXG5cdFx0dGhpcy5lZGl0b3IgPSBuZXcgWmlnRWRpdG9yKHRoaXMuYXBwKTtcclxuXHRcdHRoaXMuYXBwLnppZyA9IHRoaXM7XHJcblxyXG5cclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcclxuXHRcdHRoaXMuZGF0YXZpZXcgPSBhd2FpdCB0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcclxuXHRcdFx0XCJkYXRhdmlld1wiXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMudGVtcGxhdGVyID0gYXdhaXQgdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXHJcblx0XHRcdFwidGVtcGxhdGVyLW9ic2lkaWFuXCJcclxuXHRcdClcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2NoYWluX2luc2VydF9ub2RlJyxcclxuXHRcdFx0bmFtZTogJ0luc2VydCBub2RlIG9mIGNoYWluJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYWluX2luc2VydF9ub2RlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2NoYWluX3NldF9zZXFfbm90ZScsXHJcblx0XHRcdG5hbWU6ICdSZXNldCB0aGUgY2hhaW4gb2YgY3VycmVudCBmb2xkZXIhIFdhcm5pbmc6IEl0IHdpbGwgcmVzZXQgeW91ciBjaGFpbicsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGFpbi5yZWNoYWluX2ZvbGRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ29wZW5fbm90ZXNfc21hcnRlcicsXHJcblx0XHRcdG5hbWU6ICdPcGVuIG5vdGUgc21hcnRlcicsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5vcGVuX25vdGVfc21hcnRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3N1Z2d1c3Rlcl9vcGVuX25vdGUnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBub3RlJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYWluLnN1Z2d1c3Rlcl9vcGVuX25vdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdvcGVuX3ByZXZfbm90ZXMnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBwcmV2IG5vdGUnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4ub3Blbl9wcmV2X25vdGVzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnb3Blbl9uZXh0X25vdGVzJyxcclxuXHRcdFx0bmFtZTogJ09wZW4gbmV4dCBub3RlJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYWluLm9wZW5fbmV4dF9ub3RlcygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ29wZW5fbm90ZV9jaGFpbicsXHJcblx0XHRcdG5hbWU6ICdPcGVuIGNoYWluIG9mIGN1cnJlbnQgZmlsZScsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5vcGVuX25vdGVfY2hhaW4oKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjbGVhcl9pbmxpbmtzJyxcclxuXHRcdFx0bmFtZTogJ0NsZWFyIGlubGlua3Mgb2YgY3VycmVudCBmaWxlJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNsZWFyX2lubGlua3MoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXInLFxyXG5cdFx0XHRuYW1lOiAnTW92ZSBjdXJyZW50IGZpbGUgdG8gYW5vdGhlciBmb2xkZXInLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4ubW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3JlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4JyxcclxuXHRcdFx0bmFtZTogJ1JlcGxhY2UgYnkgcmVnZXgnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucmVwbGFjZV9ub3Rlc193aXRoX3JlZ3goKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgWmlnU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKCdaaWctSG9sZGluZzpyZWdlaXN0ZXIgdWZ1bmNfb25fZmlsZV9vcGVuJyk7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtb3BlbicsIHRoaXMudWZ1bmNfb25fZmlsZV9vcGVuKTtcclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0Y29uc29sZS5sb2coJ1ppZy1Ib2xkaW5nOnVucmVnZWlzdGVyIHVmdW5jX29uX2ZpbGVfb3BlbicpO1xyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9mZignZmlsZS1vcGVuJywgdGhpcy51ZnVuY19vbl9maWxlX29wZW4pO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgdWZ1bmNfb25fZmlsZV9vcGVuKGZpbGUpe1xyXG5cdFx0bGV0IHpoID0gYXdhaXQgYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwiemlnLWhvbGRpbmdcIik7XHJcblx0XHRpZighemgpe3JldHVybjt9XHJcblx0XHRpZih6aC5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcpe1xyXG5cdFx0XHR6aC5hcHAuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmRCeUlkKFxyXG5cdFx0XHRcdFwiZGF0YXZpZXc6ZGF0YXZpZXctZm9yY2UtcmVmcmVzaC12aWV3c1wiXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHRcdGlmKHpoLnNldHRpbmdzLnJlZnJlc2hUYXNrcyl7XHJcblx0XHRcdGxldCB0YXJnZXQgPSBhd2FpdCBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJvYnNpZGlhbi10YXNrcy1wbHVnaW5cIik7XHJcblx0XHRcdHRhcmdldC5jYWNoZS5ub3RpZnlTdWJzY3JpYmVycygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjbGVhcl9pbmxpbmtzKHRmaWxlPXRoaXMuY2hhaW4uY3VycmVudF9ub3RlLG1vZGU9J3N1Z2dlc3Rlcicpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5jaGFpbi5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHRpZihub3Rlcy5sZW5ndGgpe1xyXG5cdFx0XHRpZihtb2RlPT09J3N1Z2dlc3Rlcicpe1xyXG5cdFx0XHRcdG1vZGUgPSBhd2FpdCB0aGlzLnN1Z2dlc3RlcihcclxuXHRcdFx0XHRcdFtcIlx1NTIyMFx1OTY2NFx1OTRGRVx1NjNBNVwiLCdcdTY2RkZcdTYzNjJcdTk0RkVcdTYzQTUnLFwiXHU1MjIwXHU5NjY0XHU2QkI1XHU4NDNEXCIsXSxcclxuXHRcdFx0XHRcdFtbJ2xpbmsnLCdkZWwnXSxbJ2xpbmsnLCdyZXAnXSxbJ3BhcmEnLCdkZWwnXV1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCByZWcgPSB0aGlzLmVkaXRvci5yZWdleHBfbGluayh0ZmlsZSxtb2RlWzBdKTtcclxuXHRcdFx0aWYocmVnKXtcclxuXHRcdFx0XHRmb3IobGV0IG5vdGUgb2Ygbm90ZXMpe1xyXG5cdFx0XHRcdFx0bGV0IHRhcmdldDtcclxuXHRcdFx0XHRcdGlmKG1vZGVbMV09PT0ncmVwJyl7XHJcblx0XHRcdFx0XHRcdHRhcmdldD10ZmlsZS5iYXNlbmFtZTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQ9JydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldCBwcm9tcHQoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuc3lzdGVtLnByb21wdCcpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVwbGFjZV9ub3Rlc193aXRoX3JlZ3goKXtcclxuXHRcdGxldCBub3RlcyA9IGF3YWl0IHRoaXMuY2hhaW4uc3VnZ2VzdGVyX25vdGVzKCk7XHJcblx0XHRpZihub3Rlcz8ubGVuZ3RoPjApe1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGxldCByZWdzID0gYXdhaXQgdGhpcy5wcm9tcHQoJ1x1ODk4MVx1NjZGRlx1NjM2Mlx1NzY4NFx1NkI2M1x1NTIxOVx1ODg2OFx1OEZCRVx1NUYwRicpO1xyXG5cdFx0XHRcdGlmKHJlZ3M9PW51bGwpe1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsZXQgcmVnID0gbmV3IFJlZ0V4cChyZWdzLCdnJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bGV0IHRhcmdldCA9IGF3YWl0IHRoaXMucHJvbXB0KCdcdTc2RUVcdTY4MDdcdTVCNTdcdTdCMjZcdTRFMzInKTtcclxuXHRcdFx0XHRpZih0YXJnZXQ9PW51bGwpe1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0YXJnZXQgPSB0YXJnZXQudHJpbSgpLnJlcGxhY2UoXHJcblx0XHRcdFx0XHQvXFxcXG4vZywnXFxuJ1xyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVncyxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHRmb3IobGV0IG5vdGUgb2Ygbm90ZXMpe1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5lZGl0b3IucmVwbGFjZShub3RlLHJlZyx0YXJnZXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0Z2V0X3RmaWxlKHBhdGg6c3RyaW5nKXtcclxuXHRcdC8vIFx1NjgzOVx1NjM2RVx1OERFRlx1NUY4NFx1ODNCN1x1NTNENiB0ZmlsZVx1RkYwQ1x1NTkyN1x1NUMwRlx1NEUwRFx1NjU0Rlx1NjExRlxyXG5cdFx0bGV0IGZpbGVzID0gYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdGlmKGZpbGVzLmluY2x1ZGVzKHBhdGgpKXtcclxuXHRcdFx0cmV0dXJuIGZpbGVzW3BhdGhdXHJcblx0XHR9XHJcblx0XHRmb3IobGV0IGZpbGUgb2YgZmlsZXMpe1xyXG5cdFx0XHRpZihmaWxlLm5hbWUudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKHBhdGgudG9Mb3dlckNhc2UoKSk9PTApe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGZpbGUuYmFzZW5hbWUudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKHBhdGgudG9Mb3dlckNhc2UoKSk9PTApe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGBbWyR7ZmlsZS5iYXNlbmFtZS50b0xvd2VyQ2FzZSgpfV1dYC5sb2NhbGVDb21wYXJlKHBhdGgudG9Mb3dlckNhc2UoKSk9PTApe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGdldF90ZmlsZV9jb25maWcodGZpbGUsc3VmZml4PVwiX2NvbmZpZ1wiKXtcclxuXHRcdC8vIFx1ODNCN1x1NTNENiB0ZmlsZSBcdTVCRjlcdTVFOTRcdTc2ODQgY29uZmlnIFx1NjU4N1x1NEVGNlxyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0X3RmaWxlKHRmaWxlLmJhc2VuYW1lK3N1ZmZpeCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZWxlY3RfdmFsdWVfb2ZfbGlzdCh0YXJnZXRzLHByb21wdD1udWxsKXtcclxuXHRcdGNvbnN0IHRhcmdldCA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyKFxyXG5cdFx0XHR0YXJnZXRzLHRhcmdldHMsZmFsc2UscHJvbXB0XHJcblx0XHQpOyBcclxuXHRcdHJldHVybiB0YXJnZXQ7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9pbnNlcnRfbm9kZSgpe1xyXG5cclxuXHRcdGxldCBjdXJyID0gdGhpcy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGN1cnI/LnBhcmVudCxmYWxzZSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsWydtdGltZScsJ3gnXSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cdFx0bm90ZXMgPSBub3Rlcy5maWx0ZXIoZj0+ZiE9Y3Vycik7XHJcblxyXG5cdFx0Y29uc3Qgbm90ZSA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyKFxyXG5cdFx0XHQoZmlsZSkgPT4gdGhpcy50ZmlsZV90b19zdHJpbmcoXHJcblx0XHRcdFx0XHRmaWxlLFxyXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zaG93TGluayA/IFtcIlByZXZOb3RlXCIsXCJOZXh0Tm90ZVwiXSA6W10sXHJcblx0XHRcdFx0XHRcIlxcdFxcdFxcdFx1MjZBMSAgXCJcclxuXHRcdFx0XHQpLCBcclxuXHRcdFx0XHRub3Rlc1xyXG5cdFx0KTsgXHJcblx0XHRcclxuXHRcdGlmKCFub3RlKXtyZXR1cm47fVxyXG5cclxuXHRcdGxldCBtb2RlID0gYXdhaXQgdGhpcy5zZWxlY3RfdmFsdWVfb2ZfbGlzdChbXHJcblx0XHRcdFwiaW5zZXJ0X25vZGVfYWZ0ZXJcIixcclxuXHRcdFx0XCJpbnNlcnRfbm9kZV9iZWZvcmVcIixcclxuXHRcdFx0XCJpbnNlcnRfbm9kZV9hc19oZWFkXCIsXHJcblx0XHRcdFwiaW5zZXJ0X25vZGVfYXNfdGFpbFwiLFxyXG5cdFx0XSxwcm9tcHQ9XCJTZWxlY3QgTm9kZSBJbnNlcnQgTW9kZS5cIik7XHJcblx0XHRcclxuXHRcdGlmKCFtb2RlKXtyZXR1cm47fVxyXG5cclxuXHRcdGNvbnNvbGUubG9nKHR5cGVvZihtb2RlKSxtb2RlKTtcclxuXHRcdGlmKHRoaXMuc2V0dGluZ3MucG9wRmlyc3Qpe1xyXG5cdFx0XHR0aGlzLmNoYWluLnBvcF9ub2RlKGN1cnIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKG1vZGU9PT0naW5zZXJ0X25vZGVfYXNfaGVhZCcpe1xyXG5cdFx0XHR0aGlzLmNoYWluLmluc2VydF9ub2RlX2FzX2hlYWQoY3Vycixub3RlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0naW5zZXJ0X25vZGVfYXNfdGFpbCcpe1xyXG5cdFx0XHR0aGlzLmNoYWluLmluc2VydF9ub2RlX2FzX3RhaWwoY3Vycixub3RlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0naW5zZXJ0X25vZGVfYmVmb3JlJyl7XHJcblx0XHRcdHRoaXMuY2hhaW4uaW5zZXJ0X25vZGVfYmVmb3JlKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J2luc2VydF9ub2RlX2FmdGVyJyl7XHJcblx0XHRcdHRoaXMuY2hhaW4uaW5zZXJ0X25vZGVfYWZ0ZXIoY3Vycixub3RlKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYodGhpcy5zZXR0aW5ncy5vcGVuTGluayl7XHJcblx0XHRcdGlmKG5vdGUpe1xyXG5cdFx0XHRcdGlmKHRoaXMuc2V0dGluZ3MubmV3VGFiKXtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpLm9wZW5GaWxlKG5vdGUpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYub3BlbkZpbGUobm90ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQgfVxyXG5cdFx0IH1cclxuXHR9XHJcblx0XHJcblx0dGZpbGVfdG9fc3RyaW5nKHRmaWxlLGZpZWxkcyxzZXEpe1xyXG5cdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRsZXQgaXRlbXMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdGl0ZW1zLnB1c2godGZpbGUuYmFzZW5hbWUpXHJcblx0XHRmb3IobGV0IGZpZWxkIG9mIGZpZWxkcyl7XHJcblx0XHRcdHRyeXtcclxuXHRcdFx0XHRpdGVtcy5wdXNoKG1ldGEuZnJvbnRtYXR0ZXJbZmllbGRdKTtcclxuXHRcdFx0fWNhdGNoKGVycm9yKXtcclxuXHRcdFx0XHRpdGVtcy5wdXNoKFwiLVwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGl0ZW1zLmpvaW4oc2VxKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9wZW5fbm90ZV9zbWFydGVyKCl7XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG5vdGVzID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXJfbm90ZXMoY3VycixmYWxzZSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsWydtdGltZScsJ3gnXSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cclxuXHRcdGNvbnN0IG5vdGUgPSAoXHJcblx0XHRcdGF3YWl0IHRoaXMuc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdChmaWxlKSA9PiBmaWxlLnBhdGgsIFxyXG5cdFx0XHRcdG5vdGVzXHJcblx0XHRcdClcclxuXHRcdCk7IFxyXG5cdFx0XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluLm9wZW5fbm90ZShub3RlKTtcclxuXHR9XHJcblxyXG5cdGdldCBzdWdnZXN0ZXIoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCxcInRwLnN5c3RlbS5zdWdnZXN0ZXJcIik7XHJcblx0fVxyXG5cdFxyXG5cdGdldF9maWxlX2NoYWluKGN1cnIscHJldj0xMCxuZXh0PTEwLHNhbWVGb2xkZXI9ZmFsc2Upe1xyXG5cclxuXHRcdGlmKGN1cnI9PT1udWxsKXtcclxuXHRcdFx0Y3VyciA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHR9XHJcblx0XHRsZXQgcmVzID0gQXJyYXkoKTtcclxuXHRcdHJlcy5wdXNoKGN1cnIpO1xyXG5cdFx0XHJcblx0XHRsZXQgdG1wID0gY3VycjtcclxuXHRcdGZvcihsZXQgaT1wcmV2O2khPTA7aS0tKXtcclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0bXApO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoIW1ldGEpe2JyZWFrfVxyXG5cdFxyXG5cdFx0XHRsZXQgbmFtZSA9IG1ldGEuZnJvbnRtYXR0ZXI/LlByZXZOb3RlO1xyXG5cdFx0XHRpZighbmFtZSl7YnJlYWt9XHJcblx0XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUobmFtZSk7XHJcblx0XHRcdGlmKCFub3RlIHwgcmVzLmluY2x1ZGVzKG5vdGUpKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnVuc2hpZnQobm90ZSk7XHJcblx0XHRcdFx0dG1wID0gbm90ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dG1wID0gY3VycjtcclxuXHRcdGZvcihsZXQgaT1uZXh0O2khPTA7aS0tKXtcclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0bXApO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoIW1ldGEpe2JyZWFrfVxyXG5cdFxyXG5cdFx0XHRsZXQgbmFtZSA9IG1ldGEuZnJvbnRtYXR0ZXI/Lk5leHROb3RlO1xyXG5cdFx0XHRpZighbmFtZSl7YnJlYWt9XHJcblx0XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUobmFtZSk7XHJcblx0XHRcdGlmKCFub3RlIHwgcmVzLmluY2x1ZGVzKG5vdGUpKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnB1c2gobm90ZSk7XHJcblx0XHRcdFx0dG1wID0gbm90ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKHNhbWVGb2xkZXIpe1xyXG5cdFx0XHRyZXMucHVzaChudWxsKTtcclxuXHRcdFx0bGV0IGFmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKVxyXG5cdFx0XHRmb3IobGV0IGYgb2YgYWZpbGVzKXtcclxuXHRcdFx0XHRpZihmLnBhcmVudCA9PSBjdXJyPy5wYXJlbnQpe1xyXG5cdFx0XHRcdFx0aWYoIXJlcy5pbmNsdWRlcyhmKSl7XHJcblx0XHRcdFx0XHRcdHJlcy5wdXNoKGYpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXMgPSByZXMuZmlsdGVyKFxyXG5cdFx0XHRcdChmaWxlKT0+KFxyXG5cdFx0XHRcdFx0KGZpbGU9PT1udWxsKSB8IChmaWxlPy5wYXRoLnN0YXJ0c1dpdGgoY3Vyci5wYXJlbnQucGF0aCkpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHQpOyBcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvcGVuX25vdGVfY2hhaW4oKXtcclxuXHRcdGxldCBjdXJyID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdGxldCBmaWxlcyA9IHRoaXMuZ2V0X2ZpbGVfY2hhaW4oXHJcblx0XHRcdGN1cnIsXHJcblx0XHRcdE51bWJlcih0aGlzLnNldHRpbmdzLlByZXZDaGFpbiksXHJcblx0XHRcdE51bWJlcih0aGlzLnNldHRpbmdzLk5leHRDaGFpbiksXHJcblx0XHRcdHRoaXMuc2V0dGluZ3Muc2FtZUZvbGRlcixcclxuXHRcdCk7XHJcblxyXG5cdFx0Y29uc3Qgbm90ZSA9IChcclxuXHRcdFx0YXdhaXQgdGhpcy5zdWdnZXN0ZXIoXHJcblx0XHRcdFx0KGZpbGUpID0+IHtcclxuXHRcdFx0XHRcdGlmKCFmaWxlKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICctLS0tLVx1RDgzRFx1RENDMi0tLS0tJztcclxuXHRcdFx0XHRcdH1lbHNlIGlmKGZpbGU9PWN1cnIpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYFx1RDgzQ1x1REZFMCAke2N1cnIuYmFzZW5hbWV9YDtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmlsZS5wYXRoLnNsaWNlKGN1cnIucGFyZW50LnBhdGgubGVuZ3RoKzEpLnNsaWNlKDAsLTMpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgXHJcblx0XHRcdFx0ZmlsZXNcclxuXHRcdFx0KVxyXG5cdFx0KTsgXHJcblx0XHQgaWYobm90ZSl7XHJcblx0XHRcdCBpZih0aGlzLnNldHRpbmdzLm5ld1RhYil7XHJcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSkub3BlbkZpbGUobm90ZSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLm9wZW5GaWxlKG5vdGUpO1xyXG5cdFx0XHR9XHJcblx0XHQgfVxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIFppZ1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IFppZ0hvbGRpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFppZ0hvbGRpbmcpIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiWmlnIEhvbGRpbmdcIiB9KTtcclxuXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJTd2l0Y2ggTm90ZVwiIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnbmV3VGFiJylcclxuXHRcdFx0LnNldERlc2MoJ1x1NjYyRlx1NTQyNlx1NTcyOFx1NjVCMFx1NjgwN1x1N0I3RVx1NEUyRFx1NjI1M1x1NUYwMFx1N0IxNFx1OEJCMD8nKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5uZXdUYWIpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubmV3VGFiID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ3dpdGhTZWxmJylcclxuXHRcdFx0LnNldERlc2MoJ1x1NjYyRlx1NTQyNlx1NjYzRVx1NzkzQVx1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMD8nKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53aXRoU2VsZilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy53aXRoU2VsZiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHRcdFxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7IHRleHQ6IFwiT3BlbiBub3RlIGluIHNhbWUgZm9sZGVyXCIgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdyZXZlcnNlJylcclxuXHRcdFx0LnNldERlc2MoJ1x1NjYyRlx1NTQyNlx1OTAwNlx1NTQxMVx1NjM5Mlx1NUU4Rj8nKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXZlcnNlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJldmVyc2UgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnZmllbGQnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU3QjE0XHU4QkIwXHU2MzkyXHU1RThGXHU1QjU3XHU2QkI1XHVGRjFBbXRpbWVcdUZGMENcdTRGRUVcdTY1MzlcdTY1RjZcdTk1RjRcdUZGMUJjdGltZVx1RkYwQ1x1NTIxQlx1NUVGQVx1NjVGNlx1OTVGNFx1RkYxQm5hbWUsXHU2NTg3XHU0RUY2XHU1NDBEXHVGRjFCXHU2MjE2XHU1MTc2XHU1QjgzXHU1MTQzXHU2NTcwXHU2MzZFXHU1QjU3XHU2QkI1XHUzMDAyJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0XHRcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwgeyB0ZXh0OiBcIk9wZW4gbm90ZSBjaGFpblwiIH0pO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdQcmV2Q2hhaW4nKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwXHU2NTcwXHU3NkVFJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLlByZXZDaGFpbilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5QcmV2Q2hhaW4gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ05leHRDaGFpbicpXHJcblx0XHRcdC5zZXREZXNjKCdcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjBcdTY1NzBcdTc2RUUnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLk5leHRDaGFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnc2FtZUZvbGRlcicpXHJcblx0XHRcdFx0LnNldERlc2MoJ1x1NEVDNVx1NjYzRVx1NzkzQVx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNlx1NTkzOVx1NEUyRFx1OTRGRVx1OERFRlx1RkYwQ1x1NTQwQ1x1NjVGNlx1NUM1NVx1NzkzQVx1NEUwRFx1NTcyOFx1OTRGRVx1OERFRlx1NzY4NFx1NjU4N1x1NEVGNicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYW1lRm9sZGVyKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYW1lRm9sZGVyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIk5vdGUgQ2hhaW5cIiB9KTtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdzaG93TGluaycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1x1NjYyRlx1NTQyNlx1OTAwOVx1NjJFOVx1NjVGNlx1NjYzRVx1NzkzQVx1N0IxNFx1OEJCMFx1OTRGRVx1NjNBNScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93TGluaylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0xpbmsgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ3BvcEZpcnN0JylcclxuXHRcdFx0XHQuc2V0RGVzYygnXHU2M0QyXHU1MTY1XHU1MjREXHU5NEZFXHU2M0E1XHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwXHU1MjREXHU1NDBFXHU3RjZFXHU3QjE0XHU4QkIwJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBvcEZpcnN0KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wb3BGaXJzdCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnb3BlbkxpbmsnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdcdTkwMDlcdTYyRTlcdTU0MEVcdTY2MkZcdTU0MjZcdTYyNTNcdTVGMDBcdTdCMTRcdThCQjAnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkxpbmspXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5MaW5rID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdhbGxGaWxlcycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1x1NjYyRlx1NTQyNlx1NEVDRVx1NjI0MFx1NjcwOVx1N0IxNFx1OEJCMFx1NEUyRFx1OTAwOVx1NjJFOScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxGaWxlcylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsRmlsZXMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIlx1NTIxRFx1NTlDQlx1NTMxNlwiIH0pO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ3JlZnJlc2hEYXRhVmlldycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1x1NjI1M1x1NUYwMFx1NjVCMFx1N0IxNFx1OEJCMFx1NjVGNlx1NTIzN1x1NjVCMERhdGF2aWV3XHVGRjFGJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hEYXRhVmlldylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaERhdGFWaWV3ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ3JlZnJlc2hUYXNrcycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1x1NjI1M1x1NUYwMFx1NjVCMFx1N0IxNFx1OEJCMFx1NjVGNlx1NTIzN1x1NjVCMFRhc2tzXHVGRjFGJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hUYXNrcylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaFRhc2tzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBS087QUFpQlAsSUFBTSxtQkFBZ0M7QUFBQSxFQUNyQyxRQUFTO0FBQUEsRUFDVCxVQUFX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QU0sRUFBRSxNQUFNLHFCQUFNLENBQUM7QUFDMUMsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsaUJBQWlCLEVBQ3pCLFFBQVEsZ0VBQW1CLEVBQzNCO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsZUFBZSxFQUM3QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxrQkFBa0I7QUFDdkMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBQ0YsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsY0FBYyxFQUN0QixRQUFRLDZEQUFnQixFQUN4QjtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLFlBQVksRUFDMUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFBQSxFQUNIO0FBQ0Q7IiwKICAibmFtZXMiOiBbImFwcCIsICJtb2RlIiwgImYiLCAibWV0YSIsICJwcm9tcHQiXQp9Cg==
