/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NoteChainPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  newTab: true,
  withSelf: true,
  reverse: true,
  field: "NID",
  PrevChain: "10",
  NextChain: "10",
  showLink: true,
  openLink: true,
  refreshDataView: true,
  refreshTasks: true,
  isSortFileExplorer: true
};
function get_tp_func(app2, target) {
  let templater = app2.plugins.getPlugin(
    "templater-obsidian"
  );
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items.length != 3) {
    return void 0;
  }
  let modules = templater.templater.functions_generator.internal_functions.modules_array.filter(
    (item) => item.name.localeCompare(items[1]) == 0
  );
  if (modules.length == 0) {
    return void 0;
  }
  return modules[0].static_functions.get(items[2]);
}
var NCEditor = class {
  constructor(app2) {
    this.app = app2;
  }
  async set_frontmatter(tfile, key, value) {
    let prev = this.get_frontmatter(tfile, key);
    if (prev === value) {
      return;
    }
    await this.app.fileManager.processFrontMatter(tfile, (fm) => {
      console.log(`${tfile.basename}---${key}---${value}`);
      fm[key] = value;
    });
  }
  get_frontmatter(tfile, key) {
    let meta = this.app.metadataCache.getFileCache(tfile);
    if (meta == null ? void 0 : meta.frontmatter) {
      return meta.frontmatter[key];
    }
  }
  regexp_link(tfile, mode) {
    if (mode === "link") {
      return new RegExp(`\\[\\[${tfile.basename}\\|?.*\\]\\]`, "g");
    }
    if (mode === "para") {
      return new RegExp(`.*\\[\\[${tfile.basename}\\|?.*\\]\\].*`, "g");
    }
  }
  sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
  }
  concat_array(items) {
    if (items == null) {
      return [];
    }
    if (typeof items === "string") {
      return [items];
    }
    if (!(items instanceof Array)) {
      return [items];
    }
    let res = [];
    for (let item of items) {
      if (typeof item === "string") {
        res.push(item);
      } else if (item instanceof Array) {
        res = res.concat(this.concat_array(item));
      } else {
        res.push(item);
      }
    }
    return res;
  }
  async replace(tfile, regex, target) {
    if (typeof regex === "string") {
      await this.app.vault.process(tfile, (data) => {
        if (data.indexOf(regex) > -1) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    } else if (regex instanceof RegExp) {
      await this.app.vault.process(tfile, (data) => {
        if (data.match(regex)) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    }
  }
};
var NoteChain = class {
  constructor(zig, prev = "PrevNote", next = "NextNote") {
    this.zig = zig;
    this.app = zig.app;
    this.editor = new NCEditor(this.app);
    this.prev = prev;
    this.next = next;
    this.dv_api = this.app.plugins.getPlugin("dataview");
  }
  get find_tfile() {
    return get_tp_func(this.app, "tp.file.find_tfile");
  }
  get suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get_all_folders(sort_mode = "") {
    return this.app.vault.getAllFolders();
  }
  sort_folders_by_mtime(folders, reverse = true) {
    function ufunc(f) {
      return Math.max(
        ...f.children.filter((f2) => f2.basename).map((f2) => f2.stat.mtime)
      );
    }
    let res = folders.sort((a, b) => ufunc(a) - ufunc(b));
    if (reverse) {
      res = res.reverse();
    }
    return res;
  }
  async move_file_to_another_folder(tfile = this.current_note) {
    if (tfile == null) {
      return;
    }
    let folders = this.get_all_folders();
    folders = this.sort_folders_by_mtime(
      folders
    ).filter((f) => f != tfile.parent);
    if (tfile.extension === "md") {
      folders = folders.filter((f) => this.filter_user_ignore(f));
    }
    try {
      let folder = await this.suggester((f) => f.path, folders);
      let dst = folder.path + "/" + tfile.basename + "." + tfile.extension;
      await app.fileManager.renameFile(tfile, dst);
    } catch (error) {
    }
  }
  filter_user_ignore(note) {
    if (!(this.app.vault.config.attachmentFolderPath === "./")) {
      if (note.path.startsWith(
        this.app.vault.config.attachmentFolderPath
      )) {
        return false;
      }
    }
    if (this.app.vault.config.userIgnoreFilters) {
      for (let x of this.app.vault.config.userIgnoreFilters) {
        if (note.path.startsWith(x)) {
          return false;
        }
      }
    }
    return true;
  }
  async sugguster_note() {
    let notes = this.sort_tfiles(
      this.app.vault.getFiles(),
      ["mtime", "x"]
    ).filter((f) => this.filter_user_ignore(f));
    try {
      let note = await this.suggester((f) => f.path, notes);
      return note;
    } catch (error) {
    }
  }
  open_note(tfile, new_tab = false) {
    if (tfile) {
      if (this.app.workspace.activeLeaf.pinned || new_tab) {
        return this.app.workspace.getLeaf(true).openFile(tfile);
      } else {
        return this.app.workspace.activeLeaf.openFile(tfile);
      }
    }
  }
  async sugguster_open_note() {
    try {
      let note = await this.sugguster_note();
      console.log(note);
      this.open_note(note);
    } catch (error) {
    }
  }
  get_tfile(path) {
    let name = path.split("|")[0].replace("[[", "").replace("]]", "");
    return this.find_tfile(name);
  }
  get MDFiles() {
    return app.vault.getMarkdownFiles();
  }
  get current_note() {
    return this.app.workspace.getActiveFile();
  }
  get_inlinks(tfile = this.current_note) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    let dv_api = this.app.plugins.getPlugin("dataview");
    let inlinks = dv_api.index.links.invMap.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_outlinks(tfile = this.current_note) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    let dv_api = this.app.plugins.getPlugin("dataview");
    let inlinks = dv_api.index.links.map.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_links(tfile = this.current_note) {
    let inlinks = this.get_inlinks(tfile);
    let outlinks = this.get_outlinks(tfile);
    for (let link of inlinks) {
      if (!outlinks.includes(link)) {
        outlinks.push(link);
      }
    }
    return outlinks;
  }
  get_same_parent(tfile = this.current_note) {
    return this.get_tfiles_of_folder(tfile == null ? void 0 : tfile.parent, false);
  }
  get_tfiles_of_folder(tfolder, with_children = true) {
    if (tfolder == null) {
      return [];
    }
    let notes = [];
    for (let c of tfolder.children) {
      if (c instanceof import_obsidian.TFile && c.extension === "md") {
        notes.push(c);
      } else if (c instanceof import_obsidian.TFolder && with_children) {
        let tmp = this.get_tfiles_of_folder(c);
        for (let x of tmp) {
          notes.push(x);
        }
      }
    }
    return notes;
  }
  parse_item(item) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let seq = kwargs["seq"];
    if (seq != null) {
      return `${seq} -> ${item}`;
    }
    return item;
  }
  tfile_to_string(tfile) {
    let curr = this.current_note;
    let msg = "";
    if (tfile.parent == curr.parent) {
      msg = tfile.basename;
    } else {
      msg = tfile.path;
    }
    if (tfile == this.current_note) {
      return `\u{1F3E0} ${msg}`;
    } else {
      return msg;
    }
  }
  parse_items(items) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let res = [];
    let i = 0;
    while (i < items.length) {
      if (kwargs["seq"]) {
        res.push(this.parse_item(items[i], { "seq": i + 1 }));
      } else {
        res.push(this.parse_item(items[i]));
      }
      i++;
    }
    return res;
  }
  async suggester_notes(tfile = this.current_note, curr_first = true, smode = "") {
    let kv = [
      "\u540C\u7EA7\u76EE\u5F55",
      "\u7B14\u8BB0\u94FE\u6761",
      "\u540C\u7EA7\u76EE\u5F55+\u5B50\u76EE\u5F55",
      "\u51FA\u94FE+\u5165\u94FE",
      "\u5165\u94FE",
      "\u51FA\u94FE",
      "\u6240\u6709\u7B14\u8BB0",
      "recent-files-obsidian"
    ];
    if (curr_first) {
      kv.unshift("\u5F53\u524D\u7B14\u8BB0");
    } else {
      kv.push("\u5F53\u524D\u7B14\u8BB0");
    }
    let kvs = [];
    let i = 1;
    for (let x of kv) {
      kvs.push(`${i++} ${x}`);
    }
    let mode = "";
    if (kv.contains(smode)) {
      mode = smode;
    } else {
      mode = await this.suggester(kvs, kv);
    }
    if (mode === "\u5F53\u524D\u7B14\u8BB0") {
      return [tfile];
    } else if (mode === "\u540C\u7EA7\u76EE\u5F55") {
      return this.get_same_parent(tfile);
    } else if (mode === "\u540C\u7EA7\u76EE\u5F55+\u5B50\u76EE\u5F55") {
      return this.get_tfiles_of_folder(tfile == null ? void 0 : tfile.parent, true);
    } else if (mode === "\u51FA\u94FE+\u5165\u94FE") {
      return this.get_links(tfile);
    } else if (mode === "\u5165\u94FE") {
      return this.get_inlinks(tfile);
    } else if (mode === "\u51FA\u94FE") {
      return this.get_outlinks(tfile);
    } else if (mode === "\u6240\u6709\u7B14\u8BB0") {
      return this.MDFiles;
    } else if (mode === "recent-files-obsidian") {
      let r = this.app.plugins.getPlugin("recent-files-obsidian");
      if (!r) {
        return [];
      }
      return Object.values(
        r.data.recentFiles
      ).map(
        (f) => this.app.vault.fileMap[f.path]
      ).filter((f) => f);
    } else if (mode === "\u7B14\u8BB0\u94FE\u6761") {
      return this.get_chain(
        tfile,
        Number(this.zig.settings.PrevChain),
        Number(this.zig.settings.NextChain)
      );
    } else {
      return [];
    }
  }
  // Chain
  get_chain(tfile = this.current_note, prev = 10, next = 10, with_self = true) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    if (with_self) {
      res.push(tfile);
    }
    let tmp = tfile;
    for (let i = prev; i != 0; i--) {
      let name = this.editor.get_frontmatter(tmp, this.prev);
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.editor.set_frontmatter(note, this.next, "");
        this.editor.set_frontmatter(tmp, this.prev, "");
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = tfile;
    for (let i = next; i != 0; i--) {
      let name = this.editor.get_frontmatter(tmp, this.next);
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.editor.set_frontmatter(note, this.prev, "");
        this.editor.set_frontmatter(tmp, this.next, "");
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    return res;
  }
  get_first_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, -1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  get_last_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, 0, -1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  get_prev_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, 1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  open_prev_notes(tfile = this.current_note) {
    let note = this.get_prev_note(tfile);
    this.open_note(note);
  }
  get_next_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, 0, 1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  open_next_notes(tfile = this.current_note) {
    let note = this.get_next_note(tfile);
    this.open_note(note);
  }
  get_neighbors(tfile = this.current_note) {
    return [
      this.get_prev_note(tfile),
      this.get_next_note(tfile)
    ];
  }
  async chain_set_prev(tfile, prev) {
    if (tfile == null || tfile == prev) {
      return;
    }
    if (prev == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        ""
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        `[[${prev.basename}]]`
      );
    }
  }
  async chain_set_next(tfile, next) {
    if (tfile == null || tfile == next) {
      return;
    }
    if (next == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        ""
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        `[[${next.basename}]]`
      );
    }
  }
  async chain_set_prev_next(prev, next) {
    await this.chain_set_prev(next, prev);
    await this.chain_set_next(prev, next);
  }
  async chain_pop_node(tfile) {
    let notes = this.get_neighbors(tfile);
    await this.chain_set_prev_next(notes[0], notes[1]);
  }
  async chain_insert_node_as_head(tfile, anchor) {
    let head = this.get_first_note(anchor);
    await this.chain_set_prev_next(tfile, head);
  }
  async chain_insert_node_as_tail(tfile, anchor) {
    let tail = this.get_last_note(anchor);
    await this.chain_set_prev_next(tail, tfile);
  }
  async chain_insert_node_after(tfile, anchor) {
    this.chain_pop_node(tfile);
    let next = this.get_next_note(anchor);
    await this.chain_set_prev_next(anchor, tfile);
    await this.chain_set_prev_next(tfile, next);
  }
  async chain_insert_node_before(tfile, anchor) {
    this.chain_pop_node(tfile);
    let prev = this.get_next_note(anchor);
    await this.chain_set_prev_next(tfile, anchor);
    await this.chain_set_prev_next(prev, tfile);
  }
  async chain_link_tfiles(tfiles) {
    let prev = this.get_prev_note(tfiles[0]);
    if (tfiles.contains(prev)) {
      await this.chain_set_prev(tfiles[0], null);
    }
    let next = this.get_next_note(tfiles[tfiles.length - 1]);
    if (tfiles.contains(next)) {
      await this.chain_set_next(tfiles[tfiles.length - 1], null);
    }
    for (let i = 0; i < tfiles.length - 1; i++) {
      await this.chain_set_prev_next(tfiles[i], tfiles[i + 1]);
    }
  }
  async chain_suggester_tfiles(tfile = this.current_note, mode = "suggester") {
    let notes = this.get_same_parent(tfile);
    if (notes.length == 0) {
      return;
    }
    let files = await this.suggester_sort(notes);
    await this.chain_link_tfiles(files);
  }
  sort_tfiles(files, field) {
    if (typeof field === "string") {
      if (field === "name") {
        return files.sort(
          (a, b) => a.name.localeCompare(b.name)
        );
      } else if (field === "mtime") {
        return files.sort(
          (a, b) => a.stat.mtime - b.stat.mtime
        );
      } else if (field === "ctime") {
        return files.sort(
          (a, b) => a.stat.ctime - b.stat.ctime
        );
      } else if (field === "chain") {
        return this.sort_tfiles_by_chain(files);
      }
      return files;
    } else if (typeof field === "object") {
      if (field instanceof Array) {
        let nfiles = this.sort_tfiles(files, field[0]);
        if (field.length >= 2) {
          if (field[1] === "x") {
            return nfiles.reverse();
          }
        }
        return nfiles;
      }
    }
    return files;
  }
  sort_tfiles_by_chain(tfiles) {
    let notes = tfiles.map((f) => f);
    let res = [];
    while (notes.length > 0) {
      let note = notes[0];
      let tmp = [];
      let xchain = this.get_chain(note, -1, -1);
      for (let x of xchain) {
        if (notes.contains(x)) {
          tmp.push(x);
          notes.remove(x);
        }
      }
      res.push(tmp);
    }
    res = res.sort((a, b) => b.length - a.length);
    let rres = [];
    for (let i of res) {
      for (let j of i) {
        rres.push(j);
      }
    }
    return rres;
  }
  sort_tfiles_by_field(tfiles, field) {
    let res = tfiles.sort(
      (a, b) => {
        let av = this.editor.get_frontmatter(a, field);
        let bv = this.editor.get_frontmatter(b, field);
        return av - bv;
      }
    );
    return res;
  }
  async suggester_sort(tfiles) {
    if (!tfiles) {
      return [];
    }
    if (tfiles.length == 0) {
      return [];
    }
    ;
    let kv = {
      "chain": "chain",
      "name": "name",
      "ctime": "ctime",
      "mtime": "mtime",
      "name \u5012\u5E8F": ["name", "x"],
      "ctime \u5012\u5E8F": ["ctime", "x"],
      "mtime \u5012\u5E8F": ["mtime", "x"]
    };
    let field = await this.suggester(
      Object.keys(kv),
      Object.values(kv)
    );
    if (field == null) {
      return [];
    }
    return this.sort_tfiles(tfiles, field);
  }
  view_sort_by_chain() {
    var _a;
    let view = (_a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    )[0]) == null ? void 0 : _a.view;
    if (!view) {
      return;
    }
    view.sort();
    if (view.ready) {
      for (let path in view.fileItems) {
        let item = view.fileItems[path];
        if (item.vChildren) {
          let files = item.vChildren._children.map((f) => f.file);
          files = this.sort_tfiles_by_chain(files);
          let children = item.vChildren._children.sort(
            (a, b) => files.indexOf(a.file) - files.indexOf(b.file)
          );
          item.vChildren.setChildren(children);
        }
      }
      view.tree.infinityScroll.compute();
    }
  }
};
var longform2notechain = (nc) => ({
  id: "longform2notechain",
  name: "Reset Note Chain by LongForm.",
  callback: () => {
    let curr = nc.chain.current_note;
    app.fileManager.processFrontMatter(
      curr,
      (fm) => {
        if (fm["longform"] == null) {
          return;
        }
        let scenes = nc.editor.concat_array(fm.longform.scenes);
        let ignoredFiles = nc.editor.concat_array(fm.longform.ignoredFiles);
        ignoredFiles = ignoredFiles.filter((f) => !scenes.contains(f));
        let notes = nc.editor.concat_array([scenes, ignoredFiles]);
        notes = notes.map((f) => nc.chain.find_tfile(f));
        let tfiles = nc.chain.get_tfiles_of_folder(curr.parent).filter((f) => !notes.contains(f));
        notes = nc.editor.concat_array([tfiles, notes]);
        nc.chain.chain_link_tfiles(notes);
      }
    );
  }
});
var longform4notechain = (nc) => ({
  id: "longform4notechain",
  name: "Reset LongForm Secnes by Note Chain.",
  callback: () => {
    let curr = nc.chain.current_note;
    app.fileManager.processFrontMatter(
      curr,
      (fm) => {
        if (fm["longform"] == null) {
          return;
        }
        let notes = nc.chain.get_tfiles_of_folder(curr.parent);
        notes = nc.chain.sort_tfiles_by_chain(notes);
        fm.longform.scenes = notes.map((f) => f.basename);
      }
    );
  }
});
var sort_file_explorer = (nc) => ({
  id: "sort_file_explorer",
  name: "Sort File Explorer by Note Chain.",
  callback: () => {
    nc.chain.view_sort_by_chain();
  }
});
var commandBuilders = [
  longform2notechain,
  longform4notechain,
  sort_file_explorer
  // suggester_reveal_folder,
];
function addCommands(plugin) {
  commandBuilders.forEach((c) => {
    plugin.addCommand(c(plugin));
  });
}
var NoteChainPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.chain = new NoteChain(this);
    this.editor = new NCEditor(this.app);
    this.app.nc = this;
    await this.loadSettings();
    addCommands(this);
    this.addCommand({
      id: "chain_insert_node",
      name: "Insert node of chain",
      callback: () => {
        this.chain_insert_node();
      }
    });
    this.addCommand({
      id: "chain_set_seq_note",
      name: "Reset the chain of current folder! Warning: It will reset your chain",
      callback: () => {
        this.chain.chain_suggester_tfiles();
      }
    });
    this.addCommand({
      id: "open_notes_smarter",
      name: "Open note smarter",
      callback: () => {
        this.open_note_smarter();
      }
    });
    this.addCommand({
      id: "sugguster_open_note",
      name: "Open note",
      callback: () => {
        this.chain.sugguster_open_note();
      }
    });
    this.addCommand({
      id: "open_prev_notes",
      name: "Open prev note",
      callback: () => {
        this.chain.open_prev_notes();
      }
    });
    this.addCommand({
      id: "open_next_notes",
      name: "Open next note",
      callback: () => {
        this.chain.open_next_notes();
      }
    });
    this.addCommand({
      id: "clear_inlinks",
      name: "Clear inlinks of current file",
      callback: () => {
        this.clear_inlinks();
      }
    });
    this.addCommand({
      id: "move_file_to_another_folder",
      name: "Move current file to another folder",
      callback: () => {
        this.chain.move_file_to_another_folder();
      }
    });
    this.addCommand({
      id: "replace_notes_with_regx",
      name: "Replace by regex",
      callback: () => {
        this.replace_notes_with_regx();
      }
    });
    this.addSettingTab(new NCSettingTab(this.app, this));
    console.log("Zig-Holding:regeister ufunc_on_file_open");
    this.registerEvent(
      this.app.workspace.on("file-open", this.ufunc_on_file_open)
    );
    this.registerEvent(this.app.workspace.on("file-menu", (menu, file) => {
      menu.addItem((item) => {
        item.setTitle("NoteChain: sort by chain").onClick(() => {
          this.chain.view_sort_by_chain();
        });
      });
    }));
  }
  onunload() {
    console.log("Zig-Holding:unregeister ufunc_on_file_open");
    this.app.workspace.off("file-open", this.ufunc_on_file_open);
  }
  async ufunc_on_file_open(file) {
    let zh = await app.plugins.getPlugin("zig-holding");
    if (!zh) {
      return;
    }
    if (zh.settings.refreshDataView) {
      zh.app.commands.executeCommandById(
        "dataview:dataview-force-refresh-views"
      );
    }
    if (zh.settings.refreshTasks) {
      let target = await app.plugins.getPlugin("obsidian-tasks-plugin");
      target.cache.notifySubscribers();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async clear_inlinks(tfile = this.chain.current_note, mode = "suggester") {
    let notes = this.chain.get_inlinks(tfile);
    if (notes.length) {
      if (mode === "suggester") {
        mode = await this.chain.suggester(
          ["\u5220\u9664\u94FE\u63A5", "\u66FF\u6362\u94FE\u63A5", "\u5220\u9664\u6BB5\u843D"],
          [["link", "del"], ["link", "rep"], ["para", "del"]]
        );
      }
      let reg = this.editor.regexp_link(tfile, mode[0]);
      if (reg) {
        for (let note of notes) {
          let target;
          if (mode[1] === "rep") {
            target = tfile.basename;
          } else {
            target = "";
          }
          this.editor.replace(note, reg, target);
        }
      }
    }
  }
  get prompt() {
    return get_tp_func(this.app, "tp.system.prompt");
  }
  async replace_notes_with_regx() {
    let notes = await this.chain.suggester_notes();
    if ((notes == null ? void 0 : notes.length) > 0) {
      try {
        let regs = await this.prompt("\u8981\u66FF\u6362\u7684\u6B63\u5219\u8868\u8FBE\u5F0F");
        if (regs == null) {
          return;
        }
        let reg = new RegExp(regs, "g");
        let target = await this.prompt("\u76EE\u6807\u5B57\u7B26\u4E32");
        if (target == null) {
          return;
        }
        target = target.trim().replace(
          /\\n/g,
          "\n"
        );
        console.log(regs, reg, target);
        for (let note of notes) {
          await this.editor.replace(note, reg, target);
        }
      } catch (error) {
        console.log(error);
      }
    }
  }
  async chain_insert_node() {
    let curr = this.chain.current_note;
    if (curr == null) {
      return;
    }
    let notes = this.chain.get_tfiles_of_folder(curr == null ? void 0 : curr.parent, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    const note = await this.chain.suggester(
      (file) => this.tfile_to_string(
        file,
        this.settings.showLink ? ["PrevNote", "NextNote"] : [],
        "			\u26A1  "
      ),
      notes
    );
    if (!note) {
      return;
    }
    let sitems = [
      "insert_node_after",
      "insert_node_before",
      "insert_node_as_head",
      "insert_node_as_tail"
    ];
    let mode = await this.chain.suggester(
      sitems,
      sitems,
      false,
      "Select Node Insert Mode."
    );
    if (!mode) {
      return;
    }
    console.log(typeof mode, mode);
    if (mode === "insert_node_as_head") {
      this.chain.chain_insert_node_as_head(curr, note);
    } else if (mode === "insert_node_as_tail") {
      this.chain.chain_insert_node_as_tail(curr, note);
    } else if (mode === "insert_node_before") {
      this.chain.chain_insert_node_before(curr, note);
    } else if (mode === "insert_node_after") {
      this.chain.chain_insert_node_after(curr, note);
    } else {
      return;
    }
    if (this.settings.openLink) {
      if (note) {
        if (this.settings.newTab) {
          this.app.workspace.getLeaf(true).openFile(note);
        } else {
          this.app.workspace.activeLeaf.openFile(note);
        }
      }
    }
  }
  tfile_to_string(tfile, fields, seq) {
    let meta = this.app.metadataCache.getFileCache(tfile);
    let items = new Array();
    if (tfile == this.chain.current_note) {
      items.push("\u{1F3E0}" + tfile.basename);
    } else {
      items.push(tfile.basename);
    }
    for (let field of fields) {
      try {
        items.push(meta.frontmatter[field]);
      } catch (error) {
        items.push("-");
      }
    }
    return items.join(seq);
  }
  open_note_smarter() {
    let curr = this.chain.current_note;
    return this.chain.suggester_notes(curr, false).then((notes) => {
      notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
      notes = this.chain.sort_tfiles_by_chain(notes);
      return this.chain.suggester(
        (file) => this.chain.tfile_to_string(file),
        notes
      ).then((note) => {
        return this.chain.open_note(note);
      });
    });
  }
};
var NCSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Zig Holding" });
    containerEl.createEl("h3", { text: "Switch Note" });
    new import_obsidian.Setting(containerEl).setName("newTab").setDesc("\u662F\u5426\u5728\u65B0\u6807\u7B7E\u4E2D\u6253\u5F00\u7B14\u8BB0?").addToggle(
      (text) => text.setValue(this.plugin.settings.newTab).onChange(async (value) => {
        this.plugin.settings.newTab = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("withSelf").setDesc("\u662F\u5426\u663E\u793A\u5F53\u524D\u7B14\u8BB0?").addToggle(
      (text) => text.setValue(this.plugin.settings.withSelf).onChange(async (value) => {
        this.plugin.settings.withSelf = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h4", { text: "Open note in same folder" });
    new import_obsidian.Setting(containerEl).setName("reverse").setDesc("\u662F\u5426\u9006\u5411\u6392\u5E8F?").addToggle(
      (text) => text.setValue(this.plugin.settings.reverse).onChange(async (value) => {
        this.plugin.settings.reverse = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("field").setDesc("\u7B14\u8BB0\u6392\u5E8F\u5B57\u6BB5\uFF1Amtime\uFF0C\u4FEE\u6539\u65F6\u95F4\uFF1Bctime\uFF0C\u521B\u5EFA\u65F6\u95F4\uFF1Bname,\u6587\u4EF6\u540D\uFF1B\u6216\u5176\u5B83\u5143\u6570\u636E\u5B57\u6BB5\u3002").addText((text) => text.setValue(this.plugin.settings.field).onChange(async (value) => {
      this.plugin.settings.field = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h4", { text: "Open note chain" });
    new import_obsidian.Setting(containerEl).setName("PrevChain").setDesc("\u524D\u7F6E\u7B14\u8BB0\u6570\u76EE").addText((text) => text.setValue(this.plugin.settings.PrevChain).onChange(async (value) => {
      this.plugin.settings.PrevChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("NextChain").setDesc("\u540E\u7F6E\u7B14\u8BB0\u6570\u76EE").addText((text) => text.setValue(this.plugin.settings.NextChain).onChange(async (value) => {
      this.plugin.settings.NextChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("sameFolder").setDesc("\u4EC5\u663E\u793A\u5F53\u524D\u6587\u4EF6\u5939\u4E2D\u94FE\u8DEF\uFF0C\u540C\u65F6\u5C55\u793A\u4E0D\u5728\u94FE\u8DEF\u7684\u6587\u4EF6").addToggle(
      (text) => text.setValue(this.plugin.settings.sameFolder).onChange(async (value) => {
        this.plugin.settings.sameFolder = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Note Chain" });
    new import_obsidian.Setting(containerEl).setName("showLink").setDesc("\u662F\u5426\u9009\u62E9\u65F6\u663E\u793A\u7B14\u8BB0\u94FE\u63A5").addToggle(
      (text) => text.setValue(this.plugin.settings.showLink).onChange(async (value) => {
        this.plugin.settings.showLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Sort File Explorer").setDesc("Sort File Explorer by Chain").addToggle(
      (text) => text.setValue(this.plugin.settings.isSortFileExplorer).onChange(async (value) => {
        this.plugin.settings.isSortFileExplorer = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("openLink").setDesc("\u9009\u62E9\u540E\u662F\u5426\u6253\u5F00\u7B14\u8BB0").addToggle(
      (text) => text.setValue(this.plugin.settings.openLink).onChange(async (value) => {
        this.plugin.settings.openLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("allFiles").setDesc("\u662F\u5426\u4ECE\u6240\u6709\u7B14\u8BB0\u4E2D\u9009\u62E9").addToggle(
      (text) => text.setValue(this.plugin.settings.allFiles).onChange(async (value) => {
        this.plugin.settings.allFiles = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "\u521D\u59CB\u5316" });
    new import_obsidian.Setting(containerEl).setName("refreshDataView").setDesc("\u6253\u5F00\u65B0\u7B14\u8BB0\u65F6\u5237\u65B0Dataview\uFF1F").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshDataView).onChange(async (value) => {
        this.plugin.settings.refreshDataView = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("refreshTasks").setDesc("\u6253\u5F00\u65B0\u7B14\u8BB0\u65F6\u5237\u65B0Tasks\uFF1F").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshTasks).onChange(async (value) => {
        this.plugin.settings.refreshTasks = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgXHJcblx0QXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgXHJcblx0UGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLFxyXG5cdFRGaWxlLFRGb2xkZXJcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcclxuXHJcbmludGVyZmFjZSBOQ1NldHRpbmdzIHtcclxuXHRuZXdUYWI6IGJvb2xlYW47XHJcblx0d2l0aFNlbGY6Ym9vbGVhbjtcclxuXHRyZXZlcnNlOmJvb2xlYW47XHJcblx0ZmllbGQ6c3RyaW5nO1xyXG5cdFByZXZDaGFpbjpzdHJpbmc7XHJcblx0TmV4dENoYWluOnN0cmluZztcclxuXHRzaG93TGluazpib29sZWFuO1xyXG5cdG9wZW5MaW5rOmJvb2xlYW47XHJcblx0cmVmcmVzaERhdGFWaWV3OmJvb2xlYW47XHJcblx0cmVmcmVzaFRhc2tzOmJvb2xlYW4sXHJcblx0aXNTb3J0RmlsZUV4cGxvcmVyOmJvb2xlYW4sXHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE5DU2V0dGluZ3MgPSB7XHJcblx0bmV3VGFiIDogdHJ1ZSxcclxuXHR3aXRoU2VsZiA6IHRydWUsXHJcblx0cmV2ZXJzZSA6IHRydWUsXHJcblx0ZmllbGQgOiBcIk5JRFwiLFxyXG5cdFByZXZDaGFpbiA6IFwiMTBcIixcclxuXHROZXh0Q2hhaW4gOiBcIjEwXCIsXHJcblx0c2hvd0xpbmsgOiB0cnVlLFxyXG5cdG9wZW5MaW5rIDogdHJ1ZSxcclxuXHRyZWZyZXNoRGF0YVZpZXcgOiB0cnVlLFxyXG5cdHJlZnJlc2hUYXNrcyA6IHRydWUsXHJcblx0aXNTb3J0RmlsZUV4cGxvcmVyIDogdHJ1ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRfdHBfZnVuYyhhcHA6QXBwLHRhcmdldDpzdHJpbmcpIHtcclxuXHQvLyBcdTgzQjdcdTUzRDYgIHRlbXBsYXRlciBcdTUxRkRcdTY1NzBcclxuXHQvLyBnZXRfdHBfZnVuYyhcInRwLnN5c3RlbS5wcm9tcHRcIilcclxuXHJcblx0bGV0IHRlbXBsYXRlciA9IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcclxuXHRcdFwidGVtcGxhdGVyLW9ic2lkaWFuXCJcclxuXHQpO1xyXG5cclxuXHRsZXQgaXRlbXMgPSB0YXJnZXQuc3BsaXQoXCIuXCIpO1xyXG5cdGlmKGl0ZW1zWzBdLmxvY2FsZUNvbXBhcmUoXCJ0cFwiKSE9MCB8fCBpdGVtcy5sZW5ndGghPTMpe3JldHVybiB1bmRlZmluZWQ7fVxyXG5cdFxyXG5cdGxldCBtb2R1bGVzID0gdGVtcGxhdGVyLnRlbXBsYXRlci5mdW5jdGlvbnNfZ2VuZXJhdG9yLlxyXG5cdFx0aW50ZXJuYWxfZnVuY3Rpb25zLm1vZHVsZXNfYXJyYXkuZmlsdGVyKFxyXG5cdFx0XHQoaXRlbTphbnkpPT4oaXRlbS5uYW1lLmxvY2FsZUNvbXBhcmUoaXRlbXNbMV0pPT0wKVxyXG5cdFx0KTtcclxuXHJcblx0aWYobW9kdWxlcy5sZW5ndGg9PTApe3JldHVybiB1bmRlZmluZWR9XHJcblx0XHJcblx0cmV0dXJuIG1vZHVsZXNbMF0uc3RhdGljX2Z1bmN0aW9ucy5nZXQoaXRlbXNbMl0pO1xyXG59XHJcblxyXG5cclxuXHJcbmNsYXNzIE5DRWRpdG9ye1xyXG5cdGFwcDpBcHA7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDpBcHApe1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa2V5OnN0cmluZyx2YWx1ZTphbnkpe1xyXG5cdFx0bGV0IHByZXYgPSB0aGlzLmdldF9mcm9udG1hdHRlcih0ZmlsZSxrZXkpO1xyXG5cdFx0aWYocHJldj09PXZhbHVlKXtyZXR1cm47fVxyXG5cclxuXHRcdGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcih0ZmlsZSxmbSA9PntcclxuXHRcdFx0Y29uc29sZS5sb2coYCR7dGZpbGUuYmFzZW5hbWV9LS0tJHtrZXl9LS0tJHt2YWx1ZX1gKTtcclxuXHRcdFx0Zm1ba2V5XSA9IHZhbHVlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa2V5OmFueSl7XHJcblx0XHRsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuXHRcdGlmKG1ldGE/LmZyb250bWF0dGVyKXtcclxuXHRcdFx0cmV0dXJuIG1ldGEuZnJvbnRtYXR0ZXJba2V5XTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJlZ2V4cF9saW5rKHRmaWxlOlRGaWxlLG1vZGU6c3RyaW5nKXtcclxuXHRcdC8vW1tub3RlfHxhbGlhc11dXHJcblx0XHRpZihtb2RlPT09J2xpbmsnKXtcclxuXHRcdFx0cmV0dXJuIG5ldyBSZWdFeHAoYFxcXFxbXFxcXFske3RmaWxlLmJhc2VuYW1lfVxcXFx8Py4qXFxcXF1cXFxcXWAsJ2cnKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly9wYXJhZ3JhcGhcclxuXHRcdGlmKG1vZGU9PT0ncGFyYScpe1xyXG5cdFx0XHRyZXR1cm4gbmV3IFJlZ0V4cChgLipcXFxcW1xcXFxbJHt0ZmlsZS5iYXNlbmFtZX1cXFxcfD8uKlxcXFxdXFxcXF0uKmAsJ2cnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHNsZWVwKG1zKXtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxuXHR9XHJcblxyXG5cdGNvbmNhdF9hcnJheShpdGVtczpBcnJheTxhbnk+KXtcclxuXHRcdGlmKGl0ZW1zPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0aWYodHlwZW9mIGl0ZW1zID09PSAnc3RyaW5nJyl7cmV0dXJuIFtpdGVtc107fVxyXG5cdFx0aWYoIShpdGVtcyBpbnN0YW5jZW9mIEFycmF5KSl7cmV0dXJuIFtpdGVtc107fVxyXG5cclxuXHRcdGxldCByZXMgPSBbXTtcclxuXHRcdGZvcihsZXQgaXRlbSBvZiBpdGVtcyl7XHJcblx0XHRcdGlmKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyl7XHJcblx0XHRcdFx0cmVzLnB1c2goaXRlbSk7XHJcblx0XHRcdH1lbHNlIGlmKGl0ZW0gaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0cmVzID0gcmVzLmNvbmNhdCh0aGlzLmNvbmNhdF9hcnJheShpdGVtKSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5wdXNoKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVwbGFjZSh0ZmlsZTpURmlsZSxyZWdleDphbnksdGFyZ2V0OnN0cmluZyl7XHJcblx0XHRpZih0eXBlb2YgcmVnZXggPT09ICdzdHJpbmcnKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQucHJvY2Vzcyh0ZmlsZSwoZGF0YSk9PntcclxuXHRcdFx0XHRpZihkYXRhLmluZGV4T2YocmVnZXgpPi0xKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdSZXBsYWNlOiAnLHRmaWxlLnBhdGgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGEucmVwbGFjZShyZWdleCwgdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pXHJcblx0XHR9ZWxzZSBpZihyZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LnByb2Nlc3ModGZpbGUsKGRhdGEpPT57XHJcblx0XHRcdFx0aWYoZGF0YS5tYXRjaChyZWdleCkpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1JlcGxhY2U6ICcsdGZpbGUucGF0aCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YS5yZXBsYWNlKHJlZ2V4LCB0YXJnZXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIE5vdGVDaGFpbntcclxuXHR6aWc6Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0cHJldjpzdHJpbmc7XHJcblx0bmV4dDpzdHJpbmc7XHJcblx0ZWRpdG9yOk5DRWRpdG9yO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih6aWc6Tm90ZUNoYWluUGx1Z2luLHByZXY9XCJQcmV2Tm90ZVwiLG5leHQ9XCJOZXh0Tm90ZVwiKSB7XHJcblx0XHR0aGlzLnppZyA9IHppZztcclxuXHRcdHRoaXMuYXBwID0gemlnLmFwcDtcclxuXHRcdHRoaXMuZWRpdG9yID0gbmV3IE5DRWRpdG9yKHRoaXMuYXBwKTtcclxuXHRcdHRoaXMucHJldiA9IHByZXY7XHJcblx0XHR0aGlzLm5leHQgPSBuZXh0O1xyXG5cclxuXHRcdHRoaXMuZHZfYXBpID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJkYXRhdmlld1wiKTtcclxuXHR9XHJcblxyXG5cdGdldCBmaW5kX3RmaWxlKCl7XHJcblx0XHRyZXR1cm4gZ2V0X3RwX2Z1bmModGhpcy5hcHAsJ3RwLmZpbGUuZmluZF90ZmlsZScpO1xyXG5cclxuXHR9XHJcblxyXG5cdGdldCBzdWdnZXN0ZXIoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuc3lzdGVtLnN1Z2dlc3RlcicpO1xyXG5cdH1cclxuXHJcblx0Z2V0X2FsbF9mb2xkZXJzKHNvcnRfbW9kZT0nJyl7XHJcblx0XHRyZXR1cm4gdGhpcy5hcHAudmF1bHQuZ2V0QWxsRm9sZGVycygpO1xyXG5cdH1cclxuXHRcclxuXHRzb3J0X2ZvbGRlcnNfYnlfbXRpbWUoZm9sZGVyczpBcnJheTxURm9sZGVyPixyZXZlcnNlPXRydWUpe1xyXG5cdFx0ZnVuY3Rpb24gdWZ1bmMoZjpURm9sZGVyKXtcclxuXHRcdFx0cmV0dXJuIE1hdGgubWF4KFxyXG5cdFx0XHRcdC4uLmYuY2hpbGRyZW4uZmlsdGVyKChmOlRGaWxlKT0+Zi5iYXNlbmFtZSkubWFwKChmOlRGaWxlKT0+Zi5zdGF0XHJcblx0XHRcdFx0Lm10aW1lKVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0XHRsZXQgcmVzID0gZm9sZGVycy5zb3J0KChhLGIpPT51ZnVuYyhhKS11ZnVuYyhiKSk7XHJcblx0XHRpZihyZXZlcnNlKXtcclxuXHRcdFx0cmVzID0gcmVzLnJldmVyc2UoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwpe3JldHVybjt9XHJcblxyXG5cdFx0bGV0IGZvbGRlcnMgPSB0aGlzLmdldF9hbGxfZm9sZGVycygpO1xyXG5cdFx0Zm9sZGVycyA9IHRoaXMuc29ydF9mb2xkZXJzX2J5X210aW1lKGZvbGRlcnNcclxuXHRcdCkuZmlsdGVyKGY9PmYhPXRmaWxlLnBhcmVudCk7XHJcblxyXG5cdFx0aWYodGZpbGUuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdGZvbGRlcnMgPSBmb2xkZXJzLmZpbHRlcigoZjpURmlsZSk9PnRoaXMuZmlsdGVyX3VzZXJfaWdub3JlKGYpKTtcclxuXHRcdH1cclxuXHRcdHRyeSB7XHJcblx0XHRcdGxldCBmb2xkZXIgPSBhd2FpdCB0aGlzLnN1Z2dlc3RlcigoZjpURmlsZSk9PmYucGF0aCxmb2xkZXJzKTtcclxuXHRcdFx0Ly8gXHU3OUZCXHU1MkE4XHU3QjE0XHU4QkIwXHJcblx0XHRcdGxldCBkc3QgPSBmb2xkZXIucGF0aCtcIi9cIit0ZmlsZS5iYXNlbmFtZStcIi5cIit0ZmlsZS5leHRlbnNpb247XHJcblx0XHRcdGF3YWl0IGFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKHRmaWxlLGRzdCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZmlsdGVyX3VzZXJfaWdub3JlKG5vdGU6VEZpbGUpe1xyXG5cdFx0aWYoISh0aGlzLmFwcC52YXVsdC5jb25maWcuYXR0YWNobWVudEZvbGRlclBhdGg9PT0nLi8nKSl7XHJcblx0XHRcdGlmKG5vdGUucGF0aC5zdGFydHNXaXRoKFxyXG5cdFx0XHRcdHRoaXMuYXBwLnZhdWx0LmNvbmZpZy5hdHRhY2htZW50Rm9sZGVyUGF0aClcclxuXHRcdFx0KXtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKHRoaXMuYXBwLnZhdWx0LmNvbmZpZy51c2VySWdub3JlRmlsdGVycyl7XHJcblx0XHRcdGZvcihsZXQgeCBvZiB0aGlzLmFwcC52YXVsdC5jb25maWcudXNlcklnbm9yZUZpbHRlcnMpe1xyXG5cdFx0XHRcdGlmKG5vdGUucGF0aC5zdGFydHNXaXRoKHgpKXtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ3VzdGVyX25vdGUoKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuc29ydF90ZmlsZXMoXHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCksXHJcblx0XHRcdFsnbXRpbWUnLCd4J11cclxuXHRcdCkuZmlsdGVyKChmOlRGaWxlKT0+dGhpcy5maWx0ZXJfdXNlcl9pZ25vcmUoZikpO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLnN1Z2dlc3RlcigoZjpURmlsZSk9PmYucGF0aCxub3Rlcyk7XHJcblx0XHRcdHJldHVybiBub3RlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9wZW5fbm90ZSh0ZmlsZTpURmlsZSxuZXdfdGFiPWZhbHNlKXtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0aWYodGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYucGlubmVkIHx8IG5ld190YWIpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZi5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2d1c3Rlcl9vcGVuX25vdGUoKXtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGxldCBub3RlID0gYXdhaXQgdGhpcy5zdWdndXN0ZXJfbm90ZSgpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhub3RlKTtcclxuXHRcdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cclxuXHRnZXRfdGZpbGUocGF0aCl7XHJcblx0XHRsZXQgbmFtZSA9IHBhdGguc3BsaXQoJ3wnKVswXS5yZXBsYWNlKCdbWycsJycpLnJlcGxhY2UoJ11dJywnJyk7XHJcblx0XHRyZXR1cm4gdGhpcy5maW5kX3RmaWxlKG5hbWUpO1xyXG5cdH1cclxuXHJcblx0Z2V0IE1ERmlsZXMoKXtcclxuXHRcdHJldHVybiBhcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG5cdH1cclxuXHJcblx0Z2V0IGN1cnJlbnRfbm90ZSgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0fVxyXG5cclxuXHRnZXRfaW5saW5rcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuIFtdO31cclxuXHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdFx0bGV0IGR2X2FwaSA9IHRoaXMuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwiZGF0YXZpZXdcIik7XHJcblxyXG5cdFx0bGV0IGlubGlua3MgPSBkdl9hcGkuaW5kZXgubGlua3MuaW52TWFwLmdldCh0ZmlsZS5wYXRoKTtcclxuXHRcdGlmKGlubGlua3M9PXVuZGVmaW5lZCl7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gQXJyYXkuZnJvbShpbmxpbmtzKS5tYXAoXHJcblx0XHRcdFx0KHBhdGgpPT4odGhpcy5hcHAudmF1bHQuZmlsZU1hcFtwYXRoXSlcclxuXHRcdFx0KS5maWx0ZXIoXHJcblx0XHRcdFx0KGl0ZW0pPT4oaXRlbSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X291dGxpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCByZXMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdGxldCBkdl9hcGkgPSB0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcImRhdGF2aWV3XCIpO1xyXG5cdFx0bGV0IGlubGlua3MgPSBkdl9hcGkuaW5kZXgubGlua3MubWFwLmdldCh0ZmlsZS5wYXRoKTtcclxuXHRcdGlmKGlubGlua3M9PXVuZGVmaW5lZCl7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gQXJyYXkuZnJvbShpbmxpbmtzKS5tYXAoXHJcblx0XHRcdFx0KHBhdGgpPT4odGhpcy5hcHAudmF1bHQuZmlsZU1hcFtwYXRoXSlcclxuXHRcdFx0KS5maWx0ZXIoXHJcblx0XHRcdFx0KGl0ZW0pPT4oaXRlbSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2xpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBpbmxpbmtzID0gdGhpcy5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHRsZXQgb3V0bGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyh0ZmlsZSk7XHJcblx0XHRmb3IobGV0IGxpbmsgb2YgaW5saW5rcyl7XHJcblx0XHRcdGlmKCFvdXRsaW5rcy5pbmNsdWRlcyhsaW5rKSl7XHJcblx0XHRcdFx0b3V0bGlua3MucHVzaChsaW5rKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb3V0bGlua3M7XHJcblx0fVxyXG5cclxuXHRnZXRfc2FtZV9wYXJlbnQodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0X3RmaWxlc19vZl9mb2xkZXIodGZpbGU/LnBhcmVudCxmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRnZXRfdGZpbGVzX29mX2ZvbGRlcih0Zm9sZGVyOlRGb2xkZXIsd2l0aF9jaGlsZHJlbj10cnVlKXtcclxuXHRcdGlmKHRmb2xkZXI9PW51bGwpe3JldHVybiBbXTt9XHJcblx0XHRsZXQgbm90ZXMgPSBbXTtcclxuXHRcdGZvcihsZXQgYyBvZiB0Zm9sZGVyLmNoaWxkcmVuKXtcclxuXHRcdFx0aWYoYyBpbnN0YW5jZW9mIFRGaWxlICYmIGMuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdFx0bm90ZXMucHVzaChjKTtcclxuXHRcdFx0fWVsc2UgaWYoYyBpbnN0YW5jZW9mIFRGb2xkZXIgJiYgd2l0aF9jaGlsZHJlbil7XHJcblx0XHRcdFx0bGV0IHRtcCA9IHRoaXMuZ2V0X3RmaWxlc19vZl9mb2xkZXIoYyk7XHJcblx0XHRcdFx0Zm9yKGxldCB4IG9mIHRtcCl7XHJcblx0XHRcdFx0XHRub3Rlcy5wdXNoKHgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5vdGVzO1xyXG5cclxuXHR9XHJcblxyXG5cdHBhcnNlX2l0ZW0oaXRlbSl7XHJcblx0XHR2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxKTtcclxuXHRcdGxldCBrd2FyZ3MgPSB7fVxyXG5cdFx0aWYoYXJncy5sZW5ndGg9PTEpe1xyXG5cdFx0XHRrd2FyZ3MgPSBhcmdzWzBdO1xyXG5cdFx0fVxyXG5cdFx0bGV0IHNlcSA9IGt3YXJnc1snc2VxJ107XHJcblxyXG5cdFx0aWYoc2VxIT1udWxsKXtcclxuXHRcdFx0cmV0dXJuIGAke3NlcX0gLT4gJHtpdGVtfWA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbTtcclxuXHR9XHJcblxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0aWYodGZpbGUucGFyZW50PT1jdXJyLnBhcmVudCl7XHJcblx0XHRcdG1zZyA9IHRmaWxlLmJhc2VuYW1lO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdG1zZyA9IHRmaWxlLnBhdGg7XHJcblx0XHR9XHJcblx0XHRpZih0ZmlsZT09dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRyZXR1cm4gYFx1RDgzQ1x1REZFMCAke21zZ31gXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG1zZztcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHJcblx0cGFyc2VfaXRlbXMoaXRlbXM6QXJyYXk8c3RyaW5nfFRGaWxlPil7XHJcblx0XHR2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxKTtcclxuXHRcdGxldCBrd2FyZ3MgPSB7fVxyXG5cdFx0aWYoYXJncy5sZW5ndGg9PTEpe1xyXG5cdFx0XHRrd2FyZ3MgPSBhcmdzWzBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCByZXMgPSBbXTtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlKGk8aXRlbXMubGVuZ3RoKXtcclxuXHRcdFx0aWYoa3dhcmdzWydzZXEnXSl7XHJcblx0XHRcdFx0cmVzLnB1c2godGhpcy5wYXJzZV9pdGVtKGl0ZW1zW2ldLHsnc2VxJzppKzF9KSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5wdXNoKHRoaXMucGFyc2VfaXRlbShpdGVtc1tpXSkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ2VzdGVyX25vdGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLGN1cnJfZmlyc3Q9dHJ1ZSxzbW9kZT0nJyl7XHJcblx0XHRsZXQga3YgPSBbXHRcdFx0XHJcblx0XHRcdCdcdTU0MENcdTdFQTdcdTc2RUVcdTVGNTUnLFxyXG5cdFx0XHQnXHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxJyxcclxuXHRcdFx0J1x1NTQwQ1x1N0VBN1x1NzZFRVx1NUY1NStcdTVCNTBcdTc2RUVcdTVGNTUnLFxyXG5cdFx0XHQnXHU1MUZBXHU5NEZFK1x1NTE2NVx1OTRGRScsXHJcblx0XHRcdCdcdTUxNjVcdTk0RkUnLFxyXG5cdFx0XHQnXHU1MUZBXHU5NEZFJyxcclxuXHRcdFx0J1x1NjI0MFx1NjcwOVx1N0IxNFx1OEJCMCcsXHJcblx0XHRcdCdyZWNlbnQtZmlsZXMtb2JzaWRpYW4nXHJcblx0XHRdXHJcblx0XHRcclxuXHRcdGlmKGN1cnJfZmlyc3Qpe1xyXG5cdFx0XHRrdi51bnNoaWZ0KCdcdTVGNTNcdTUyNERcdTdCMTRcdThCQjAnKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGt2LnB1c2goJ1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCcpXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCBrdnMgPSBbXVxyXG5cdFx0bGV0IGkgPSAxO1xyXG5cdFx0Zm9yKGxldCB4IG9mIGt2KXtcclxuXHRcdFx0a3ZzLnB1c2goYCR7aSsrfSAke3h9YCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1vZGUgPSAnJztcclxuXHRcdGlmKGt2LmNvbnRhaW5zKHNtb2RlKSl7XHJcblx0XHRcdG1vZGUgPSBzbW9kZTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtb2RlID0gYXdhaXQgdGhpcy5zdWdnZXN0ZXIoa3ZzLGt2KTtcclxuXHRcdH1cclxuXHRcdGlmKG1vZGU9PT0nXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwJyl7XHJcblx0XHRcdHJldHVybiBbdGZpbGVdO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTU0MENcdTdFQTdcdTc2RUVcdTVGNTUnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3NhbWVfcGFyZW50KHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0nXHU1NDBDXHU3RUE3XHU3NkVFXHU1RjU1K1x1NUI1MFx1NzZFRVx1NUY1NScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcih0ZmlsZT8ucGFyZW50LHRydWUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTUxRkFcdTk0RkUrXHU1MTY1XHU5NEZFJyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NTE2NVx1OTRGRScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NTFGQVx1OTRGRScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTYyNDBcdTY3MDlcdTdCMTRcdThCQjAnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuTURGaWxlcztcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0ncmVjZW50LWZpbGVzLW9ic2lkaWFuJyl7XHJcblx0XHRcdGxldCByID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJyZWNlbnQtZmlsZXMtb2JzaWRpYW5cIik7XHJcblx0XHRcdGlmKCFyKXtyZXR1cm4gW107fVxyXG5cdFx0XHRyZXR1cm4gT2JqZWN0LnZhbHVlcyhcclxuXHRcdFx0XHRyLmRhdGEucmVjZW50RmlsZXMpLm1hcChmPT50aGlzLmFwcC52YXVsdC5maWxlTWFwW2YucGF0aF1cclxuXHRcdFx0KS5maWx0ZXIoZj0+Zik7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1N0IxNFx1OEJCMFx1OTRGRVx1Njc2MScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfY2hhaW4oXHJcblx0XHRcdFx0dGZpbGUsXHJcblx0XHRcdFx0TnVtYmVyKHRoaXMuemlnLnNldHRpbmdzLlByZXZDaGFpbiksXHJcblx0XHRcdFx0TnVtYmVyKHRoaXMuemlnLnNldHRpbmdzLk5leHRDaGFpbilcclxuXHRcdFx0KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gQ2hhaW5cclxuXHRnZXRfY2hhaW4odGZpbGU9dGhpcy5jdXJyZW50X25vdGUscHJldj0xMCxuZXh0PTEwLHdpdGhfc2VsZj10cnVlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRpZih3aXRoX3NlbGYpe1xyXG5cdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB0bXAgPSB0ZmlsZTtcclxuXHRcdGZvcihsZXQgaT1wcmV2O2khPTA7aS0tKXtcclxuXHRcdFx0bGV0IG5hbWUgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIodG1wLHRoaXMucHJldik7XHJcblx0XHRcdGlmKCFuYW1lKXticmVha31cclxuXHRcclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZShuYW1lKTtcclxuXHRcdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZSBpZihyZXMuaW5jbHVkZXMobm90ZSkpe1xyXG5cdFx0XHRcdC8vIFx1NkJDRlx1NkIyMVx1ODFFQVx1NTJBOFx1NTIyMFx1OTY2NFx1NUZBQVx1NzNBRlx1OTRGRVx1NjNBNVxyXG5cdFx0XHRcdHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihub3RlLHRoaXMubmV4dCxcIlwiKTtcclxuXHRcdFx0XHR0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIodG1wLHRoaXMucHJldixcIlwiKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnVuc2hpZnQobm90ZSk7XHJcblx0XHRcdFx0dG1wID0gbm90ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dG1wID0gdGZpbGU7XHJcblx0XHRmb3IobGV0IGk9bmV4dDtpIT0wO2ktLSl7XHJcblx0XHRcdGxldCBuYW1lID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRtcCx0aGlzLm5leHQpO1xyXG5cdFx0XHRpZighbmFtZSl7YnJlYWt9XHJcblx0XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUobmFtZSk7XHJcblx0XHRcdGlmKCFub3RlKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2UgaWYocmVzLmluY2x1ZGVzKG5vdGUpKXtcclxuXHRcdFx0XHQvLyBcdTZCQ0ZcdTZCMjFcdTgxRUFcdTUyQThcdTUyMjBcdTk2NjRcdTVGQUFcdTczQUZcdTk0RkVcdTYzQTVcclxuXHRcdFx0XHR0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIobm90ZSx0aGlzLnByZXYsXCJcIik7XHJcblx0XHRcdFx0dGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKHRtcCx0aGlzLm5leHQsXCJcIik7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5wdXNoKG5vdGUpO1xyXG5cdFx0XHRcdHRtcCA9IG5vdGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRnZXRfZmlyc3Rfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9jaGFpbih0ZmlsZSwtMSwwLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzWzBdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2xhc3Rfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9jaGFpbih0ZmlsZSwwLC0xLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzW25vdGVzLmxlbmd0aC0xXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9wcmV2X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5nZXRfY2hhaW4odGZpbGUsMSwwLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzWzBdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b3Blbl9wcmV2X25vdGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlID0gdGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlKTtcclxuXHRcdHRoaXMub3Blbl9ub3RlKG5vdGUpO1xyXG5cdH1cclxuXHJcblx0Z2V0X25leHRfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9jaGFpbih0ZmlsZSwwLDEsZmFsc2UpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gbm90ZXNbbm90ZXMubGVuZ3RoLTFdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b3Blbl9uZXh0X25vdGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlID0gdGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlKTtcclxuXHRcdHRoaXMub3Blbl9ub3RlKG5vdGUpO1xyXG5cdH1cclxuXHJcblx0Z2V0X25laWdoYm9ycyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHR0aGlzLmdldF9wcmV2X25vdGUodGZpbGUpLFxyXG5cdFx0XHR0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpLFxyXG5cdFx0XVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBjaGFpbl9zZXRfcHJldih0ZmlsZTpURmlsZSxwcmV2OlRGaWxlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsIHx8IHRmaWxlPT1wcmV2KXtyZXR1cm47fVxyXG5cdFx0aWYocHJldj09bnVsbCApe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdFx0dGZpbGUsdGhpcy5wcmV2LCcnXHJcblx0XHRcdCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRcdHRmaWxlLHRoaXMucHJldixgW1ske3ByZXYuYmFzZW5hbWV9XV1gXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9zZXRfbmV4dCh0ZmlsZTpURmlsZSxuZXh0OlRGaWxlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsIHx8IHRmaWxlPT1uZXh0KXtyZXR1cm47fVxyXG5cdFx0aWYobmV4dD09bnVsbCApe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdFx0dGZpbGUsdGhpcy5uZXh0LCcnXHJcblx0XHRcdCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRcdHRmaWxlLHRoaXMubmV4dCxgW1ske25leHQuYmFzZW5hbWV9XV1gXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9zZXRfcHJldl9uZXh0KHByZXY6VEZpbGUsbmV4dDpURmlsZSl7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9wcmV2KG5leHQscHJldik7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9uZXh0KHByZXYsbmV4dCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9wb3Bfbm9kZSh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9uZWlnaGJvcnModGZpbGUpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KG5vdGVzWzBdLG5vdGVzWzFdKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlX2FzX2hlYWQodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCBoZWFkID0gdGhpcy5nZXRfZmlyc3Rfbm90ZShhbmNob3IpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KHRmaWxlLGhlYWQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGVfYXNfdGFpbCh0ZmlsZTpURmlsZSxhbmNob3I6VEZpbGUpe1xyXG5cdFx0bGV0IHRhaWwgPSB0aGlzLmdldF9sYXN0X25vdGUoYW5jaG9yKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXZfbmV4dCh0YWlsLHRmaWxlKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlX2FmdGVyKHRmaWxlOlRGaWxlLGFuY2hvcjpURmlsZSl7XHJcblx0XHR0aGlzLmNoYWluX3BvcF9ub2RlKHRmaWxlKTtcclxuXHJcblx0XHRsZXQgbmV4dCA9IHRoaXMuZ2V0X25leHRfbm90ZShhbmNob3IpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KGFuY2hvcix0ZmlsZSk7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9wcmV2X25leHQodGZpbGUsbmV4dCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdHRoaXMuY2hhaW5fcG9wX25vZGUodGZpbGUpO1xyXG5cdFx0bGV0IHByZXYgPSB0aGlzLmdldF9uZXh0X25vdGUoYW5jaG9yKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXZfbmV4dCh0ZmlsZSxhbmNob3IpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KHByZXYsdGZpbGUpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fbGlua190ZmlsZXModGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRsZXQgcHJldiA9IHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZXNbMF0pO1xyXG5cdFx0aWYodGZpbGVzLmNvbnRhaW5zKHByZXYpKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldih0ZmlsZXNbMF0sbnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG5leHQgPSB0aGlzLmdldF9uZXh0X25vdGUodGZpbGVzW3RmaWxlcy5sZW5ndGgtMV0pO1xyXG5cdFx0aWYodGZpbGVzLmNvbnRhaW5zKG5leHQpKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfbmV4dCh0ZmlsZXNbdGZpbGVzLmxlbmd0aC0xXSxudWxsKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cclxuXHRcdGZvcihsZXQgaT0wO2k8dGZpbGVzLmxlbmd0aC0xO2krKyl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXZfbmV4dCh0ZmlsZXNbaV0sdGZpbGVzW2krMV0pXHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIGNoYWluX3N1Z2dlc3Rlcl90ZmlsZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUsbW9kZT0nc3VnZ2VzdGVyJyl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9zYW1lX3BhcmVudCh0ZmlsZSk7XHJcblx0XHRpZihub3Rlcy5sZW5ndGg9PTApe3JldHVybjt9XHJcblxyXG5cdFx0bGV0IGZpbGVzID0gYXdhaXQgdGhpcy5zdWdnZXN0ZXJfc29ydChub3Rlcyk7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX2xpbmtfdGZpbGVzKGZpbGVzKTtcclxuXHR9XHJcblxyXG5cdHNvcnRfdGZpbGVzKGZpbGVzOkFycmF5PFRGaWxlPixmaWVsZDphbnkpe1xyXG5cdFx0aWYodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJyl7XHJcblx0XHRcdGlmKGZpZWxkPT09J25hbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdtdGltZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGEsYik9PihhLnN0YXQubXRpbWUtYi5zdGF0Lm10aW1lKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nY3RpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0LmN0aW1lLWIuc3RhdC5jdGltZSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZihmaWVsZD09PSdjaGFpbicpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKGZpbGVzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmlsZXM7XHJcblx0XHR9ZWxzZSBpZih0eXBlb2YgZmllbGQgPT09ICdvYmplY3QnKXtcclxuXHRcdFx0aWYoZmllbGQgaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0bGV0IG5maWxlcyA9IHRoaXMuc29ydF90ZmlsZXMoZmlsZXMsZmllbGRbMF0pO1xyXG5cdFx0XHRcdGlmKGZpZWxkLmxlbmd0aD49Mil7XHJcblx0XHRcdFx0XHRpZihmaWVsZFsxXT09PSd4Jyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBuZmlsZXMucmV2ZXJzZSgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBuZmlsZXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblx0XHJcblx0c29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRsZXQgbm90ZXMgPSB0ZmlsZXMubWFwKGY9PmYpO1xyXG5cdFx0bGV0IHJlcyA9IFtdO1xyXG5cdFx0d2hpbGUobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgbm90ZSA9IG5vdGVzWzBdO1xyXG5cdFx0XHRsZXQgdG1wID0gW107XHJcblx0XHRcdGxldCB4Y2hhaW4gPSB0aGlzLmdldF9jaGFpbihub3RlLC0xLC0xKTtcclxuXHRcdFx0Zm9yKGxldCB4IG9mIHhjaGFpbil7XHJcblx0XHRcdFx0aWYobm90ZXMuY29udGFpbnMoeCkpe1xyXG5cdFx0XHRcdFx0dG1wLnB1c2goeCk7XHJcblx0XHRcdFx0XHRub3Rlcy5yZW1vdmUoeCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJlcy5wdXNoKHRtcCk7XHJcblx0XHR9XHJcblx0XHRyZXMgPSByZXMuc29ydCgoYSxiKT0+Yi5sZW5ndGgtYS5sZW5ndGgpO1xyXG5cdFx0bGV0IHJyZXMgPSBbXTtcclxuXHRcdGZvcihsZXQgaSBvZiByZXMpe1xyXG5cdFx0XHRmb3IobGV0IGogb2YgaSl7XHJcblx0XHRcdFx0cnJlcy5wdXNoKGopO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcnJlcztcclxuXHR9XHJcblxyXG5cdHNvcnRfdGZpbGVzX2J5X2ZpZWxkKHRmaWxlczpBcnJheTxURmlsZT4sZmllbGQ6c3RyaW5nKXtcclxuXHRcdGxldCByZXMgPSB0ZmlsZXMuc29ydChcclxuXHRcdFx0KGEsYik9PntcclxuXHRcdFx0XHRsZXQgYXYgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoYSxmaWVsZCk7XHJcblx0XHRcdFx0bGV0IGJ2ID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGIsZmllbGQpO1xyXG5cdFx0XHRcdHJldHVybiBhdiAtIGJ2O1xyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ2VzdGVyX3NvcnQodGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRpZighdGZpbGVzKXtyZXR1cm4gW107fVxyXG5cdFx0aWYodGZpbGVzLmxlbmd0aD09MCl7cmV0dXJuIFtdfTtcclxuXHRcdGxldCBrdiA9IHtcclxuXHRcdFx0J2NoYWluJzonY2hhaW4nLFxyXG5cdFx0XHQnbmFtZSc6J25hbWUnLFxyXG5cdFx0XHQnY3RpbWUnOidjdGltZScsXHJcblx0XHRcdCdtdGltZSc6J210aW1lJyxcclxuXHRcdFx0J25hbWUgXHU1MDEyXHU1RThGJzpbJ25hbWUnLCd4J10sXHJcblx0XHRcdCdjdGltZSBcdTUwMTJcdTVFOEYnOlsnY3RpbWUnLCd4J10sXHJcblx0XHRcdCdtdGltZSBcdTUwMTJcdTVFOEYnOlsnbXRpbWUnLCd4J10sXHJcblx0XHR9XHJcblx0XHRsZXQgZmllbGQgPSBhd2FpdCB0aGlzLnN1Z2dlc3RlcihcclxuXHRcdFx0T2JqZWN0LmtleXMoa3YpLFxyXG5cdFx0XHRPYmplY3QudmFsdWVzKGt2KVxyXG5cdFx0KTtcclxuXHRcdGlmKGZpZWxkPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0cmV0dXJuIHRoaXMuc29ydF90ZmlsZXModGZpbGVzLGZpZWxkKTtcclxuXHR9XHJcblxyXG5cdHZpZXdfc29ydF9ieV9jaGFpbigpe1xyXG5cdFx0bGV0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFxyXG5cdFx0XHRcImZpbGUtZXhwbG9yZXJcIlxyXG5cdFx0KVswXT8udmlldztcclxuXHRcdGlmKCF2aWV3KXtyZXR1cm47fVxyXG5cdFx0dmlldy5zb3J0KCk7XHJcblx0XHRpZih2aWV3LnJlYWR5KXtcclxuXHRcdFx0Zm9yKGxldCBwYXRoIGluIHZpZXcuZmlsZUl0ZW1zKXtcclxuXHRcdFx0XHRsZXQgaXRlbSA9IHZpZXcuZmlsZUl0ZW1zW3BhdGhdO1xyXG5cdFx0XHRcdGlmKGl0ZW0udkNoaWxkcmVuKXtcclxuXHRcdFx0XHRcdGxldCBmaWxlcyA9IGl0ZW0udkNoaWxkcmVuLl9jaGlsZHJlbi5tYXAoZj0+Zi5maWxlKTtcclxuXHRcdFx0XHRcdGZpbGVzID0gdGhpcy5zb3J0X3RmaWxlc19ieV9jaGFpbihmaWxlcyk7XHJcblx0XHRcdFx0XHRsZXQgY2hpbGRyZW4gPSBpdGVtLnZDaGlsZHJlbi5fY2hpbGRyZW4uc29ydChcclxuXHRcdFx0XHRcdFx0KGEsYik9PmZpbGVzLmluZGV4T2YoYS5maWxlKS1maWxlcy5pbmRleE9mKGIuZmlsZSlcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdGl0ZW0udkNoaWxkcmVuLnNldENoaWxkcmVuKGNoaWxkcmVuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmlldy50cmVlLmluZmluaXR5U2Nyb2xsLmNvbXB1dGUoKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGxvbmdmb3JtMm5vdGVjaGFpbiA9IChuYzpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6IFwibG9uZ2Zvcm0ybm90ZWNoYWluXCIsXHJcbiAgICBuYW1lOiBcIlJlc2V0IE5vdGUgQ2hhaW4gYnkgTG9uZ0Zvcm0uXCIsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdGxldCBjdXJyID0gbmMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0YXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihcclxuXHRcdFx0Y3VycixcclxuXHRcdFx0Zm0gPT57XHJcblx0XHRcdFx0aWYoZm1bJ2xvbmdmb3JtJ109PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0bGV0IHNjZW5lcyA9IG5jLmVkaXRvci5jb25jYXRfYXJyYXkoZm0ubG9uZ2Zvcm0uc2NlbmVzKTtcclxuXHRcdFx0XHRsZXQgaWdub3JlZEZpbGVzID0gbmMuZWRpdG9yLmNvbmNhdF9hcnJheShmbS5sb25nZm9ybS5pZ25vcmVkRmlsZXMpO1xyXG5cdFx0XHRcdGlnbm9yZWRGaWxlcyA9IGlnbm9yZWRGaWxlcy5maWx0ZXIoZj0+IXNjZW5lcy5jb250YWlucyhmKSk7XHJcblx0XHRcdFx0bGV0IG5vdGVzID0gbmMuZWRpdG9yLmNvbmNhdF9hcnJheShbc2NlbmVzLGlnbm9yZWRGaWxlc10pO1xyXG5cdFx0XHRcdG5vdGVzID0gbm90ZXMubWFwKGY9Pm5jLmNoYWluLmZpbmRfdGZpbGUoZikpO1xyXG5cdFx0XHRcdGxldCB0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfdGZpbGVzX29mX2ZvbGRlcihjdXJyLnBhcmVudCkuZmlsdGVyKGY9PiFub3Rlcy5jb250YWlucyhmKSk7XHJcblx0XHRcdFx0bm90ZXMgPSBuYy5lZGl0b3IuY29uY2F0X2FycmF5KFt0ZmlsZXMsbm90ZXNdKTtcclxuXHRcdFx0XHRuYy5jaGFpbi5jaGFpbl9saW5rX3RmaWxlcyhub3Rlcyk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgbG9uZ2Zvcm00bm90ZWNoYWluID0gKG5jOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogXCJsb25nZm9ybTRub3RlY2hhaW5cIixcclxuICAgIG5hbWU6IFwiUmVzZXQgTG9uZ0Zvcm0gU2VjbmVzIGJ5IE5vdGUgQ2hhaW4uXCIsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdGxldCBjdXJyID0gbmMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0YXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihcclxuXHRcdFx0Y3VycixcclxuXHRcdFx0Zm0gPT57XHJcblx0XHRcdFx0aWYoZm1bJ2xvbmdmb3JtJ109PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0bGV0IG5vdGVzID0gbmMuY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoY3Vyci5wYXJlbnQpO1xyXG5cdFx0XHRcdG5vdGVzID0gbmMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cdFx0XHRcdGZtLmxvbmdmb3JtLnNjZW5lcyA9IG5vdGVzLm1hcChmPT5mLmJhc2VuYW1lKTtcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdH1cclxufSk7XHJcblxyXG5cclxuY29uc3Qgc29ydF9maWxlX2V4cGxvcmVyID0gKG5jOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogXCJzb3J0X2ZpbGVfZXhwbG9yZXJcIixcclxuICAgIG5hbWU6IFwiU29ydCBGaWxlIEV4cGxvcmVyIGJ5IE5vdGUgQ2hhaW4uXCIsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdG5jLmNoYWluLnZpZXdfc29ydF9ieV9jaGFpbigpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuY29uc3Qgc3VnZ2VzdGVyX3JldmVhbF9mb2xkZXIgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiBcInJldmVhbF9mb2xkZXJcIixcclxuICAgIG5hbWU6IFwiUmV2ZWFsIEZvbGRlclwiLFxyXG4gICAgY2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdGxldCBmb2xkZXJzID0gcGx1Z2luLmNoYWluLmdldF9hbGxfZm9sZGVycygpO1xyXG5cdFx0bGV0IGZvbGRlciA9IHBsdWdpbi5jaGFpbi5zdWdnZXN0ZXIoXHJcblx0XHRcdGY9PmYucGF0aCxcclxuXHRcdFx0Zm9sZGVycyxcclxuXHRcdFx0ZmFsc2UsXHJcblx0XHRcdCdDaG9vc2UgZm9sZGVyIHRvIHJldmVhbC4nXHJcblx0XHQpLnRoZW4oXHJcblx0XHRcdChmb2xkZXIpPT57XHJcblx0XHRcdFx0cGx1Z2luLmFwcC5pbnRlcm5hbFBsdWdpbnMucGx1Z2luc1tcImZpbGUtZXhwbG9yZXJcIl0uaW5zdGFuY2UucmV2ZWFsSW5Gb2xkZXIoZm9sZGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG4gICAgfSxcclxufSk7XHJcblxyXG5cclxuY29uc3QgY29tbWFuZEJ1aWxkZXJzID0gW1xyXG5cdGxvbmdmb3JtMm5vdGVjaGFpbixcclxuXHRsb25nZm9ybTRub3RlY2hhaW4sXHJcblx0c29ydF9maWxlX2V4cGxvcmVyXHJcblx0Ly8gc3VnZ2VzdGVyX3JldmVhbF9mb2xkZXIsXHJcbl07XHJcblxyXG5mdW5jdGlvbiBhZGRDb21tYW5kcyhwbHVnaW46UGx1Z2luKSB7XHJcbiAgICBjb21tYW5kQnVpbGRlcnMuZm9yRWFjaCgoYykgPT4ge1xyXG4gICAgICAgIHBsdWdpbi5hZGRDb21tYW5kKGMocGx1Z2luKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZUNoYWluUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogTkNTZXR0aW5ncztcclxuXHRjaGFpbiA6IE5vdGVDaGFpbjtcclxuXHRlZGl0b3IgOiBOQ0VkaXRvcjsgXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHJcblx0XHR0aGlzLmNoYWluID0gbmV3IE5vdGVDaGFpbih0aGlzKTtcclxuXHJcblx0XHR0aGlzLmVkaXRvciA9IG5ldyBOQ0VkaXRvcih0aGlzLmFwcCk7XHJcblx0XHR0aGlzLmFwcC5uYyA9IHRoaXM7XHJcblxyXG5cclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0YWRkQ29tbWFuZHModGhpcyk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjaGFpbl9pbnNlcnRfbm9kZScsXHJcblx0XHRcdG5hbWU6ICdJbnNlcnQgbm9kZSBvZiBjaGFpbicsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGFpbl9pbnNlcnRfbm9kZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjaGFpbl9zZXRfc2VxX25vdGUnLFxyXG5cdFx0XHRuYW1lOiAnUmVzZXQgdGhlIGNoYWluIG9mIGN1cnJlbnQgZm9sZGVyISBXYXJuaW5nOiBJdCB3aWxsIHJlc2V0IHlvdXIgY2hhaW4nLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4uY2hhaW5fc3VnZ2VzdGVyX3RmaWxlcygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ29wZW5fbm90ZXNfc21hcnRlcicsXHJcblx0XHRcdG5hbWU6ICdPcGVuIG5vdGUgc21hcnRlcicsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5vcGVuX25vdGVfc21hcnRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3N1Z2d1c3Rlcl9vcGVuX25vdGUnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBub3RlJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYWluLnN1Z2d1c3Rlcl9vcGVuX25vdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdvcGVuX3ByZXZfbm90ZXMnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBwcmV2IG5vdGUnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4ub3Blbl9wcmV2X25vdGVzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnb3Blbl9uZXh0X25vdGVzJyxcclxuXHRcdFx0bmFtZTogJ09wZW4gbmV4dCBub3RlJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYWluLm9wZW5fbmV4dF9ub3RlcygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjbGVhcl9pbmxpbmtzJyxcclxuXHRcdFx0bmFtZTogJ0NsZWFyIGlubGlua3Mgb2YgY3VycmVudCBmaWxlJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNsZWFyX2lubGlua3MoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXInLFxyXG5cdFx0XHRuYW1lOiAnTW92ZSBjdXJyZW50IGZpbGUgdG8gYW5vdGhlciBmb2xkZXInLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4ubW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3JlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4JyxcclxuXHRcdFx0bmFtZTogJ1JlcGxhY2UgYnkgcmVnZXgnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucmVwbGFjZV9ub3Rlc193aXRoX3JlZ3goKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTkNTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coJ1ppZy1Ib2xkaW5nOnJlZ2Vpc3RlciB1ZnVuY19vbl9maWxlX29wZW4nKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCB0aGlzLnVmdW5jX29uX2ZpbGVfb3BlbilcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImZpbGUtbWVudVwiLCAobWVudSwgZmlsZSkgPT4ge1xyXG5cdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHQuc2V0VGl0bGUoXCJOb3RlQ2hhaW46IHNvcnQgYnkgY2hhaW5cIilcclxuXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5jaGFpbi52aWV3X3NvcnRfYnlfY2hhaW4oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KSk7XHJcblxyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHRjb25zb2xlLmxvZygnWmlnLUhvbGRpbmc6dW5yZWdlaXN0ZXIgdWZ1bmNfb25fZmlsZV9vcGVuJyk7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub2ZmKCdmaWxlLW9wZW4nLCB0aGlzLnVmdW5jX29uX2ZpbGVfb3Blbik7XHJcblx0fVxyXG5cclxuXHRhc3luYyB1ZnVuY19vbl9maWxlX29wZW4oZmlsZSl7XHJcblx0XHRsZXQgemggPSBhd2FpdCBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJ6aWctaG9sZGluZ1wiKTtcclxuXHRcdGlmKCF6aCl7cmV0dXJuO31cclxuXHRcdGlmKHpoLnNldHRpbmdzLnJlZnJlc2hEYXRhVmlldyl7XHJcblx0XHRcdHpoLmFwcC5jb21tYW5kcy5leGVjdXRlQ29tbWFuZEJ5SWQoXHJcblx0XHRcdFx0XCJkYXRhdmlldzpkYXRhdmlldy1mb3JjZS1yZWZyZXNoLXZpZXdzXCJcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0aWYoemguc2V0dGluZ3MucmVmcmVzaFRhc2tzKXtcclxuXHRcdFx0bGV0IHRhcmdldCA9IGF3YWl0IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcIm9ic2lkaWFuLXRhc2tzLXBsdWdpblwiKTtcclxuXHRcdFx0dGFyZ2V0LmNhY2hlLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNsZWFyX2lubGlua3ModGZpbGU9dGhpcy5jaGFpbi5jdXJyZW50X25vdGUsbW9kZT0nc3VnZ2VzdGVyJyl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aCl7XHJcblx0XHRcdGlmKG1vZGU9PT0nc3VnZ2VzdGVyJyl7XHJcblx0XHRcdFx0bW9kZSA9IGF3YWl0IHRoaXMuY2hhaW4uc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdFx0W1wiXHU1MjIwXHU5NjY0XHU5NEZFXHU2M0E1XCIsJ1x1NjZGRlx1NjM2Mlx1OTRGRVx1NjNBNScsXCJcdTUyMjBcdTk2NjRcdTZCQjVcdTg0M0RcIixdLFxyXG5cdFx0XHRcdFx0W1snbGluaycsJ2RlbCddLFsnbGluaycsJ3JlcCddLFsncGFyYScsJ2RlbCddXVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IHJlZyA9IHRoaXMuZWRpdG9yLnJlZ2V4cF9saW5rKHRmaWxlLG1vZGVbMF0pO1xyXG5cdFx0XHRpZihyZWcpe1xyXG5cdFx0XHRcdGZvcihsZXQgbm90ZSBvZiBub3Rlcyl7XHJcblx0XHRcdFx0XHRsZXQgdGFyZ2V0O1xyXG5cdFx0XHRcdFx0aWYobW9kZVsxXT09PSdyZXAnKXtcclxuXHRcdFx0XHRcdFx0dGFyZ2V0PXRmaWxlLmJhc2VuYW1lO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdHRhcmdldD0nJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5lZGl0b3IucmVwbGFjZShub3RlLHJlZyx0YXJnZXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0IHByb21wdCgpe1xyXG5cdFx0cmV0dXJuIGdldF90cF9mdW5jKHRoaXMuYXBwLCd0cC5zeXN0ZW0ucHJvbXB0Jyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyByZXBsYWNlX25vdGVzX3dpdGhfcmVneCgpe1xyXG5cdFx0bGV0IG5vdGVzID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXJfbm90ZXMoKTtcclxuXHRcdGlmKG5vdGVzPy5sZW5ndGg+MCl7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0bGV0IHJlZ3MgPSBhd2FpdCB0aGlzLnByb21wdCgnXHU4OTgxXHU2NkZGXHU2MzYyXHU3Njg0XHU2QjYzXHU1MjE5XHU4ODY4XHU4RkJFXHU1RjBGJyk7XHJcblx0XHRcdFx0aWYocmVncz09bnVsbCl7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCByZWcgPSBuZXcgUmVnRXhwKHJlZ3MsJ2cnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRsZXQgdGFyZ2V0ID0gYXdhaXQgdGhpcy5wcm9tcHQoJ1x1NzZFRVx1NjgwN1x1NUI1N1x1N0IyNlx1NEUzMicpO1xyXG5cdFx0XHRcdGlmKHRhcmdldD09bnVsbCl7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRhcmdldCA9IHRhcmdldC50cmltKCkucmVwbGFjZShcclxuXHRcdFx0XHRcdC9cXFxcbi9nLCdcXG4nXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZWdzLHJlZyx0YXJnZXQpO1xyXG5cdFx0XHRcdGZvcihsZXQgbm90ZSBvZiBub3Rlcyl7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5yZXBsYWNlKG5vdGUscmVnLHRhcmdldCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGUoKXtcclxuXHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYoY3Vycj09bnVsbCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGN1cnI/LnBhcmVudCxmYWxzZSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsWydtdGltZScsJ3gnXSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cdFx0Ly9ub3RlcyA9IG5vdGVzLmZpbHRlcihmPT5mIT1jdXJyKTtcclxuXHJcblx0XHRjb25zdCBub3RlID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXIoXHJcblx0XHRcdChmaWxlKSA9PiB0aGlzLnRmaWxlX3RvX3N0cmluZyhcclxuXHRcdFx0XHRcdGZpbGUsXHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dMaW5rID8gW1wiUHJldk5vdGVcIixcIk5leHROb3RlXCJdIDpbXSxcclxuXHRcdFx0XHRcdFwiXFx0XFx0XFx0XHUyNkExICBcIlxyXG5cdFx0XHRcdCksIFxyXG5cdFx0XHRub3Rlc1xyXG5cdFx0KTsgXHJcblx0XHRcclxuXHRcdGlmKCFub3RlKXtyZXR1cm47fVxyXG5cdFx0XHJcblx0XHRsZXQgc2l0ZW1zID0gW1xyXG5cdFx0XHRcImluc2VydF9ub2RlX2FmdGVyXCIsXHJcblx0XHRcdFwiaW5zZXJ0X25vZGVfYmVmb3JlXCIsXHJcblx0XHRcdFwiaW5zZXJ0X25vZGVfYXNfaGVhZFwiLFxyXG5cdFx0XHRcImluc2VydF9ub2RlX2FzX3RhaWxcIixcclxuXHRcdF07XHJcblx0XHRsZXQgbW9kZSA9IGF3YWl0IHRoaXMuY2hhaW4uc3VnZ2VzdGVyKFxyXG5cdFx0XHRzaXRlbXMsc2l0ZW1zLGZhbHNlLFwiU2VsZWN0IE5vZGUgSW5zZXJ0IE1vZGUuXCJcclxuXHRcdCk7XHJcblx0XHRcclxuXHRcdGlmKCFtb2RlKXtyZXR1cm47fVxyXG5cclxuXHRcdGNvbnNvbGUubG9nKHR5cGVvZihtb2RlKSxtb2RlKTtcclxuXHJcblx0XHRpZihtb2RlPT09J2luc2VydF9ub2RlX2FzX2hlYWQnKXtcclxuXHRcdFx0dGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hc19oZWFkKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J2luc2VydF9ub2RlX2FzX3RhaWwnKXtcclxuXHRcdFx0dGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J2luc2VydF9ub2RlX2JlZm9yZScpe1xyXG5cdFx0XHR0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2JlZm9yZShjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdpbnNlcnRfbm9kZV9hZnRlcicpe1xyXG5cdFx0XHR0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FmdGVyKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKHRoaXMuc2V0dGluZ3Mub3Blbkxpbmspe1xyXG5cdFx0XHRpZihub3RlKXtcclxuXHRcdFx0XHRpZih0aGlzLnNldHRpbmdzLm5ld1RhYil7XHJcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZShub3RlKTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLm9wZW5GaWxlKG5vdGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0IH1cclxuXHRcdCB9XHJcblx0fVxyXG5cdFxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZSxmaWVsZHMsc2VxKXtcclxuXHRcdGxldCBtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0bGV0IGl0ZW1zID0gbmV3IEFycmF5KCk7XHJcblx0XHRpZih0ZmlsZT09dGhpcy5jaGFpbi5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRpdGVtcy5wdXNoKCdcdUQ4M0NcdURGRTAnICsgdGZpbGUuYmFzZW5hbWUpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aXRlbXMucHVzaCh0ZmlsZS5iYXNlbmFtZSlcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Zm9yKGxldCBmaWVsZCBvZiBmaWVsZHMpe1xyXG5cdFx0XHR0cnl7XHJcblx0XHRcdFx0aXRlbXMucHVzaChtZXRhLmZyb250bWF0dGVyW2ZpZWxkXSk7XHJcblx0XHRcdH1jYXRjaChlcnJvcil7XHJcblx0XHRcdFx0aXRlbXMucHVzaChcIi1cIik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtcy5qb2luKHNlcSk7XHJcblx0fVxyXG5cclxuXHRvcGVuX25vdGVfc21hcnRlcigpe1xyXG5cdFx0Ly8gXHU5NEZFXHU1RjBGXHU4QzAzXHU3NTI4XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0cmV0dXJuIHRoaXMuY2hhaW4uc3VnZ2VzdGVyX25vdGVzKGN1cnIsZmFsc2UpLnRoZW4oKG5vdGVzKT0+e1xyXG5cdFx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsWydtdGltZScsJ3gnXSk7XHJcblx0XHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbihub3Rlcyk7XHJcblx0XHRcdHJldHVybiB0aGlzLmNoYWluLnN1Z2dlc3RlcihcclxuXHRcdFx0XHQoZmlsZSkgPT4gdGhpcy5jaGFpbi50ZmlsZV90b19zdHJpbmcoZmlsZSksIFxyXG5cdFx0XHRcdG5vdGVzXHJcblx0XHRcdCkudGhlbigobm90ZSk9PntcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jaGFpbi5vcGVuX25vdGUobm90ZSk7XHJcblx0XHRcdH0pXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG59XHJcblxyXG5jbGFzcyBOQ1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IE5vdGVDaGFpblBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIlppZyBIb2xkaW5nXCIgfSk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiU3dpdGNoIE5vdGVcIiB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ25ld1RhYicpXHJcblx0XHRcdC5zZXREZXNjKCdcdTY2MkZcdTU0MjZcdTU3MjhcdTY1QjBcdTY4MDdcdTdCN0VcdTRFMkRcdTYyNTNcdTVGMDBcdTdCMTRcdThCQjA/JylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubmV3VGFiKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm5ld1RhYiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCd3aXRoU2VsZicpXHJcblx0XHRcdC5zZXREZXNjKCdcdTY2MkZcdTU0MjZcdTY2M0VcdTc5M0FcdTVGNTNcdTUyNERcdTdCMTRcdThCQjA/JylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud2l0aFNlbGYpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud2l0aFNlbGYgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0XHRcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwgeyB0ZXh0OiBcIk9wZW4gbm90ZSBpbiBzYW1lIGZvbGRlclwiIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgncmV2ZXJzZScpXHJcblx0XHRcdC5zZXREZXNjKCdcdTY2MkZcdTU0MjZcdTkwMDZcdTU0MTFcdTYzOTJcdTVFOEY/JylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmV2ZXJzZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXZlcnNlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ2ZpZWxkJylcclxuXHRcdFx0LnNldERlc2MoJ1x1N0IxNFx1OEJCMFx1NjM5Mlx1NUU4Rlx1NUI1N1x1NkJCNVx1RkYxQW10aW1lXHVGRjBDXHU0RkVFXHU2NTM5XHU2NUY2XHU5NUY0XHVGRjFCY3RpbWVcdUZGMENcdTUyMUJcdTVFRkFcdTY1RjZcdTk1RjRcdUZGMUJuYW1lLFx1NjU4N1x1NEVGNlx1NTQwRFx1RkYxQlx1NjIxNlx1NTE3Nlx1NUI4M1x1NTE0M1x1NjU3MFx1NjM2RVx1NUI1N1x1NkJCNVx1MzAwMicpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdFx0XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogXCJPcGVuIG5vdGUgY2hhaW5cIiB9KTtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnUHJldkNoYWluJylcclxuXHRcdFx0LnNldERlc2MoJ1x1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMFx1NjU3MFx1NzZFRScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5QcmV2Q2hhaW4pXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdOZXh0Q2hhaW4nKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU1NDBFXHU3RjZFXHU3QjE0XHU4QkIwXHU2NTcwXHU3NkVFJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLk5leHRDaGFpbilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5OZXh0Q2hhaW4gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ3NhbWVGb2xkZXInKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdcdTRFQzVcdTY2M0VcdTc5M0FcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjZcdTU5MzlcdTRFMkRcdTk0RkVcdThERUZcdUZGMENcdTU0MENcdTY1RjZcdTVDNTVcdTc5M0FcdTRFMERcdTU3MjhcdTk0RkVcdThERUZcdTc2ODRcdTY1ODdcdTRFRjYnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2FtZUZvbGRlcilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2FtZUZvbGRlciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJOb3RlIENoYWluXCIgfSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnc2hvd0xpbmsnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdcdTY2MkZcdTU0MjZcdTkwMDlcdTYyRTlcdTY1RjZcdTY2M0VcdTc5M0FcdTdCMTRcdThCQjBcdTk0RkVcdTYzQTUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0xpbmspXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dMaW5rID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdTb3J0IEZpbGUgRXhwbG9yZXInKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTb3J0IEZpbGUgRXhwbG9yZXIgYnkgQ2hhaW4nKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNTb3J0RmlsZUV4cGxvcmVyKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1NvcnRGaWxlRXhwbG9yZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ29wZW5MaW5rJylcclxuXHRcdFx0XHQuc2V0RGVzYygnXHU5MDA5XHU2MkU5XHU1NDBFXHU2NjJGXHU1NDI2XHU2MjUzXHU1RjAwXHU3QjE0XHU4QkIwJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5MaW5rKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuTGluayA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnYWxsRmlsZXMnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdcdTY2MkZcdTU0MjZcdTRFQ0VcdTYyNDBcdTY3MDlcdTdCMTRcdThCQjBcdTRFMkRcdTkwMDlcdTYyRTknKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsRmlsZXMpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbEZpbGVzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJcdTUyMURcdTU5Q0JcdTUzMTZcIiB9KTtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdyZWZyZXNoRGF0YVZpZXcnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdcdTYyNTNcdTVGMDBcdTY1QjBcdTdCMTRcdThCQjBcdTY1RjZcdTUyMzdcdTY1QjBEYXRhdmlld1x1RkYxRicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hEYXRhVmlldyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdyZWZyZXNoVGFza3MnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdcdTYyNTNcdTVGMDBcdTY1QjBcdTdCMTRcdThCQjBcdTY1RjZcdTUyMzdcdTY1QjBUYXNrc1x1RkYxRicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoVGFza3MpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hUYXNrcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUlPO0FBa0JQLElBQU0sbUJBQStCO0FBQUEsRUFDcEMsUUFBUztBQUFBLEVBQ1QsVUFBVztBQUFBLEVBQ1gsU0FBVTtBQUFBLEVBQ1YsT0FBUTtBQUFBLEVBQ1IsV0FBWTtBQUFBLEVBQ1osV0FBWTtBQUFBLEVBQ1osVUFBVztBQUFBLEVBQ1gsVUFBVztBQUFBLEVBQ1gsaUJBQWtCO0FBQUEsRUFDbEIsY0FBZTtBQUFBLEVBQ2Ysb0JBQXFCO0FBQ3RCO0FBRUEsU0FBUyxZQUFZQSxNQUFRLFFBQWU7QUFJM0MsTUFBSSxZQUFZQSxLQUFJLFFBQVE7QUFBQSxJQUMzQjtBQUFBLEVBQ0Q7QUFFQSxNQUFJLFFBQVEsT0FBTyxNQUFNLEdBQUc7QUFDNUIsTUFBRyxNQUFNLENBQUMsRUFBRSxjQUFjLElBQUksS0FBRyxLQUFLLE1BQU0sVUFBUSxHQUFFO0FBQUMsV0FBTztBQUFBLEVBQVU7QUFFeEUsTUFBSSxVQUFVLFVBQVUsVUFBVSxvQkFDakMsbUJBQW1CLGNBQWM7QUFBQSxJQUNoQyxDQUFDLFNBQVksS0FBSyxLQUFLLGNBQWMsTUFBTSxDQUFDLENBQUMsS0FBRztBQUFBLEVBQ2pEO0FBRUQsTUFBRyxRQUFRLFVBQVEsR0FBRTtBQUFDLFdBQU87QUFBQSxFQUFTO0FBRXRDLFNBQU8sUUFBUSxDQUFDLEVBQUUsaUJBQWlCLElBQUksTUFBTSxDQUFDLENBQUM7QUFDaEQ7QUFJQSxJQUFNLFdBQU4sTUFBYztBQUFBLEVBR2IsWUFBWUEsTUFBUTtBQUNuQixTQUFLLE1BQU1BO0FBQUEsRUFDWjtBQUFBLEVBRUEsTUFBTSxnQkFBZ0IsT0FBWSxLQUFXLE9BQVU7QUFDdEQsUUFBSSxPQUFPLEtBQUssZ0JBQWdCLE9BQU0sR0FBRztBQUN6QyxRQUFHLFNBQU8sT0FBTTtBQUFDO0FBQUEsSUFBTztBQUV4QixVQUFNLEtBQUssSUFBSSxZQUFZLG1CQUFtQixPQUFNLFFBQUs7QUFDeEQsY0FBUSxJQUFJLEdBQUcsTUFBTSxjQUFjLFNBQVMsT0FBTztBQUNuRCxTQUFHLEdBQUcsSUFBSTtBQUFBLElBQ1gsQ0FBQztBQUFBLEVBQ0Y7QUFBQSxFQUVBLGdCQUFnQixPQUFZLEtBQVE7QUFDbkMsUUFBSSxPQUFPLEtBQUssSUFBSSxjQUFjLGFBQWEsS0FBSztBQUNwRCxRQUFHLDZCQUFNLGFBQVk7QUFDcEIsYUFBTyxLQUFLLFlBQVksR0FBRztBQUFBLElBQzVCO0FBQUEsRUFDRDtBQUFBLEVBRUEsWUFBWSxPQUFZLE1BQVk7QUFFbkMsUUFBRyxTQUFPLFFBQU87QUFDaEIsYUFBTyxJQUFJLE9BQU8sU0FBUyxNQUFNLHdCQUF1QixHQUFHO0FBQUEsSUFDNUQ7QUFHQSxRQUFHLFNBQU8sUUFBTztBQUNoQixhQUFPLElBQUksT0FBTyxXQUFXLE1BQU0sMEJBQXlCLEdBQUc7QUFBQSxJQUNoRTtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sSUFBRztBQUNSLFdBQU8sSUFBSSxRQUFRLGFBQVcsV0FBVyxTQUFTLEVBQUUsQ0FBQztBQUFBLEVBQ3REO0FBQUEsRUFFQSxhQUFhLE9BQWlCO0FBQzdCLFFBQUcsU0FBTyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUMxQixRQUFHLE9BQU8sVUFBVSxVQUFTO0FBQUMsYUFBTyxDQUFDLEtBQUs7QUFBQSxJQUFFO0FBQzdDLFFBQUcsRUFBRSxpQkFBaUIsUUFBTztBQUFDLGFBQU8sQ0FBQyxLQUFLO0FBQUEsSUFBRTtBQUU3QyxRQUFJLE1BQU0sQ0FBQztBQUNYLGFBQVEsUUFBUSxPQUFNO0FBQ3JCLFVBQUcsT0FBTyxTQUFTLFVBQVM7QUFDM0IsWUFBSSxLQUFLLElBQUk7QUFBQSxNQUNkLFdBQVMsZ0JBQWdCLE9BQU07QUFDOUIsY0FBTSxJQUFJLE9BQU8sS0FBSyxhQUFhLElBQUksQ0FBQztBQUFBLE1BQ3pDLE9BQUs7QUFDSixZQUFJLEtBQUssSUFBSTtBQUFBLE1BQ2Q7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sUUFBUSxPQUFZLE9BQVUsUUFBYztBQUNqRCxRQUFHLE9BQU8sVUFBVSxVQUFTO0FBQzVCLFlBQU0sS0FBSyxJQUFJLE1BQU0sUUFBUSxPQUFNLENBQUMsU0FBTztBQUMxQyxZQUFHLEtBQUssUUFBUSxLQUFLLElBQUUsSUFBRztBQUN6QixrQkFBUSxJQUFJLGFBQVksTUFBTSxJQUFJO0FBQ2xDLGlCQUFPLEtBQUssUUFBUSxPQUFPLE1BQU07QUFBQSxRQUNsQztBQUNBLGVBQU87QUFBQSxNQUNSLENBQUM7QUFBQSxJQUNGLFdBQVMsaUJBQWlCLFFBQU87QUFDaEMsWUFBTSxLQUFLLElBQUksTUFBTSxRQUFRLE9BQU0sQ0FBQyxTQUFPO0FBQzFDLFlBQUcsS0FBSyxNQUFNLEtBQUssR0FBRTtBQUNwQixrQkFBUSxJQUFJLGFBQVksTUFBTSxJQUFJO0FBQ2xDLGlCQUFPLEtBQUssUUFBUSxPQUFPLE1BQU07QUFBQSxRQUNsQztBQUNBLGVBQU87QUFBQSxNQUNSLENBQUM7QUFBQSxJQUNGO0FBQUEsRUFDRDtBQUNEO0FBRUEsSUFBTSxZQUFOLE1BQWU7QUFBQSxFQU9kLFlBQVksS0FBb0IsT0FBSyxZQUFXLE9BQUssWUFBWTtBQUNoRSxTQUFLLE1BQU07QUFDWCxTQUFLLE1BQU0sSUFBSTtBQUNmLFNBQUssU0FBUyxJQUFJLFNBQVMsS0FBSyxHQUFHO0FBQ25DLFNBQUssT0FBTztBQUNaLFNBQUssT0FBTztBQUVaLFNBQUssU0FBUyxLQUFLLElBQUksUUFBUSxVQUFVLFVBQVU7QUFBQSxFQUNwRDtBQUFBLEVBRUEsSUFBSSxhQUFZO0FBQ2YsV0FBTyxZQUFZLEtBQUssS0FBSSxvQkFBb0I7QUFBQSxFQUVqRDtBQUFBLEVBRUEsSUFBSSxZQUFXO0FBQ2QsV0FBTyxZQUFZLEtBQUssS0FBSSxxQkFBcUI7QUFBQSxFQUNsRDtBQUFBLEVBRUEsZ0JBQWdCLFlBQVUsSUFBRztBQUM1QixXQUFPLEtBQUssSUFBSSxNQUFNLGNBQWM7QUFBQSxFQUNyQztBQUFBLEVBRUEsc0JBQXNCLFNBQXVCLFVBQVEsTUFBSztBQUN6RCxhQUFTLE1BQU0sR0FBVTtBQUN4QixhQUFPLEtBQUs7QUFBQSxRQUNYLEdBQUcsRUFBRSxTQUFTLE9BQU8sQ0FBQ0MsT0FBVUEsR0FBRSxRQUFRLEVBQUUsSUFBSSxDQUFDQSxPQUFVQSxHQUFFLEtBQzVELEtBQUs7QUFBQSxNQUNQO0FBQUEsSUFDRDtBQUNBLFFBQUksTUFBTSxRQUFRLEtBQUssQ0FBQyxHQUFFLE1BQUksTUFBTSxDQUFDLElBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0MsUUFBRyxTQUFRO0FBQ1YsWUFBTSxJQUFJLFFBQVE7QUFBQSxJQUNuQjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLDRCQUE0QixRQUFNLEtBQUssY0FBYTtBQUN6RCxRQUFHLFNBQU8sTUFBSztBQUFDO0FBQUEsSUFBTztBQUV2QixRQUFJLFVBQVUsS0FBSyxnQkFBZ0I7QUFDbkMsY0FBVSxLQUFLO0FBQUEsTUFBc0I7QUFBQSxJQUNyQyxFQUFFLE9BQU8sT0FBRyxLQUFHLE1BQU0sTUFBTTtBQUUzQixRQUFHLE1BQU0sY0FBWSxNQUFLO0FBQ3pCLGdCQUFVLFFBQVEsT0FBTyxDQUFDLE1BQVUsS0FBSyxtQkFBbUIsQ0FBQyxDQUFDO0FBQUEsSUFDL0Q7QUFDQSxRQUFJO0FBQ0gsVUFBSSxTQUFTLE1BQU0sS0FBSyxVQUFVLENBQUMsTUFBVSxFQUFFLE1BQUssT0FBTztBQUUzRCxVQUFJLE1BQU0sT0FBTyxPQUFLLE1BQUksTUFBTSxXQUFTLE1BQUksTUFBTTtBQUNuRCxZQUFNLElBQUksWUFBWSxXQUFXLE9BQU0sR0FBRztBQUFBLElBQzNDLFNBQVMsT0FBUDtBQUFBLElBRUY7QUFBQSxFQUNEO0FBQUEsRUFFQSxtQkFBbUIsTUFBVztBQUM3QixRQUFHLEVBQUUsS0FBSyxJQUFJLE1BQU0sT0FBTyx5QkFBdUIsT0FBTTtBQUN2RCxVQUFHLEtBQUssS0FBSztBQUFBLFFBQ1osS0FBSyxJQUFJLE1BQU0sT0FBTztBQUFBLE1BQW9CLEdBQzFDO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBQ0EsUUFBRyxLQUFLLElBQUksTUFBTSxPQUFPLG1CQUFrQjtBQUMxQyxlQUFRLEtBQUssS0FBSyxJQUFJLE1BQU0sT0FBTyxtQkFBa0I7QUFDcEQsWUFBRyxLQUFLLEtBQUssV0FBVyxDQUFDLEdBQUU7QUFDMUIsaUJBQU87QUFBQSxRQUNSO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxpQkFBZ0I7QUFDckIsUUFBSSxRQUFRLEtBQUs7QUFBQSxNQUNoQixLQUFLLElBQUksTUFBTSxTQUFTO0FBQUEsTUFDeEIsQ0FBQyxTQUFRLEdBQUc7QUFBQSxJQUNiLEVBQUUsT0FBTyxDQUFDLE1BQVUsS0FBSyxtQkFBbUIsQ0FBQyxDQUFDO0FBQzlDLFFBQUk7QUFDSCxVQUFJLE9BQU8sTUFBTSxLQUFLLFVBQVUsQ0FBQyxNQUFVLEVBQUUsTUFBSyxLQUFLO0FBQ3ZELGFBQU87QUFBQSxJQUNSLFNBQVMsT0FBUDtBQUFBLElBQ0Y7QUFBQSxFQUNEO0FBQUEsRUFFQSxVQUFVLE9BQVksVUFBUSxPQUFNO0FBQ25DLFFBQUcsT0FBTTtBQUNSLFVBQUcsS0FBSyxJQUFJLFVBQVUsV0FBVyxVQUFVLFNBQVE7QUFDbEQsZUFBTyxLQUFLLElBQUksVUFBVSxRQUFRLElBQUksRUFBRSxTQUFTLEtBQUs7QUFBQSxNQUN2RCxPQUFLO0FBQ0osZUFBTyxLQUFLLElBQUksVUFBVSxXQUFXLFNBQVMsS0FBSztBQUFBLE1BQ3BEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sc0JBQXFCO0FBQzFCLFFBQUk7QUFDSCxVQUFJLE9BQU8sTUFBTSxLQUFLLGVBQWU7QUFDckMsY0FBUSxJQUFJLElBQUk7QUFDaEIsV0FBSyxVQUFVLElBQUk7QUFBQSxJQUNwQixTQUFTLE9BQVA7QUFBQSxJQUNGO0FBQUEsRUFDRDtBQUFBLEVBSUEsVUFBVSxNQUFLO0FBQ2QsUUFBSSxPQUFPLEtBQUssTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLFFBQVEsTUFBSyxFQUFFLEVBQUUsUUFBUSxNQUFLLEVBQUU7QUFDOUQsV0FBTyxLQUFLLFdBQVcsSUFBSTtBQUFBLEVBQzVCO0FBQUEsRUFFQSxJQUFJLFVBQVM7QUFDWixXQUFPLElBQUksTUFBTSxpQkFBaUI7QUFBQSxFQUNuQztBQUFBLEVBRUEsSUFBSSxlQUFjO0FBQ2pCLFdBQU8sS0FBSyxJQUFJLFVBQVUsY0FBYztBQUFBLEVBQ3pDO0FBQUEsRUFFQSxZQUFZLFFBQU0sS0FBSyxjQUFhO0FBQ25DLFFBQUcsU0FBTyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUUxQixRQUFJLE1BQU0sSUFBSSxNQUFNO0FBRXBCLFFBQUksU0FBUyxLQUFLLElBQUksUUFBUSxVQUFVLFVBQVU7QUFFbEQsUUFBSSxVQUFVLE9BQU8sTUFBTSxNQUFNLE9BQU8sSUFBSSxNQUFNLElBQUk7QUFDdEQsUUFBRyxXQUFTLFFBQVU7QUFDckIsYUFBTyxDQUFDO0FBQUEsSUFDVCxPQUFLO0FBQ0osYUFBTyxNQUFNLEtBQUssT0FBTyxFQUFFO0FBQUEsUUFDMUIsQ0FBQyxTQUFRLEtBQUssSUFBSSxNQUFNLFFBQVEsSUFBSTtBQUFBLE1BQ3JDLEVBQUU7QUFBQSxRQUNELENBQUMsU0FBUTtBQUFBLE1BQ1Y7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsYUFBYSxRQUFNLEtBQUssY0FBYTtBQUNwQyxRQUFHLFNBQU8sTUFBSztBQUFDLGFBQU8sQ0FBQztBQUFBLElBQUU7QUFFMUIsUUFBSSxNQUFNLElBQUksTUFBTTtBQUNwQixRQUFJLFNBQVMsS0FBSyxJQUFJLFFBQVEsVUFBVSxVQUFVO0FBQ2xELFFBQUksVUFBVSxPQUFPLE1BQU0sTUFBTSxJQUFJLElBQUksTUFBTSxJQUFJO0FBQ25ELFFBQUcsV0FBUyxRQUFVO0FBQ3JCLGFBQU8sQ0FBQztBQUFBLElBQ1QsT0FBSztBQUNKLGFBQU8sTUFBTSxLQUFLLE9BQU8sRUFBRTtBQUFBLFFBQzFCLENBQUMsU0FBUSxLQUFLLElBQUksTUFBTSxRQUFRLElBQUk7QUFBQSxNQUNyQyxFQUFFO0FBQUEsUUFDRCxDQUFDLFNBQVE7QUFBQSxNQUNWO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFVBQVUsUUFBTSxLQUFLLGNBQWE7QUFDakMsUUFBSSxVQUFVLEtBQUssWUFBWSxLQUFLO0FBQ3BDLFFBQUksV0FBVyxLQUFLLGFBQWEsS0FBSztBQUN0QyxhQUFRLFFBQVEsU0FBUTtBQUN2QixVQUFHLENBQUMsU0FBUyxTQUFTLElBQUksR0FBRTtBQUMzQixpQkFBUyxLQUFLLElBQUk7QUFBQSxNQUNuQjtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsZ0JBQWdCLFFBQU0sS0FBSyxjQUFhO0FBQ3ZDLFdBQU8sS0FBSyxxQkFBcUIsK0JBQU8sUUFBTyxLQUFLO0FBQUEsRUFDckQ7QUFBQSxFQUVBLHFCQUFxQixTQUFnQixnQkFBYyxNQUFLO0FBQ3ZELFFBQUcsV0FBUyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUM1QixRQUFJLFFBQVEsQ0FBQztBQUNiLGFBQVEsS0FBSyxRQUFRLFVBQVM7QUFDN0IsVUFBRyxhQUFhLHlCQUFTLEVBQUUsY0FBWSxNQUFLO0FBQzNDLGNBQU0sS0FBSyxDQUFDO0FBQUEsTUFDYixXQUFTLGFBQWEsMkJBQVcsZUFBYztBQUM5QyxZQUFJLE1BQU0sS0FBSyxxQkFBcUIsQ0FBQztBQUNyQyxpQkFBUSxLQUFLLEtBQUk7QUFDaEIsZ0JBQU0sS0FBSyxDQUFDO0FBQUEsUUFDYjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBRVI7QUFBQSxFQUVBLFdBQVcsTUFBSztBQUNmLFFBQUksT0FBTyxDQUFDLEVBQUUsTUFBTSxLQUFLLFNBQVMsRUFBRSxNQUFNLENBQUM7QUFDM0MsUUFBSSxTQUFTLENBQUM7QUFDZCxRQUFHLEtBQUssVUFBUSxHQUFFO0FBQ2pCLGVBQVMsS0FBSyxDQUFDO0FBQUEsSUFDaEI7QUFDQSxRQUFJLE1BQU0sT0FBTyxLQUFLO0FBRXRCLFFBQUcsT0FBSyxNQUFLO0FBQ1osYUFBTyxHQUFHLFVBQVU7QUFBQSxJQUNyQjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxnQkFBZ0IsT0FBWTtBQUMzQixRQUFJLE9BQU8sS0FBSztBQUNoQixRQUFJLE1BQU07QUFDVixRQUFHLE1BQU0sVUFBUSxLQUFLLFFBQU87QUFDNUIsWUFBTSxNQUFNO0FBQUEsSUFDYixPQUFLO0FBQ0osWUFBTSxNQUFNO0FBQUEsSUFDYjtBQUNBLFFBQUcsU0FBTyxLQUFLLGNBQWE7QUFDM0IsYUFBTyxhQUFNO0FBQUEsSUFDZCxPQUFLO0FBQ0osYUFBTztBQUFBLElBQ1I7QUFBQSxFQUVEO0FBQUEsRUFFQSxZQUFZLE9BQTBCO0FBQ3JDLFFBQUksT0FBTyxDQUFDLEVBQUUsTUFBTSxLQUFLLFNBQVMsRUFBRSxNQUFNLENBQUM7QUFDM0MsUUFBSSxTQUFTLENBQUM7QUFDZCxRQUFHLEtBQUssVUFBUSxHQUFFO0FBQ2pCLGVBQVMsS0FBSyxDQUFDO0FBQUEsSUFDaEI7QUFFQSxRQUFJLE1BQU0sQ0FBQztBQUNYLFFBQUksSUFBSTtBQUNSLFdBQU0sSUFBRSxNQUFNLFFBQU87QUFDcEIsVUFBRyxPQUFPLEtBQUssR0FBRTtBQUNoQixZQUFJLEtBQUssS0FBSyxXQUFXLE1BQU0sQ0FBQyxHQUFFLEVBQUMsT0FBTSxJQUFFLEVBQUMsQ0FBQyxDQUFDO0FBQUEsTUFDL0MsT0FBSztBQUNKLFlBQUksS0FBSyxLQUFLLFdBQVcsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUFBLE1BQ25DO0FBRUE7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sZ0JBQWdCLFFBQU0sS0FBSyxjQUFhLGFBQVcsTUFBSyxRQUFNLElBQUc7QUFDdEUsUUFBSSxLQUFLO0FBQUEsTUFDUjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNEO0FBRUEsUUFBRyxZQUFXO0FBQ2IsU0FBRyxRQUFRLDBCQUFNO0FBQUEsSUFDbEIsT0FBSztBQUNKLFNBQUcsS0FBSywwQkFBTTtBQUFBLElBQ2Y7QUFFQSxRQUFJLE1BQU0sQ0FBQztBQUNYLFFBQUksSUFBSTtBQUNSLGFBQVEsS0FBSyxJQUFHO0FBQ2YsVUFBSSxLQUFLLEdBQUcsT0FBTyxHQUFHO0FBQUEsSUFDdkI7QUFFQSxRQUFJLE9BQU87QUFDWCxRQUFHLEdBQUcsU0FBUyxLQUFLLEdBQUU7QUFDckIsYUFBTztBQUFBLElBQ1IsT0FBSztBQUNKLGFBQU8sTUFBTSxLQUFLLFVBQVUsS0FBSSxFQUFFO0FBQUEsSUFDbkM7QUFDQSxRQUFHLFNBQU8sNEJBQU87QUFDaEIsYUFBTyxDQUFDLEtBQUs7QUFBQSxJQUNkLFdBQVMsU0FBTyw0QkFBTztBQUN0QixhQUFPLEtBQUssZ0JBQWdCLEtBQUs7QUFBQSxJQUNsQyxXQUFTLFNBQU8sK0NBQVc7QUFDMUIsYUFBTyxLQUFLLHFCQUFxQiwrQkFBTyxRQUFPLElBQUk7QUFBQSxJQUNwRCxXQUFTLFNBQU8sNkJBQVE7QUFDdkIsYUFBTyxLQUFLLFVBQVUsS0FBSztBQUFBLElBQzVCLFdBQVMsU0FBTyxnQkFBSztBQUNwQixhQUFPLEtBQUssWUFBWSxLQUFLO0FBQUEsSUFDOUIsV0FBUyxTQUFPLGdCQUFLO0FBQ3BCLGFBQU8sS0FBSyxhQUFhLEtBQUs7QUFBQSxJQUMvQixXQUFTLFNBQU8sNEJBQU87QUFDdEIsYUFBTyxLQUFLO0FBQUEsSUFDYixXQUFTLFNBQU8seUJBQXdCO0FBQ3ZDLFVBQUksSUFBSSxLQUFLLElBQUksUUFBUSxVQUFVLHVCQUF1QjtBQUMxRCxVQUFHLENBQUMsR0FBRTtBQUFDLGVBQU8sQ0FBQztBQUFBLE1BQUU7QUFDakIsYUFBTyxPQUFPO0FBQUEsUUFDYixFQUFFLEtBQUs7QUFBQSxNQUFXLEVBQUU7QUFBQSxRQUFJLE9BQUcsS0FBSyxJQUFJLE1BQU0sUUFBUSxFQUFFLElBQUk7QUFBQSxNQUN6RCxFQUFFLE9BQU8sT0FBRyxDQUFDO0FBQUEsSUFDZCxXQUFTLFNBQU8sNEJBQU87QUFDdEIsYUFBTyxLQUFLO0FBQUEsUUFDWDtBQUFBLFFBQ0EsT0FBTyxLQUFLLElBQUksU0FBUyxTQUFTO0FBQUEsUUFDbEMsT0FBTyxLQUFLLElBQUksU0FBUyxTQUFTO0FBQUEsTUFDbkM7QUFBQSxJQUNELE9BQUs7QUFDSixhQUFPLENBQUM7QUFBQSxJQUNUO0FBQUEsRUFDRDtBQUFBO0FBQUEsRUFJQSxVQUFVLFFBQU0sS0FBSyxjQUFhLE9BQUssSUFBRyxPQUFLLElBQUcsWUFBVSxNQUFLO0FBQ2hFLFFBQUcsU0FBTyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUUxQixRQUFJLE1BQU0sSUFBSSxNQUFNO0FBQ3BCLFFBQUcsV0FBVTtBQUNaLFVBQUksS0FBSyxLQUFLO0FBQUEsSUFDZjtBQUVBLFFBQUksTUFBTTtBQUNWLGFBQVEsSUFBRSxNQUFLLEtBQUcsR0FBRSxLQUFJO0FBQ3ZCLFVBQUksT0FBTyxLQUFLLE9BQU8sZ0JBQWdCLEtBQUksS0FBSyxJQUFJO0FBQ3BELFVBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxNQUFLO0FBRWYsVUFBSSxPQUFPLEtBQUssVUFBVSxJQUFJO0FBQzlCLFVBQUcsQ0FBQyxNQUFLO0FBQ1I7QUFBQSxNQUNELFdBQVMsSUFBSSxTQUFTLElBQUksR0FBRTtBQUUzQixhQUFLLE9BQU8sZ0JBQWdCLE1BQUssS0FBSyxNQUFLLEVBQUU7QUFDN0MsYUFBSyxPQUFPLGdCQUFnQixLQUFJLEtBQUssTUFBSyxFQUFFO0FBQzVDO0FBQUEsTUFDRCxPQUFLO0FBQ0osWUFBSSxRQUFRLElBQUk7QUFDaEIsY0FBTTtBQUFBLE1BQ1A7QUFBQSxJQUNEO0FBRUEsVUFBTTtBQUNOLGFBQVEsSUFBRSxNQUFLLEtBQUcsR0FBRSxLQUFJO0FBQ3ZCLFVBQUksT0FBTyxLQUFLLE9BQU8sZ0JBQWdCLEtBQUksS0FBSyxJQUFJO0FBQ3BELFVBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxNQUFLO0FBRWYsVUFBSSxPQUFPLEtBQUssVUFBVSxJQUFJO0FBQzlCLFVBQUcsQ0FBQyxNQUFLO0FBQ1I7QUFBQSxNQUNELFdBQVMsSUFBSSxTQUFTLElBQUksR0FBRTtBQUUzQixhQUFLLE9BQU8sZ0JBQWdCLE1BQUssS0FBSyxNQUFLLEVBQUU7QUFDN0MsYUFBSyxPQUFPLGdCQUFnQixLQUFJLEtBQUssTUFBSyxFQUFFO0FBQzVDO0FBQUEsTUFDRCxPQUFLO0FBQ0osWUFBSSxLQUFLLElBQUk7QUFDYixjQUFNO0FBQUEsTUFDUDtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsZUFBZSxRQUFNLEtBQUssY0FBYTtBQUN0QyxRQUFJLFFBQVEsS0FBSyxVQUFVLE9BQU0sSUFBRyxHQUFFLEtBQUs7QUFDM0MsUUFBRyxNQUFNLFNBQU8sR0FBRTtBQUNqQixhQUFPLE1BQU0sQ0FBQztBQUFBLElBQ2YsT0FBSztBQUNKLGFBQU87QUFBQSxJQUNSO0FBQUEsRUFDRDtBQUFBLEVBRUEsY0FBYyxRQUFNLEtBQUssY0FBYTtBQUNyQyxRQUFJLFFBQVEsS0FBSyxVQUFVLE9BQU0sR0FBRSxJQUFHLEtBQUs7QUFDM0MsUUFBRyxNQUFNLFNBQU8sR0FBRTtBQUNqQixhQUFPLE1BQU0sTUFBTSxTQUFPLENBQUM7QUFBQSxJQUM1QixPQUFLO0FBQ0osYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxjQUFjLFFBQU0sS0FBSyxjQUFhO0FBQ3JDLFFBQUksUUFBUSxLQUFLLFVBQVUsT0FBTSxHQUFFLEdBQUUsS0FBSztBQUMxQyxRQUFHLE1BQU0sU0FBTyxHQUFFO0FBQ2pCLGFBQU8sTUFBTSxDQUFDO0FBQUEsSUFDZixPQUFLO0FBQ0osYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxnQkFBZ0IsUUFBTSxLQUFLLGNBQWE7QUFDdkMsUUFBSSxPQUFPLEtBQUssY0FBYyxLQUFLO0FBQ25DLFNBQUssVUFBVSxJQUFJO0FBQUEsRUFDcEI7QUFBQSxFQUVBLGNBQWMsUUFBTSxLQUFLLGNBQWE7QUFDckMsUUFBSSxRQUFRLEtBQUssVUFBVSxPQUFNLEdBQUUsR0FBRSxLQUFLO0FBQzFDLFFBQUcsTUFBTSxTQUFPLEdBQUU7QUFDakIsYUFBTyxNQUFNLE1BQU0sU0FBTyxDQUFDO0FBQUEsSUFDNUIsT0FBSztBQUNKLGFBQU87QUFBQSxJQUNSO0FBQUEsRUFDRDtBQUFBLEVBRUEsZ0JBQWdCLFFBQU0sS0FBSyxjQUFhO0FBQ3ZDLFFBQUksT0FBTyxLQUFLLGNBQWMsS0FBSztBQUNuQyxTQUFLLFVBQVUsSUFBSTtBQUFBLEVBQ3BCO0FBQUEsRUFFQSxjQUFjLFFBQU0sS0FBSyxjQUFhO0FBQ3JDLFdBQU87QUFBQSxNQUNOLEtBQUssY0FBYyxLQUFLO0FBQUEsTUFDeEIsS0FBSyxjQUFjLEtBQUs7QUFBQSxJQUN6QjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sZUFBZSxPQUFZLE1BQVc7QUFDM0MsUUFBRyxTQUFPLFFBQVEsU0FBTyxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBQ3RDLFFBQUcsUUFBTSxNQUFNO0FBQ2QsWUFBTSxLQUFLLE9BQU87QUFBQSxRQUNqQjtBQUFBLFFBQU0sS0FBSztBQUFBLFFBQUs7QUFBQSxNQUNqQjtBQUFBLElBQ0QsT0FBSztBQUNKLFlBQU0sS0FBSyxPQUFPO0FBQUEsUUFDakI7QUFBQSxRQUFNLEtBQUs7QUFBQSxRQUFLLEtBQUssS0FBSztBQUFBLE1BQzNCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sZUFBZSxPQUFZLE1BQVc7QUFDM0MsUUFBRyxTQUFPLFFBQVEsU0FBTyxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBQ3RDLFFBQUcsUUFBTSxNQUFNO0FBQ2QsWUFBTSxLQUFLLE9BQU87QUFBQSxRQUNqQjtBQUFBLFFBQU0sS0FBSztBQUFBLFFBQUs7QUFBQSxNQUNqQjtBQUFBLElBQ0QsT0FBSztBQUNKLFlBQU0sS0FBSyxPQUFPO0FBQUEsUUFDakI7QUFBQSxRQUFNLEtBQUs7QUFBQSxRQUFLLEtBQUssS0FBSztBQUFBLE1BQzNCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sb0JBQW9CLE1BQVcsTUFBVztBQUMvQyxVQUFNLEtBQUssZUFBZSxNQUFLLElBQUk7QUFDbkMsVUFBTSxLQUFLLGVBQWUsTUFBSyxJQUFJO0FBQUEsRUFDcEM7QUFBQSxFQUVBLE1BQU0sZUFBZSxPQUFZO0FBQ2hDLFFBQUksUUFBUSxLQUFLLGNBQWMsS0FBSztBQUNwQyxVQUFNLEtBQUssb0JBQW9CLE1BQU0sQ0FBQyxHQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQUEsRUFDakQ7QUFBQSxFQUVBLE1BQU0sMEJBQTBCLE9BQVksUUFBYTtBQUN4RCxRQUFJLE9BQU8sS0FBSyxlQUFlLE1BQU07QUFDckMsVUFBTSxLQUFLLG9CQUFvQixPQUFNLElBQUk7QUFBQSxFQUMxQztBQUFBLEVBRUEsTUFBTSwwQkFBMEIsT0FBWSxRQUFhO0FBQ3hELFFBQUksT0FBTyxLQUFLLGNBQWMsTUFBTTtBQUNwQyxVQUFNLEtBQUssb0JBQW9CLE1BQUssS0FBSztBQUFBLEVBQzFDO0FBQUEsRUFFQSxNQUFNLHdCQUF3QixPQUFZLFFBQWE7QUFDdEQsU0FBSyxlQUFlLEtBQUs7QUFFekIsUUFBSSxPQUFPLEtBQUssY0FBYyxNQUFNO0FBQ3BDLFVBQU0sS0FBSyxvQkFBb0IsUUFBTyxLQUFLO0FBQzNDLFVBQU0sS0FBSyxvQkFBb0IsT0FBTSxJQUFJO0FBQUEsRUFDMUM7QUFBQSxFQUVBLE1BQU0seUJBQXlCLE9BQVksUUFBYTtBQUN2RCxTQUFLLGVBQWUsS0FBSztBQUN6QixRQUFJLE9BQU8sS0FBSyxjQUFjLE1BQU07QUFDcEMsVUFBTSxLQUFLLG9CQUFvQixPQUFNLE1BQU07QUFDM0MsVUFBTSxLQUFLLG9CQUFvQixNQUFLLEtBQUs7QUFBQSxFQUMxQztBQUFBLEVBRUEsTUFBTSxrQkFBa0IsUUFBb0I7QUFDM0MsUUFBSSxPQUFPLEtBQUssY0FBYyxPQUFPLENBQUMsQ0FBQztBQUN2QyxRQUFHLE9BQU8sU0FBUyxJQUFJLEdBQUU7QUFDeEIsWUFBTSxLQUFLLGVBQWUsT0FBTyxDQUFDLEdBQUUsSUFBSTtBQUFBLElBQ3pDO0FBRUEsUUFBSSxPQUFPLEtBQUssY0FBYyxPQUFPLE9BQU8sU0FBTyxDQUFDLENBQUM7QUFDckQsUUFBRyxPQUFPLFNBQVMsSUFBSSxHQUFFO0FBQ3hCLFlBQU0sS0FBSyxlQUFlLE9BQU8sT0FBTyxTQUFPLENBQUMsR0FBRSxJQUFJO0FBQUEsSUFDdkQ7QUFHQSxhQUFRLElBQUUsR0FBRSxJQUFFLE9BQU8sU0FBTyxHQUFFLEtBQUk7QUFDakMsWUFBTSxLQUFLLG9CQUFvQixPQUFPLENBQUMsR0FBRSxPQUFPLElBQUUsQ0FBQyxDQUFDO0FBQUEsSUFDckQ7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLHVCQUF1QixRQUFNLEtBQUssY0FBYSxPQUFLLGFBQVk7QUFDckUsUUFBSSxRQUFRLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsUUFBRyxNQUFNLFVBQVEsR0FBRTtBQUFDO0FBQUEsSUFBTztBQUUzQixRQUFJLFFBQVEsTUFBTSxLQUFLLGVBQWUsS0FBSztBQUMzQyxVQUFNLEtBQUssa0JBQWtCLEtBQUs7QUFBQSxFQUNuQztBQUFBLEVBRUEsWUFBWSxPQUFtQixPQUFVO0FBQ3hDLFFBQUcsT0FBTyxVQUFVLFVBQVM7QUFDNUIsVUFBRyxVQUFRLFFBQU87QUFDakIsZUFBTyxNQUFNO0FBQUEsVUFDWixDQUFDLEdBQUUsTUFBSyxFQUFFLEtBQUssY0FBYyxFQUFFLElBQUk7QUFBQSxRQUNwQztBQUFBLE1BQ0QsV0FBUyxVQUFRLFNBQVE7QUFDeEIsZUFBTyxNQUFNO0FBQUEsVUFDWixDQUFDLEdBQUUsTUFBSyxFQUFFLEtBQUssUUFBTSxFQUFFLEtBQUs7QUFBQSxRQUM3QjtBQUFBLE1BQ0QsV0FBUyxVQUFRLFNBQVE7QUFDeEIsZUFBTyxNQUFNO0FBQUEsVUFDWixDQUFDLEdBQUUsTUFBSyxFQUFFLEtBQUssUUFBTSxFQUFFLEtBQUs7QUFBQSxRQUM3QjtBQUFBLE1BQ0QsV0FDUSxVQUFRLFNBQVE7QUFDdkIsZUFBTyxLQUFLLHFCQUFxQixLQUFLO0FBQUEsTUFDdkM7QUFDQSxhQUFPO0FBQUEsSUFDUixXQUFTLE9BQU8sVUFBVSxVQUFTO0FBQ2xDLFVBQUcsaUJBQWlCLE9BQU07QUFDekIsWUFBSSxTQUFTLEtBQUssWUFBWSxPQUFNLE1BQU0sQ0FBQyxDQUFDO0FBQzVDLFlBQUcsTUFBTSxVQUFRLEdBQUU7QUFDbEIsY0FBRyxNQUFNLENBQUMsTUFBSSxLQUFJO0FBQ2pCLG1CQUFPLE9BQU8sUUFBUTtBQUFBLFVBQ3ZCO0FBQUEsUUFDRDtBQUNBLGVBQU87QUFBQSxNQUNSO0FBQUEsSUFDRDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxxQkFBcUIsUUFBb0I7QUFDeEMsUUFBSSxRQUFRLE9BQU8sSUFBSSxPQUFHLENBQUM7QUFDM0IsUUFBSSxNQUFNLENBQUM7QUFDWCxXQUFNLE1BQU0sU0FBTyxHQUFFO0FBQ3BCLFVBQUksT0FBTyxNQUFNLENBQUM7QUFDbEIsVUFBSSxNQUFNLENBQUM7QUFDWCxVQUFJLFNBQVMsS0FBSyxVQUFVLE1BQUssSUFBRyxFQUFFO0FBQ3RDLGVBQVEsS0FBSyxRQUFPO0FBQ25CLFlBQUcsTUFBTSxTQUFTLENBQUMsR0FBRTtBQUNwQixjQUFJLEtBQUssQ0FBQztBQUNWLGdCQUFNLE9BQU8sQ0FBQztBQUFBLFFBQ2Y7QUFBQSxNQUNEO0FBQ0EsVUFBSSxLQUFLLEdBQUc7QUFBQSxJQUNiO0FBQ0EsVUFBTSxJQUFJLEtBQUssQ0FBQyxHQUFFLE1BQUksRUFBRSxTQUFPLEVBQUUsTUFBTTtBQUN2QyxRQUFJLE9BQU8sQ0FBQztBQUNaLGFBQVEsS0FBSyxLQUFJO0FBQ2hCLGVBQVEsS0FBSyxHQUFFO0FBQ2QsYUFBSyxLQUFLLENBQUM7QUFBQSxNQUNaO0FBQUEsSUFDRDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxxQkFBcUIsUUFBb0IsT0FBYTtBQUNyRCxRQUFJLE1BQU0sT0FBTztBQUFBLE1BQ2hCLENBQUMsR0FBRSxNQUFJO0FBQ04sWUFBSSxLQUFLLEtBQUssT0FBTyxnQkFBZ0IsR0FBRSxLQUFLO0FBQzVDLFlBQUksS0FBSyxLQUFLLE9BQU8sZ0JBQWdCLEdBQUUsS0FBSztBQUM1QyxlQUFPLEtBQUs7QUFBQSxNQUNiO0FBQUEsSUFDRDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLGVBQWUsUUFBb0I7QUFDeEMsUUFBRyxDQUFDLFFBQU87QUFBQyxhQUFPLENBQUM7QUFBQSxJQUFFO0FBQ3RCLFFBQUcsT0FBTyxVQUFRLEdBQUU7QUFBQyxhQUFPLENBQUM7QUFBQSxJQUFDO0FBQUM7QUFDL0IsUUFBSSxLQUFLO0FBQUEsTUFDUixTQUFRO0FBQUEsTUFDUixRQUFPO0FBQUEsTUFDUCxTQUFRO0FBQUEsTUFDUixTQUFRO0FBQUEsTUFDUixxQkFBVSxDQUFDLFFBQU8sR0FBRztBQUFBLE1BQ3JCLHNCQUFXLENBQUMsU0FBUSxHQUFHO0FBQUEsTUFDdkIsc0JBQVcsQ0FBQyxTQUFRLEdBQUc7QUFBQSxJQUN4QjtBQUNBLFFBQUksUUFBUSxNQUFNLEtBQUs7QUFBQSxNQUN0QixPQUFPLEtBQUssRUFBRTtBQUFBLE1BQ2QsT0FBTyxPQUFPLEVBQUU7QUFBQSxJQUNqQjtBQUNBLFFBQUcsU0FBTyxNQUFLO0FBQUMsYUFBTyxDQUFDO0FBQUEsSUFBRTtBQUMxQixXQUFPLEtBQUssWUFBWSxRQUFPLEtBQUs7QUFBQSxFQUNyQztBQUFBLEVBRUEscUJBQW9CO0FBcHRCckI7QUFxdEJFLFFBQUksUUFBTyxVQUFLLElBQUksVUFBVTtBQUFBLE1BQzdCO0FBQUEsSUFDRCxFQUFFLENBQUMsTUFGUSxtQkFFTDtBQUNOLFFBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBQ2pCLFNBQUssS0FBSztBQUNWLFFBQUcsS0FBSyxPQUFNO0FBQ2IsZUFBUSxRQUFRLEtBQUssV0FBVTtBQUM5QixZQUFJLE9BQU8sS0FBSyxVQUFVLElBQUk7QUFDOUIsWUFBRyxLQUFLLFdBQVU7QUFDakIsY0FBSSxRQUFRLEtBQUssVUFBVSxVQUFVLElBQUksT0FBRyxFQUFFLElBQUk7QUFDbEQsa0JBQVEsS0FBSyxxQkFBcUIsS0FBSztBQUN2QyxjQUFJLFdBQVcsS0FBSyxVQUFVLFVBQVU7QUFBQSxZQUN2QyxDQUFDLEdBQUUsTUFBSSxNQUFNLFFBQVEsRUFBRSxJQUFJLElBQUUsTUFBTSxRQUFRLEVBQUUsSUFBSTtBQUFBLFVBQ2xEO0FBQ0EsZUFBSyxVQUFVLFlBQVksUUFBUTtBQUFBLFFBQ3BDO0FBQUEsTUFDRDtBQUNBLFdBQUssS0FBSyxlQUFlLFFBQVE7QUFBQSxJQUNsQztBQUFBLEVBQ0Q7QUFFRDtBQUVBLElBQU0scUJBQXFCLENBQUMsUUFBd0I7QUFBQSxFQUNuRCxJQUFJO0FBQUEsRUFDRCxNQUFNO0FBQUEsRUFDVCxVQUFVLE1BQU07QUFDZixRQUFJLE9BQU8sR0FBRyxNQUFNO0FBQ3BCLFFBQUksWUFBWTtBQUFBLE1BQ2Y7QUFBQSxNQUNBLFFBQUs7QUFDSixZQUFHLEdBQUcsVUFBVSxLQUFHLE1BQUs7QUFBQztBQUFBLFFBQU87QUFDaEMsWUFBSSxTQUFTLEdBQUcsT0FBTyxhQUFhLEdBQUcsU0FBUyxNQUFNO0FBQ3RELFlBQUksZUFBZSxHQUFHLE9BQU8sYUFBYSxHQUFHLFNBQVMsWUFBWTtBQUNsRSx1QkFBZSxhQUFhLE9BQU8sT0FBRyxDQUFDLE9BQU8sU0FBUyxDQUFDLENBQUM7QUFDekQsWUFBSSxRQUFRLEdBQUcsT0FBTyxhQUFhLENBQUMsUUFBTyxZQUFZLENBQUM7QUFDeEQsZ0JBQVEsTUFBTSxJQUFJLE9BQUcsR0FBRyxNQUFNLFdBQVcsQ0FBQyxDQUFDO0FBQzNDLFlBQUksU0FBUyxHQUFHLE1BQU0scUJBQXFCLEtBQUssTUFBTSxFQUFFLE9BQU8sT0FBRyxDQUFDLE1BQU0sU0FBUyxDQUFDLENBQUM7QUFDcEYsZ0JBQVEsR0FBRyxPQUFPLGFBQWEsQ0FBQyxRQUFPLEtBQUssQ0FBQztBQUM3QyxXQUFHLE1BQU0sa0JBQWtCLEtBQUs7QUFBQSxNQUNqQztBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUFFQSxJQUFNLHFCQUFxQixDQUFDLFFBQXdCO0FBQUEsRUFDbkQsSUFBSTtBQUFBLEVBQ0QsTUFBTTtBQUFBLEVBQ1QsVUFBVSxNQUFNO0FBQ2YsUUFBSSxPQUFPLEdBQUcsTUFBTTtBQUNwQixRQUFJLFlBQVk7QUFBQSxNQUNmO0FBQUEsTUFDQSxRQUFLO0FBQ0osWUFBRyxHQUFHLFVBQVUsS0FBRyxNQUFLO0FBQUM7QUFBQSxRQUFPO0FBQ2hDLFlBQUksUUFBUSxHQUFHLE1BQU0scUJBQXFCLEtBQUssTUFBTTtBQUNyRCxnQkFBUSxHQUFHLE1BQU0scUJBQXFCLEtBQUs7QUFDM0MsV0FBRyxTQUFTLFNBQVMsTUFBTSxJQUFJLE9BQUcsRUFBRSxRQUFRO0FBQUEsTUFDN0M7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEO0FBR0EsSUFBTSxxQkFBcUIsQ0FBQyxRQUF3QjtBQUFBLEVBQ25ELElBQUk7QUFBQSxFQUNELE1BQU07QUFBQSxFQUNULFVBQVUsTUFBTTtBQUNmLE9BQUcsTUFBTSxtQkFBbUI7QUFBQSxFQUM3QjtBQUNEO0FBc0JBLElBQU0sa0JBQWtCO0FBQUEsRUFDdkI7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBO0FBRUQ7QUFFQSxTQUFTLFlBQVksUUFBZTtBQUNoQyxrQkFBZ0IsUUFBUSxDQUFDLE1BQU07QUFDM0IsV0FBTyxXQUFXLEVBQUUsTUFBTSxDQUFDO0FBQUEsRUFDL0IsQ0FBQztBQUNMO0FBRUEsSUFBcUIsa0JBQXJCLGNBQTZDLHVCQUFPO0FBQUEsRUFLbkQsTUFBTSxTQUFTO0FBRWQsU0FBSyxRQUFRLElBQUksVUFBVSxJQUFJO0FBRS9CLFNBQUssU0FBUyxJQUFJLFNBQVMsS0FBSyxHQUFHO0FBQ25DLFNBQUssSUFBSSxLQUFLO0FBR2QsVUFBTSxLQUFLLGFBQWE7QUFFeEIsZ0JBQVksSUFBSTtBQUVoQixTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLGFBQUssa0JBQWtCO0FBQUEsTUFDeEI7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLGFBQUssTUFBTSx1QkFBdUI7QUFBQSxNQUNuQztBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxrQkFBa0I7QUFBQSxNQUN4QjtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxNQUFNLG9CQUFvQjtBQUFBLE1BQ2hDO0FBQUEsSUFDRCxDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDZixhQUFLLE1BQU0sZ0JBQWdCO0FBQUEsTUFDNUI7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLGFBQUssTUFBTSxnQkFBZ0I7QUFBQSxNQUM1QjtBQUFBLElBQ0QsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxjQUFjO0FBQUEsTUFDcEI7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLGFBQUssTUFBTSw0QkFBNEI7QUFBQSxNQUN4QztBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyx3QkFBd0I7QUFBQSxNQUM5QjtBQUFBLElBQ0QsQ0FBQztBQUdELFNBQUssY0FBYyxJQUFJLGFBQWEsS0FBSyxLQUFLLElBQUksQ0FBQztBQUVuRCxZQUFRLElBQUksMENBQTBDO0FBQ3RELFNBQUs7QUFBQSxNQUNKLEtBQUssSUFBSSxVQUFVLEdBQUcsYUFBYSxLQUFLLGtCQUFrQjtBQUFBLElBQzNEO0FBRUEsU0FBSyxjQUFjLEtBQUssSUFBSSxVQUFVLEdBQUcsYUFBYSxDQUFDLE1BQU0sU0FBUztBQUNyRSxXQUFLLFFBQVEsQ0FBQyxTQUFTO0FBQ3RCLGFBQ0UsU0FBUywwQkFBMEIsRUFDbkMsUUFBUSxNQUFNO0FBQ2QsZUFBSyxNQUFNLG1CQUFtQjtBQUFBLFFBQ2hDLENBQUM7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNGLENBQUMsQ0FBQztBQUFBLEVBRUg7QUFBQSxFQUVBLFdBQVc7QUFDVixZQUFRLElBQUksNENBQTRDO0FBQ3hELFNBQUssSUFBSSxVQUFVLElBQUksYUFBYSxLQUFLLGtCQUFrQjtBQUFBLEVBQzVEO0FBQUEsRUFFQSxNQUFNLG1CQUFtQixNQUFLO0FBQzdCLFFBQUksS0FBSyxNQUFNLElBQUksUUFBUSxVQUFVLGFBQWE7QUFDbEQsUUFBRyxDQUFDLElBQUc7QUFBQztBQUFBLElBQU87QUFDZixRQUFHLEdBQUcsU0FBUyxpQkFBZ0I7QUFDOUIsU0FBRyxJQUFJLFNBQVM7QUFBQSxRQUNmO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxRQUFHLEdBQUcsU0FBUyxjQUFhO0FBQzNCLFVBQUksU0FBUyxNQUFNLElBQUksUUFBUSxVQUFVLHVCQUF1QjtBQUNoRSxhQUFPLE1BQU0sa0JBQWtCO0FBQUEsSUFDaEM7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQUEsRUFFQSxNQUFNLGNBQWMsUUFBTSxLQUFLLE1BQU0sY0FBYSxPQUFLLGFBQVk7QUFDbEUsUUFBSSxRQUFRLEtBQUssTUFBTSxZQUFZLEtBQUs7QUFDeEMsUUFBRyxNQUFNLFFBQU87QUFDZixVQUFHLFNBQU8sYUFBWTtBQUNyQixlQUFPLE1BQU0sS0FBSyxNQUFNO0FBQUEsVUFDdkIsQ0FBQyw0QkFBTyw0QkFBTywwQkFBTztBQUFBLFVBQ3RCLENBQUMsQ0FBQyxRQUFPLEtBQUssR0FBRSxDQUFDLFFBQU8sS0FBSyxHQUFFLENBQUMsUUFBTyxLQUFLLENBQUM7QUFBQSxRQUM5QztBQUFBLE1BQ0Q7QUFDQSxVQUFJLE1BQU0sS0FBSyxPQUFPLFlBQVksT0FBTSxLQUFLLENBQUMsQ0FBQztBQUMvQyxVQUFHLEtBQUk7QUFDTixpQkFBUSxRQUFRLE9BQU07QUFDckIsY0FBSTtBQUNKLGNBQUcsS0FBSyxDQUFDLE1BQUksT0FBTTtBQUNsQixxQkFBTyxNQUFNO0FBQUEsVUFDZCxPQUFLO0FBQ0oscUJBQU87QUFBQSxVQUNSO0FBQ0EsZUFBSyxPQUFPLFFBQVEsTUFBSyxLQUFJLE1BQU07QUFBQSxRQUNwQztBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsSUFBSSxTQUFRO0FBQ1gsV0FBTyxZQUFZLEtBQUssS0FBSSxrQkFBa0I7QUFBQSxFQUMvQztBQUFBLEVBRUEsTUFBTSwwQkFBeUI7QUFDOUIsUUFBSSxRQUFRLE1BQU0sS0FBSyxNQUFNLGdCQUFnQjtBQUM3QyxTQUFHLCtCQUFPLFVBQU8sR0FBRTtBQUNsQixVQUFJO0FBQ0gsWUFBSSxPQUFPLE1BQU0sS0FBSyxPQUFPLHdEQUFXO0FBQ3hDLFlBQUcsUUFBTSxNQUFLO0FBQ2I7QUFBQSxRQUNEO0FBQ0EsWUFBSSxNQUFNLElBQUksT0FBTyxNQUFLLEdBQUc7QUFFN0IsWUFBSSxTQUFTLE1BQU0sS0FBSyxPQUFPLGdDQUFPO0FBQ3RDLFlBQUcsVUFBUSxNQUFLO0FBQ2Y7QUFBQSxRQUNEO0FBQ0EsaUJBQVMsT0FBTyxLQUFLLEVBQUU7QUFBQSxVQUN0QjtBQUFBLFVBQU87QUFBQSxRQUNSO0FBQ0EsZ0JBQVEsSUFBSSxNQUFLLEtBQUksTUFBTTtBQUMzQixpQkFBUSxRQUFRLE9BQU07QUFDckIsZ0JBQU0sS0FBSyxPQUFPLFFBQVEsTUFBSyxLQUFJLE1BQU07QUFBQSxRQUMxQztBQUFBLE1BQ0QsU0FBUyxPQUFQO0FBQ0QsZ0JBQVEsSUFBSSxLQUFLO0FBQUEsTUFDbEI7QUFBQSxJQUVEO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxvQkFBbUI7QUFFeEIsUUFBSSxPQUFPLEtBQUssTUFBTTtBQUN0QixRQUFHLFFBQU0sTUFBSztBQUFDO0FBQUEsSUFBTztBQUV0QixRQUFJLFFBQVEsS0FBSyxNQUFNLHFCQUFxQiw2QkFBTSxRQUFPLEtBQUs7QUFDOUQsWUFBUSxLQUFLLE1BQU0sWUFBWSxPQUFNLENBQUMsU0FBUSxHQUFHLENBQUM7QUFDbEQsWUFBUSxLQUFLLE1BQU0scUJBQXFCLEtBQUs7QUFHN0MsVUFBTSxPQUFPLE1BQU0sS0FBSyxNQUFNO0FBQUEsTUFDN0IsQ0FBQyxTQUFTLEtBQUs7QUFBQSxRQUNiO0FBQUEsUUFDQSxLQUFLLFNBQVMsV0FBVyxDQUFDLFlBQVcsVUFBVSxJQUFHLENBQUM7QUFBQSxRQUNuRDtBQUFBLE1BQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFFBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBRWpCLFFBQUksU0FBUztBQUFBLE1BQ1o7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNEO0FBQ0EsUUFBSSxPQUFPLE1BQU0sS0FBSyxNQUFNO0FBQUEsTUFDM0I7QUFBQSxNQUFPO0FBQUEsTUFBTztBQUFBLE1BQU07QUFBQSxJQUNyQjtBQUVBLFFBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxJQUFPO0FBRWpCLFlBQVEsSUFBSSxPQUFPLE1BQU0sSUFBSTtBQUU3QixRQUFHLFNBQU8sdUJBQXNCO0FBQy9CLFdBQUssTUFBTSwwQkFBMEIsTUFBSyxJQUFJO0FBQUEsSUFDL0MsV0FBUyxTQUFPLHVCQUFzQjtBQUNyQyxXQUFLLE1BQU0sMEJBQTBCLE1BQUssSUFBSTtBQUFBLElBQy9DLFdBQVMsU0FBTyxzQkFBcUI7QUFDcEMsV0FBSyxNQUFNLHlCQUF5QixNQUFLLElBQUk7QUFBQSxJQUM5QyxXQUFTLFNBQU8scUJBQW9CO0FBQ25DLFdBQUssTUFBTSx3QkFBd0IsTUFBSyxJQUFJO0FBQUEsSUFDN0MsT0FBSztBQUNKO0FBQUEsSUFDRDtBQUVBLFFBQUcsS0FBSyxTQUFTLFVBQVM7QUFDekIsVUFBRyxNQUFLO0FBQ1AsWUFBRyxLQUFLLFNBQVMsUUFBTztBQUN2QixlQUFLLElBQUksVUFBVSxRQUFRLElBQUksRUFBRSxTQUFTLElBQUk7QUFBQSxRQUMvQyxPQUFLO0FBQ0osZUFBSyxJQUFJLFVBQVUsV0FBVyxTQUFTLElBQUk7QUFBQSxRQUM1QztBQUFBLE1BQ0E7QUFBQSxJQUNEO0FBQUEsRUFDRjtBQUFBLEVBRUEsZ0JBQWdCLE9BQU0sUUFBTyxLQUFJO0FBQ2hDLFFBQUksT0FBTyxLQUFLLElBQUksY0FBYyxhQUFhLEtBQUs7QUFDcEQsUUFBSSxRQUFRLElBQUksTUFBTTtBQUN0QixRQUFHLFNBQU8sS0FBSyxNQUFNLGNBQWE7QUFDakMsWUFBTSxLQUFLLGNBQU8sTUFBTSxRQUFRO0FBQUEsSUFDakMsT0FBSztBQUNKLFlBQU0sS0FBSyxNQUFNLFFBQVE7QUFBQSxJQUMxQjtBQUVBLGFBQVEsU0FBUyxRQUFPO0FBQ3ZCLFVBQUc7QUFDRixjQUFNLEtBQUssS0FBSyxZQUFZLEtBQUssQ0FBQztBQUFBLE1BQ25DLFNBQU8sT0FBTjtBQUNBLGNBQU0sS0FBSyxHQUFHO0FBQUEsTUFDZjtBQUFBLElBQ0Q7QUFDQSxXQUFPLE1BQU0sS0FBSyxHQUFHO0FBQUEsRUFDdEI7QUFBQSxFQUVBLG9CQUFtQjtBQUVsQixRQUFJLE9BQU8sS0FBSyxNQUFNO0FBQ3RCLFdBQU8sS0FBSyxNQUFNLGdCQUFnQixNQUFLLEtBQUssRUFBRSxLQUFLLENBQUMsVUFBUTtBQUMzRCxjQUFRLEtBQUssTUFBTSxZQUFZLE9BQU0sQ0FBQyxTQUFRLEdBQUcsQ0FBQztBQUNsRCxjQUFRLEtBQUssTUFBTSxxQkFBcUIsS0FBSztBQUM3QyxhQUFPLEtBQUssTUFBTTtBQUFBLFFBQ2pCLENBQUMsU0FBUyxLQUFLLE1BQU0sZ0JBQWdCLElBQUk7QUFBQSxRQUN6QztBQUFBLE1BQ0QsRUFBRSxLQUFLLENBQUMsU0FBTztBQUNkLGVBQU8sS0FBSyxNQUFNLFVBQVUsSUFBSTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNGO0FBRUQ7QUFFQSxJQUFNLGVBQU4sY0FBMkIsaUNBQWlCO0FBQUEsRUFHM0MsWUFBWUMsTUFBVSxRQUF5QjtBQUM5QyxVQUFNQSxNQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDZjtBQUFBLEVBRUEsVUFBZ0I7QUFDZixVQUFNLEVBQUMsWUFBVyxJQUFJO0FBRXRCLGdCQUFZLE1BQU07QUFFbEIsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFbEQsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFbEQsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsUUFBUSxFQUNoQixRQUFRLHFFQUFjLEVBQ3RCO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsTUFBTSxFQUNwQyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxTQUFTO0FBQzlCLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVELFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLFVBQVUsRUFDbEIsUUFBUSxtREFBVyxFQUNuQjtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLFFBQVEsRUFDdEMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsV0FBVztBQUNoQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFFRCxnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBRS9ELFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLFNBQVMsRUFDakIsUUFBUSx1Q0FBUyxFQUNqQjtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLE9BQU8sRUFDckMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsVUFBVTtBQUMvQixjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFFRCxRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxPQUFPLEVBQ2YsUUFBUSxpTkFBaUQsRUFDekQsUUFBUSxVQUFRLEtBQ2YsU0FBUyxLQUFLLE9BQU8sU0FBUyxLQUFLLEVBQ25DLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLFFBQVE7QUFDN0IsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDdEQsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsV0FBVyxFQUNuQixRQUFRLHNDQUFRLEVBQ2hCLFFBQVEsVUFBUSxLQUNmLFNBQVMsS0FBSyxPQUFPLFNBQVMsU0FBUyxFQUN2QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxZQUFZO0FBQ2pDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFFSixRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxXQUFXLEVBQ25CLFFBQVEsc0NBQVEsRUFDaEIsUUFBUSxVQUFRLEtBQ2YsU0FBUyxLQUFLLE9BQU8sU0FBUyxTQUFTLEVBQ3ZDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLFlBQVk7QUFDakMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLFlBQVksRUFDcEIsUUFBUSw0SUFBeUIsRUFDakM7QUFBQSxNQUFVLFVBQVEsS0FDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQ3hDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLGFBQWE7QUFDbEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUYsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDakQsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsVUFBVSxFQUNsQixRQUFRLG9FQUFhLEVBQ3JCO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUN0QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxXQUFXO0FBQ2hDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVGLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLG9CQUFvQixFQUM1QixRQUFRLDZCQUE2QixFQUNyQztBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLGtCQUFrQixFQUNoRCxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxxQkFBcUI7QUFDMUMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsVUFBVSxFQUNsQixRQUFRLHdEQUFXLEVBQ25CO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUN0QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxXQUFXO0FBQ2hDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVGLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLFVBQVUsRUFDbEIsUUFBUSw4REFBWSxFQUNwQjtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLFFBQVEsRUFDdEMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsV0FBVztBQUNoQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFFRixnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLHFCQUFNLENBQUM7QUFDMUMsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsaUJBQWlCLEVBQ3pCLFFBQVEsZ0VBQW1CLEVBQzNCO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsZUFBZSxFQUM3QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxrQkFBa0I7QUFDdkMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBQ0YsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsY0FBYyxFQUN0QixRQUFRLDZEQUFnQixFQUN4QjtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLFlBQVksRUFDMUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFBQSxFQUNIO0FBQ0Q7IiwKICAibmFtZXMiOiBbImFwcCIsICJmIiwgImFwcCJdCn0K
