/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ZigHolding
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  newTab: true,
  withSelf: true,
  reverse: true,
  field: "NID",
  PrevChain: "10",
  NextChain: "10",
  showLink: true,
  openLink: true,
  refreshDataView: true,
  refreshTasks: true
};
function get_tp_func(app2, target) {
  let templater = app2.plugins.getPlugin(
    "templater-obsidian"
  );
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items.length != 3) {
    return void 0;
  }
  let modules = templater.templater.functions_generator.internal_functions.modules_array.filter(
    (item) => item.name.localeCompare(items[1]) == 0
  );
  if (modules.length == 0) {
    return void 0;
  }
  return modules[0].static_functions.get(items[2]);
}
var ZigEditor = class {
  constructor(app2) {
    this.app = app2;
  }
  regexp_link(tfile, mode2) {
    if (mode2 === "link") {
      return new RegExp(`\\[\\[${tfile.basename}\\|?.*\\]\\]`, "g");
    }
    if (mode2 === "para") {
      return new RegExp(`.*\\[\\[${tfile.basename}\\|?.*\\]\\].*`, "g");
    }
  }
  replace(tfile, regex, target) {
    if (typeof regex === "string") {
      this.app.vault.process(tfile, (data) => {
        if (data.indexOf(regex) > -1) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    } else if (regex instanceof RegExp) {
      this.app.vault.process(tfile, (data) => {
        if (data.match(regex)) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    }
  }
};
var NoteChain = class {
  constructor(zig, prev = "PrevNote", next = "NextNote") {
    this.zig = zig;
    this.app = zig.app;
    this.prev = prev;
    this.next = next;
    this.dv_api = this.app.plugins.getPlugin(
      "dataview"
    );
  }
  get find_tfile() {
    return get_tp_func(this.app, "tp.file.find_tfile");
  }
  get suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get_all_folders(sort_mode = "") {
    return this.app.vault.getAllFolders();
  }
  sort_folders_by_mtime(folders, reverse = true) {
    function ufunc(f) {
      return Math.max(
        ...f.children.filter((f2) => f2.basename).map((f2) => f2.stat.mtime)
      );
    }
    let res = folders.sort((a, b) => ufunc(a) - ufunc(b));
    if (reverse) {
      res = res.reverse();
    }
    return res;
  }
  async move_file_to_another_folder(tfile = this.current_note) {
    let folders = this.get_all_folders();
    folders = this.sort_folders_by_mtime(
      folders
    ).filter((f) => f != tfile.parent);
    if (tfile.extension === "md") {
      folders = folders.filter((f) => this.filter_user_ignore(f));
    }
    try {
      let folder = await this.suggester((f) => f.path, folders);
      let dst = folder.path + "/" + tfile.basename + "." + tfile.extension;
      await app.fileManager.renameFile(tfile, dst);
    } catch (error) {
    }
  }
  filter_user_ignore(note) {
    if (!(this.app.vault.config.attachmentFolderPath === "./")) {
      if (note.path.startsWith(
        this.app.vault.config.attachmentFolderPath
      )) {
        return false;
      }
    }
    if (this.app.vault.config.userIgnoreFilters) {
      for (let x of this.app.vault.config.userIgnoreFilters) {
        if (note.path.startsWith(x)) {
          return false;
        }
      }
    }
    return true;
  }
  async sugguster_note() {
    let notes = this.sort_tfiles(
      this.app.vault.getFiles(),
      ["mtime", "x"]
    ).filter((f) => this.filter_user_ignore(f));
    try {
      let note = await this.suggester((f) => f.path, notes);
      return note;
    } catch (error) {
    }
  }
  open_note(tfile, new_tab = false) {
    if (tfile) {
      if (this.app.workspace.activeLeaf.pinned || new_tab) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else {
        this.app.workspace.activeLeaf.openFile(tfile);
      }
    }
  }
  async sugguster_open_note() {
    try {
      let note = await this.sugguster_note();
      console.log(note);
      this.open_note(note);
    } catch (error) {
    }
  }
  get_tfile(path) {
    let name = path.split("|")[0].replace("[[", "").replace("]]", "");
    return this.find_tfile(name);
  }
  get MDFiles() {
    return app.vault.getMarkdownFiles();
  }
  get current_note() {
    return this.app.workspace.getActiveFile();
  }
  get_inlinks(tfile = this.current_note) {
    let res = new Array();
    let inlinks = this.dv_api.index.links.invMap.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_outlinks(tfile = this.current_note) {
    let res = new Array();
    let inlinks = this.dv_api.index.links.map.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_links(tfile = this.current_note) {
    let inlinks = this.get_inlinks(tfile);
    let outlinks = this.get_outlinks(tfile);
    for (let link of inlinks) {
      if (!outlinks.includes(link)) {
        outlinks.push(link);
      }
    }
    return outlinks;
  }
  get_same_parent(tfile = this.current_note) {
    return this.get_tfiles_of_folder(tfile == null ? void 0 : tfile.parent, false);
  }
  get_tfiles_of_folder(tfolder, with_children = true) {
    if (tfolder == null) {
      return [];
    }
    let notes = [];
    for (let c of tfolder.children) {
      if (c.basename && c.extension === "md") {
        notes.push(c);
      } else if (c.children && with_children) {
        let tmp = this.get_tfiles_of_folder(c);
        for (let x of tmp) {
          notes.push(x);
        }
      }
    }
    return notes;
  }
  parse_item(item) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let seq = kwargs["seq"];
    if (seq != null) {
      return `${seq} -> ${item}`;
    }
    return item;
  }
  parse_items(items) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let res = [];
    let i = 0;
    while (i < items.length) {
      if (kwargs["seq"]) {
        res.push(this.parse_item(items[i], { "seq": i + 1 }));
      } else {
        res.push(this.parse_item(items[i]));
      }
      i++;
    }
    return res;
  }
  async suggester_notes(tfile = this.current_note, curr_first = true, smode = "") {
    let kv = [
      "\u540C\u7EA7\u76EE\u5F55",
      "\u7B14\u8BB0\u94FE\u6761",
      "\u540C\u7EA7\u76EE\u5F55+\u5B50\u76EE\u5F55",
      "\u51FA\u94FE+\u5165\u94FE",
      "\u5165\u94FE",
      "\u51FA\u94FE",
      "\u6240\u6709\u7B14\u8BB0",
      "recent-files-obsidian"
    ];
    if (curr_first) {
      kv.unshift("\u5F53\u524D\u7B14\u8BB0");
    } else {
      kv.push("\u5F53\u524D\u7B14\u8BB0");
    }
    let mode2 = "";
    if (kv.contains(smode)) {
      mode2 = smode;
    } else {
      mode2 = await this.suggester(kv, kv);
    }
    if (mode2 === "\u5F53\u524D\u7B14\u8BB0") {
      return [tfile];
    } else if (mode2 === "\u540C\u7EA7\u76EE\u5F55") {
      return this.get_same_parent(tfile);
    } else if (mode2 === "\u540C\u7EA7\u76EE\u5F55+\u5B50\u76EE\u5F55") {
      return this.get_tfiles_of_folder(tfile == null ? void 0 : tfile.parent, true);
    } else if (mode2 === "\u51FA\u94FE+\u5165\u94FE") {
      return this.get_links(tfile);
    } else if (mode2 === "\u5165\u94FE") {
      return this.get_inlinks(tfile);
    } else if (mode2 === "\u51FA\u94FE") {
      return this.get_outlinks(tfile);
    } else if (mode2 === "\u6240\u6709\u7B14\u8BB0") {
      return this.MDFiles;
    } else if (mode2 === "recent-files-obsidian") {
      let r = this.app.plugins.getPlugin("recent-files-obsidian");
      if (!r) {
        return [];
      }
      return Object.values(
        r.data.recentFiles
      ).map(
        (f) => this.app.vault.fileMap[f.path]
      ).filter((f) => f);
    } else if (mode2 === "\u7B14\u8BB0\u94FE\u6761") {
      return this.get_file_chain(
        tfile,
        Number(this.zig.settings.PrevChain),
        Number(this.zig.settings.NextChain)
      );
    } else {
      return [];
    }
  }
  // Chain
  get_file_chain(tfile = this.current_note, prev = 10, next = 10, with_self = true) {
    let res = new Array();
    if (with_self) {
      res.push(tfile);
    }
    let tmp = tfile;
    for (let i = prev; i != 0; i--) {
      let name = this.get_frontmatter(tmp, this.prev);
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.set_frontmatter(note, this.next, "");
        this.set_frontmatter(tmp, this.prev, "");
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = tfile;
    for (let i = next; i != 0; i--) {
      let name = this.get_frontmatter(tmp, this.next);
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.set_frontmatter(note, this.prev, "");
        this.set_frontmatter(tmp, this.next, "");
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    return res;
  }
  get_first_note(tfile = this.current_note) {
    let notes = this.get_file_chain(tfile, -1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  get_last_note(tfile = this.current_note) {
    let notes = this.get_file_chain(tfile, 0, -1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  get_prev_note(tfile = this.current_note) {
    let notes = this.get_file_chain(tfile, 1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  get_next_note(tfile = this.current_note) {
    let notes = this.get_file_chain(tfile, 0, 1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  open_prev_notes(tfile = this.current_note) {
    let note = this.get_prev_note(tfile);
    this.open_note(note);
  }
  open_next_notes(tfile = this.current_note) {
    let note = this.get_next_note(tfile);
    this.open_note(note);
  }
  get_neighbors(tfile = this.current_note) {
    return [
      this.get_prev_note(tfile),
      this.get_next_note(tfile)
    ];
  }
  async set_frontmatter(tfile, key, value) {
    await this.app.fileManager.processFrontMatter(tfile, (fm) => {
      console.log(`${tfile.basename}---${key}---${value}`);
      fm[key] = value;
    });
  }
  get_frontmatter(tfile, key) {
    let meta = this.app.metadataCache.getFileCache(tfile);
    if (meta == null ? void 0 : meta.frontmatter) {
      return meta.frontmatter[key];
    }
  }
  pop_node(tfile) {
    let neighbor = this.get_neighbors(tfile);
    if (neighbor[0] != null && neighbor[1] != null) {
      this.set_frontmatter(neighbor[0], this.next, `[[${neighbor[1].basename}]]`);
      this.set_frontmatter(neighbor[1], this.prev, `[[${neighbor[0].basename}]]`);
    } else if (neighbor[0] != null) {
      this.set_frontmatter(neighbor[0], this.next, ``);
    } else if (neighbor[1] != null) {
      this.set_frontmatter(neighbor[1], this.prev, ``);
    }
  }
  insert_node_as_head(tfile, anchor) {
    if (head == tfile) {
      return;
    }
    let head = this.get_first_note(anchor);
    this.set_frontmatter(tfile, this.next, `[[${head.basename}]]`);
    this.set_frontmatter(head, this.prev, `[[${tfile.basename}]]`);
  }
  insert_node_as_tail(tfile, anchor) {
    let tail = this.get_last_note(anchor);
    if (tfile == tail) {
      return;
    }
    this.set_frontmatter(tfile, this.prev, `[[${tail.basename}]]`);
    this.set_frontmatter(tail, this.next, `[[${tfile.basename}]]`);
  }
  insert_node_after(tfile, anchor) {
    let next = this.get_next_note(anchor, this.prev, this.next, true);
    if (next[0] && next[1][0] != tfile && next[1][0] != anchor) {
      this.set_frontmatter(next[1][0], this.prev, `[[${tfile.basename}]]`);
      this.set_frontmatter(tfile, this.next, `[[${next[1][0].basename}]]`);
    }
    this.set_frontmatter(tfile, this.prev, `[[${anchor.basename}]]`);
    this.set_frontmatter(anchor, this.next, `[[${tfile.basename}]]`);
  }
  insert_node_before(tfile, anchor) {
    let prev = this.get_prev_note(anchor, this.prev, this.next, true);
    if (prev[0] && prev[1][0] != tfile && prev[1][0] != anchor) {
      this.set_frontmatter(prev[1][0], this.next, `[[${tfile.basename}]]`);
      this.set_frontmatter(tfile, this.prev, `[[${prev[1][0].basename}]]`);
    }
    this.set_frontmatter(tfile, this.next, `[[${anchor.basename}]]`);
    this.set_frontmatter(anchor, this.prev, `[[${tfile.basename}]]`);
  }
  async rechain_folder(tfolder = null, mode2 = "suggester") {
    let notes = this.get_same_parent();
    let files = await this.suggester_sort(notes);
    for (let i = 0; i < files.length - 1; i++) {
      if (!(this.get_frontmatter(files[i], this.next) === `[[${files[i + 1].basename}]]`)) {
        this.set_frontmatter(files[i], this.next, `[[${files[i + 1].basename}]]`);
      }
      if (!(this.get_frontmatter(files[i + 1], this.prev) === `[[${files[i].basename}]]`)) {
        this.set_frontmatter(files[i + 1], this.prev, `[[${files[i].basename}]]`);
      }
    }
  }
  sort_tfiles(files, field) {
    if (typeof field === "string") {
      if (field === "name") {
        return files.sort(
          (a, b) => a.name.localeCompare(b.name)
        );
      } else if (field === "mtime") {
        return files.sort(
          (a, b) => a.stat.mtime - b.stat.mtime
        );
      } else if (field === "ctime") {
        return files.sort(
          (a, b) => a.stat.ctime - b.stat.ctime
        );
      } else if (field === "chain") {
        return this.sort_tfiles_by_chain(files);
      }
      return files;
    } else if (typeof field === "object") {
      if (field instanceof Array) {
        let nfiles = this.sort_tfiles(files, field[0]);
        if (field.length >= 2) {
          if (field[1] === "x") {
            return nfiles.reverse();
          }
        }
        return nfiles;
      }
    }
    return files;
  }
  sort_tfiles_by_chain(tfiles) {
    let notes = tfiles.map((f) => f);
    let res = [];
    while (notes.length > 0) {
      let note = notes[0];
      let tmp = [];
      let xchain = this.get_file_chain(note, -1, -1);
      for (let x of xchain) {
        if (notes.contains(x)) {
          tmp.push(x);
          notes.remove(x);
        }
      }
      res.push(tmp);
    }
    res = res.sort((a, b) => b.length - a.length);
    let rres = [];
    for (let i of res) {
      for (let j of i) {
        rres.push(j);
      }
    }
    return rres;
  }
  sort_tfiles_by_field(files, field) {
    let res = files.sort(
      (a, b) => {
        let ameta = this.app.metadataCache.getFileCache(a).frontmatter;
        let bmeta = this.app.metadataCache.getFileCache(b).frontmatter;
        if (!ameta && !bmeta) {
          return 0;
        } else if (!ameta) {
          return bmeta[field];
        } else if (!bmeta) {
          return ameta[mode];
        } else {
          return ameta[field] - bmeta[field];
        }
      }
    );
    return res;
  }
  async suggester_sort(tfiles) {
    if (!tfiles) {
      return [];
    }
    if (tfiles.length == 0) {
      return [];
    }
    ;
    let kv = {
      "name": "name",
      "ctime": "ctime",
      "mtime": "mtime",
      "name \u5012\u5E8F": ["name", "x"],
      "ctime \u5012\u5E8F": ["ctime", "x"],
      "mtime \u5012\u5E8F": ["mtime", "x"]
    };
    let field = await this.suggester(
      Object.keys(kv),
      Object.values(kv)
    );
    return this.sort_tfiles(tfiles, field);
  }
};
var ZigHolding = class extends import_obsidian.Plugin {
  async onload() {
    this.chain = new NoteChain(this);
    this.editor = new ZigEditor(this.app);
    this.app.zig = this;
    await this.loadSettings();
    this.dataview = await this.app.plugins.getPlugin(
      "dataview"
    );
    this.templater = await this.app.plugins.getPlugin(
      "templater-obsidian"
    );
    this.addCommand({
      id: "chain_insert_node",
      name: "Insert node of chain",
      callback: () => {
        this.chain_insert_node();
      }
    });
    this.addCommand({
      id: "chain_set_seq_note",
      name: "Reset the chain of current folder! Warning: It will reset your chain",
      callback: () => {
        this.chain.rechain_folder();
      }
    });
    this.addCommand({
      id: "open_notes_smarter",
      name: "Open note smarter",
      callback: () => {
        this.open_note_smarter();
      }
    });
    this.addCommand({
      id: "sugguster_open_note",
      name: "Open note",
      callback: () => {
        this.chain.sugguster_open_note();
      }
    });
    this.addCommand({
      id: "open_prev_notes",
      name: "Open prev note",
      callback: () => {
        this.chain.open_prev_notes();
      }
    });
    this.addCommand({
      id: "open_next_notes",
      name: "Open next note",
      callback: () => {
        this.chain.open_next_notes();
      }
    });
    this.addCommand({
      id: "open_note_chain",
      name: "Open chain of current file",
      callback: () => {
        this.open_note_chain();
      }
    });
    this.addCommand({
      id: "clear_inlinks",
      name: "Clear inlinks of current file",
      callback: () => {
        this.clear_inlinks();
      }
    });
    this.addCommand({
      id: "move_file_to_another_folder",
      name: "Move current file to another folder",
      callback: () => {
        this.chain.move_file_to_another_folder();
      }
    });
    this.addCommand({
      id: "replace_notes_with_regx",
      name: "Replace by regex",
      callback: () => {
        this.replace_notes_with_regx();
      }
    });
    this.addSettingTab(new ZigSettingTab(this.app, this));
    console.log("Zig-Holding:regeister ufunc_on_file_open");
    this.app.workspace.on("file-open", this.ufunc_on_file_open);
  }
  onunload() {
    console.log("Zig-Holding:unregeister ufunc_on_file_open");
    this.app.workspace.off("file-open", this.ufunc_on_file_open);
  }
  async ufunc_on_file_open(file) {
    let zh = await app.plugins.getPlugin("zig-holding");
    if (!zh) {
      return;
    }
    if (zh.settings.refreshDataView) {
      zh.app.commands.executeCommandById(
        "dataview:dataview-force-refresh-views"
      );
    }
    if (zh.settings.refreshTasks) {
      let target = await app.plugins.getPlugin("obsidian-tasks-plugin");
      target.cache.notifySubscribers();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async clear_inlinks(tfile = this.chain.current_note, mode2 = "suggester") {
    let notes = this.chain.get_inlinks(tfile);
    if (notes.length) {
      if (mode2 === "suggester") {
        mode2 = await this.suggester(
          ["\u5220\u9664\u94FE\u63A5", "\u66FF\u6362\u94FE\u63A5", "\u5220\u9664\u6BB5\u843D"],
          [["link", "del"], ["link", "rep"], ["para", "del"]]
        );
      }
      let reg = this.editor.regexp_link(tfile, mode2[0]);
      if (reg) {
        for (let note of notes) {
          let target;
          if (mode2[1] === "rep") {
            target = tfile.basename;
          } else {
            target = "";
          }
          this.editor.replace(note, reg, target);
        }
      }
    }
  }
  get prompt() {
    return get_tp_func(this.app, "tp.system.prompt");
  }
  async replace_notes_with_regx() {
    let notes = await this.chain.suggester_notes();
    if ((notes == null ? void 0 : notes.length) > 0) {
      try {
        let regs = await this.prompt("\u8981\u66FF\u6362\u7684\u6B63\u5219\u8868\u8FBE\u5F0F");
        if (regs == null) {
          return;
        }
        let reg = new RegExp(regs, "g");
        let target = await this.prompt("\u76EE\u6807\u5B57\u7B26\u4E32");
        if (target == null) {
          return;
        }
        target = target.trim().replace(
          /\\n/g,
          "\n"
        );
        console.log(regs, reg, target);
        for (let note of notes) {
          await this.editor.replace(note, reg, target);
        }
      } catch (error) {
        console.log(error);
      }
    }
  }
  get_tfile(path) {
    let files = app.vault.getMarkdownFiles();
    if (files.includes(path)) {
      return files[path];
    }
    for (let file of files) {
      if (file.name.toLowerCase().localeCompare(path.toLowerCase()) == 0) {
        return file;
      }
      if (file.basename.toLowerCase().localeCompare(path.toLowerCase()) == 0) {
        return file;
      }
      if (`[[${file.basename.toLowerCase()}]]`.localeCompare(path.toLowerCase()) == 0) {
        return file;
      }
    }
    return null;
  }
  get_tfile_config(tfile, suffix = "_config") {
    return this.get_tfile(tfile.basename + suffix);
  }
  async select_value_of_list(targets, prompt2 = null) {
    const target = await this.suggester(
      targets,
      targets,
      false,
      prompt2
    );
    return target;
  }
  async chain_insert_node() {
    let curr = this.chain.current_note;
    let notes = this.chain.get_tfiles_of_folder(curr == null ? void 0 : curr.parent, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    notes = notes.filter((f) => f != curr);
    const note = await this.suggester(
      (file) => this.tfile_to_string(
        file,
        this.settings.showLink ? ["PrevNote", "NextNote"] : [],
        "			\u26A1  "
      ),
      notes
    );
    if (!note) {
      return;
    }
    let mode2 = await this.select_value_of_list([
      "insert_node_after",
      "insert_node_before",
      "insert_node_as_head",
      "insert_node_as_tail"
    ], prompt = "Select Node Insert Mode.");
    if (!mode2) {
      return;
    }
    console.log(typeof mode2, mode2);
    if (this.settings.popFirst) {
      this.chain.pop_node(curr);
    }
    if (mode2 === "insert_node_as_head") {
      this.chain.insert_node_as_head(curr, note);
    } else if (mode2 === "insert_node_as_tail") {
      this.chain.insert_node_as_tail(curr, note);
    } else if (mode2 === "insert_node_before") {
      this.chain.insert_node_before(curr, note);
    } else if (mode2 === "insert_node_after") {
      this.chain.insert_node_after(curr, note);
    } else {
      return;
    }
    if (this.settings.openLink) {
      if (note) {
        if (this.settings.newTab) {
          this.app.workspace.getLeaf(true).openFile(note);
        } else {
          this.app.workspace.activeLeaf.openFile(note);
        }
      }
    }
  }
  tfile_to_string(tfile, fields, seq) {
    let meta = this.app.metadataCache.getFileCache(tfile);
    let items = new Array();
    items.push(tfile.basename);
    for (let field of fields) {
      try {
        items.push(meta.frontmatter[field]);
      } catch (error) {
        items.push("-");
      }
    }
    return items.join(seq);
  }
  async open_note_smarter() {
    let curr = this.chain.current_note;
    let notes = await this.chain.suggester_notes(curr, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    const note = await this.suggester(
      (file) => file.path,
      notes
    );
    await this.chain.open_note(note);
  }
  get suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get_file_chain(curr, prev = 10, next = 10, sameFolder = false) {
    var _a, _b;
    if (curr === null) {
      curr = this.app.workspace.getActiveFile();
    }
    let res = Array();
    res.push(curr);
    let tmp = curr;
    for (let i = prev; i != 0; i--) {
      let meta = this.app.metadataCache.getFileCache(tmp);
      if (!meta) {
        break;
      }
      let name = (_a = meta.frontmatter) == null ? void 0 : _a.PrevNote;
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note | res.includes(note)) {
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = curr;
    for (let i = next; i != 0; i--) {
      let meta = this.app.metadataCache.getFileCache(tmp);
      if (!meta) {
        break;
      }
      let name = (_b = meta.frontmatter) == null ? void 0 : _b.NextNote;
      if (!name) {
        break;
      }
      let note = this.get_tfile(name);
      if (!note | res.includes(note)) {
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    if (sameFolder) {
      res.push(null);
      let afiles = this.app.vault.getMarkdownFiles();
      for (let f of afiles) {
        if (f.parent == (curr == null ? void 0 : curr.parent)) {
          if (!res.includes(f)) {
            res.push(f);
          }
        }
      }
      res = res.filter(
        (file) => file === null | (file == null ? void 0 : file.path.startsWith(curr.parent.path))
      );
    }
    return res;
  }
  async open_note_chain() {
    let curr = this.app.workspace.getActiveFile();
    let files = this.get_file_chain(
      curr,
      Number(this.settings.PrevChain),
      Number(this.settings.NextChain),
      this.settings.sameFolder
    );
    const note = await this.suggester(
      (file) => {
        if (!file) {
          return "-----\u{1F4C2}-----";
        } else if (file == curr) {
          return `\u{1F3E0} ${curr.basename}`;
        } else {
          return file.path.slice(curr.parent.path.length + 1).slice(0, -3);
        }
      },
      files
    );
    if (note) {
      if (this.settings.newTab) {
        this.app.workspace.getLeaf(true).openFile(note);
      } else {
        this.app.workspace.activeLeaf.openFile(note);
      }
    }
  }
};
var ZigSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Zig Holding" });
    containerEl.createEl("h3", { text: "Switch Note" });
    new import_obsidian.Setting(containerEl).setName("newTab").setDesc("\u662F\u5426\u5728\u65B0\u6807\u7B7E\u4E2D\u6253\u5F00\u7B14\u8BB0?").addToggle(
      (text) => text.setValue(this.plugin.settings.newTab).onChange(async (value) => {
        this.plugin.settings.newTab = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("withSelf").setDesc("\u662F\u5426\u663E\u793A\u5F53\u524D\u7B14\u8BB0?").addToggle(
      (text) => text.setValue(this.plugin.settings.withSelf).onChange(async (value) => {
        this.plugin.settings.withSelf = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h4", { text: "Open note in same folder" });
    new import_obsidian.Setting(containerEl).setName("reverse").setDesc("\u662F\u5426\u9006\u5411\u6392\u5E8F?").addToggle(
      (text) => text.setValue(this.plugin.settings.reverse).onChange(async (value) => {
        this.plugin.settings.reverse = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("field").setDesc("\u7B14\u8BB0\u6392\u5E8F\u5B57\u6BB5\uFF1Amtime\uFF0C\u4FEE\u6539\u65F6\u95F4\uFF1Bctime\uFF0C\u521B\u5EFA\u65F6\u95F4\uFF1Bname,\u6587\u4EF6\u540D\uFF1B\u6216\u5176\u5B83\u5143\u6570\u636E\u5B57\u6BB5\u3002").addText((text) => text.setValue(this.plugin.settings.field).onChange(async (value) => {
      this.plugin.settings.field = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h4", { text: "Open note chain" });
    new import_obsidian.Setting(containerEl).setName("PrevChain").setDesc("\u524D\u7F6E\u7B14\u8BB0\u6570\u76EE").addText((text) => text.setValue(this.plugin.settings.PrevChain).onChange(async (value) => {
      this.plugin.settings.PrevChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("NextChain").setDesc("\u540E\u7F6E\u7B14\u8BB0\u6570\u76EE").addText((text) => text.setValue(this.plugin.settings.NextChain).onChange(async (value) => {
      this.plugin.settings.NextChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("sameFolder").setDesc("\u4EC5\u663E\u793A\u5F53\u524D\u6587\u4EF6\u5939\u4E2D\u94FE\u8DEF\uFF0C\u540C\u65F6\u5C55\u793A\u4E0D\u5728\u94FE\u8DEF\u7684\u6587\u4EF6").addToggle(
      (text) => text.setValue(this.plugin.settings.sameFolder).onChange(async (value) => {
        this.plugin.settings.sameFolder = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Note Chain" });
    new import_obsidian.Setting(containerEl).setName("showLink").setDesc("\u662F\u5426\u9009\u62E9\u65F6\u663E\u793A\u7B14\u8BB0\u94FE\u63A5").addToggle(
      (text) => text.setValue(this.plugin.settings.showLink).onChange(async (value) => {
        this.plugin.settings.showLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("popFirst").setDesc("\u63D2\u5165\u524D\u94FE\u63A5\u5F53\u524D\u7B14\u8BB0\u524D\u540E\u7F6E\u7B14\u8BB0").addToggle(
      (text) => text.setValue(this.plugin.settings.popFirst).onChange(async (value) => {
        this.plugin.settings.popFirst = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("openLink").setDesc("\u9009\u62E9\u540E\u662F\u5426\u6253\u5F00\u7B14\u8BB0").addToggle(
      (text) => text.setValue(this.plugin.settings.openLink).onChange(async (value) => {
        this.plugin.settings.openLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("allFiles").setDesc("\u662F\u5426\u4ECE\u6240\u6709\u7B14\u8BB0\u4E2D\u9009\u62E9").addToggle(
      (text) => text.setValue(this.plugin.settings.allFiles).onChange(async (value) => {
        this.plugin.settings.allFiles = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "\u521D\u59CB\u5316" });
    new import_obsidian.Setting(containerEl).setName("refreshDataView").setDesc("\u6253\u5F00\u65B0\u7B14\u8BB0\u65F6\u5237\u65B0Dataview\uFF1F").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshDataView).onChange(async (value) => {
        this.plugin.settings.refreshDataView = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("refreshTasks").setDesc("\u6253\u5F00\u65B0\u7B14\u8BB0\u65F6\u5237\u65B0Tasks\uFF1F").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshTasks).onChange(async (value) => {
        this.plugin.settings.refreshTasks = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgXHJcblx0QXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgXHJcblx0UGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLFxyXG5cdERhdGF2aWV3UGx1Z2luLFxyXG5cdFRGaWxlLFRGb2xkZXJcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcclxuXHJcbmludGVyZmFjZSBaaWdTZXR0aW5ncyB7XHJcblx0bmV3VGFiOiBib29sZWFuO1xyXG5cdHdpdGhTZWxmOmJvb2xlYW47XHJcblx0cmV2ZXJzZTpib29sZWFuO1xyXG5cdGZpZWxkOnN0cmluZztcclxuXHRQcmV2Q2hhaW46c3RyaW5nO1xyXG5cdE5leHRDaGFpbjpzdHJpbmc7XHJcblx0c2hvd0xpbms6Ym9vbGVhbjtcclxuXHRvcGVuTGluazpib29sZWFuO1xyXG5cdHJlZnJlc2hEYXRhVmlldzpib29sZWFuO1xyXG5cdHJlZnJlc2hUYXNrczpib29sZWFuLFxyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBaaWdTZXR0aW5ncyA9IHtcclxuXHRuZXdUYWIgOiB0cnVlLFxyXG5cdHdpdGhTZWxmIDogdHJ1ZSxcclxuXHRyZXZlcnNlIDogdHJ1ZSxcclxuXHRmaWVsZCA6IFwiTklEXCIsXHJcblx0UHJldkNoYWluIDogXCIxMFwiLFxyXG5cdE5leHRDaGFpbiA6IFwiMTBcIixcclxuXHRzaG93TGluayA6IHRydWUsXHJcblx0b3BlbkxpbmsgOiB0cnVlLFxyXG5cdHJlZnJlc2hEYXRhVmlldyA6IHRydWUsXHJcblx0cmVmcmVzaFRhc2tzIDogdHJ1ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRfdHBfZnVuYyhhcHA6QXBwLHRhcmdldDpzdHJpbmcpIHtcclxuXHQvLyBcdTgzQjdcdTUzRDYgIHRlbXBsYXRlciBcdTUxRkRcdTY1NzBcclxuXHQvLyBnZXRfdHBfZnVuYyhcInRwLnN5c3RlbS5wcm9tcHRcIilcclxuXHJcblx0bGV0IHRlbXBsYXRlciA9IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcclxuXHRcdFwidGVtcGxhdGVyLW9ic2lkaWFuXCJcclxuXHQpO1xyXG5cclxuXHRsZXQgaXRlbXMgPSB0YXJnZXQuc3BsaXQoXCIuXCIpO1xyXG5cdGlmKGl0ZW1zWzBdLmxvY2FsZUNvbXBhcmUoXCJ0cFwiKSE9MCB8fCBpdGVtcy5sZW5ndGghPTMpe3JldHVybiB1bmRlZmluZWQ7fVxyXG5cdFxyXG5cdGxldCBtb2R1bGVzID0gdGVtcGxhdGVyLnRlbXBsYXRlci5mdW5jdGlvbnNfZ2VuZXJhdG9yLlxyXG5cdFx0aW50ZXJuYWxfZnVuY3Rpb25zLm1vZHVsZXNfYXJyYXkuZmlsdGVyKFxyXG5cdFx0XHQoaXRlbSk9PihpdGVtLm5hbWUubG9jYWxlQ29tcGFyZShpdGVtc1sxXSk9PTApXHJcblx0XHQpO1xyXG5cclxuXHRpZihtb2R1bGVzLmxlbmd0aD09MCl7cmV0dXJuIHVuZGVmaW5lZH1cclxuXHRcclxuXHRyZXR1cm4gbW9kdWxlc1swXS5zdGF0aWNfZnVuY3Rpb25zLmdldChpdGVtc1syXSk7XHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgWmlnRWRpdG9ye1xyXG5cdGFwcDpBcHA7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDpBcHApe1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0fVxyXG5cclxuXHRyZWdleHBfbGluayh0ZmlsZTpURmlsZSxtb2RlOnN0cmluZyl7XHJcblx0XHQvL1tbbm90ZXx8YWxpYXNdXVxyXG5cdFx0aWYobW9kZT09PSdsaW5rJyl7XHJcblx0XHRcdHJldHVybiBuZXcgUmVnRXhwKGBcXFxcW1xcXFxbJHt0ZmlsZS5iYXNlbmFtZX1cXFxcfD8uKlxcXFxdXFxcXF1gLCdnJyk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vcGFyYWdyYXBoXHJcblx0XHRpZihtb2RlPT09J3BhcmEnKXtcclxuXHRcdFx0cmV0dXJuIG5ldyBSZWdFeHAoYC4qXFxcXFtcXFxcWyR7dGZpbGUuYmFzZW5hbWV9XFxcXHw/LipcXFxcXVxcXFxdLipgLCdnJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXBsYWNlKHRmaWxlOlRGaWxlLHJlZ2V4LHRhcmdldDpzdHJpbmcpe1xyXG5cdFx0aWYodHlwZW9mIHJlZ2V4ID09PSAnc3RyaW5nJyl7XHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0LnByb2Nlc3ModGZpbGUsKGRhdGEpPT57XHJcblx0XHRcdFx0aWYoZGF0YS5pbmRleE9mKHJlZ2V4KT4tMSl7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnUmVwbGFjZTogJyx0ZmlsZS5wYXRoKTtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhLnJlcGxhY2UocmVnZXgsIHRhcmdldCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KVxyXG5cdFx0fWVsc2UgaWYocmVnZXggaW5zdGFuY2VvZiBSZWdFeHApe1xyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5wcm9jZXNzKHRmaWxlLChkYXRhKT0+e1xyXG5cdFx0XHRcdGlmKGRhdGEubWF0Y2gocmVnZXgpKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdSZXBsYWNlOiAnLHRmaWxlLnBhdGgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGEucmVwbGFjZShyZWdleCwgdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBOb3RlQ2hhaW57XHJcblx0emlnOlppZ0hvbGRpbmc7XHJcblx0YXBwOkFwcDtcclxuXHRwcmV2OnN0cmluZztcclxuXHRuZXh0OnN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IoemlnOlppZ0hvbGRpbmcscHJldj1cIlByZXZOb3RlXCIsbmV4dD1cIk5leHROb3RlXCIpIHtcclxuXHRcdHRoaXMuemlnID0gemlnO1xyXG5cdFx0dGhpcy5hcHAgPSB6aWcuYXBwO1xyXG5cdFx0dGhpcy5wcmV2ID0gcHJldjtcclxuXHRcdHRoaXMubmV4dCA9IG5leHQ7XHJcblxyXG5cdFx0dGhpcy5kdl9hcGkgPSB0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcclxuXHRcdFx0XCJkYXRhdmlld1wiXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0Z2V0IGZpbmRfdGZpbGUoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuZmlsZS5maW5kX3RmaWxlJyk7XHJcblxyXG5cdH1cclxuXHJcblx0Z2V0IHN1Z2dlc3Rlcigpe1xyXG5cdFx0cmV0dXJuIGdldF90cF9mdW5jKHRoaXMuYXBwLCd0cC5zeXN0ZW0uc3VnZ2VzdGVyJyk7XHJcblx0fVxyXG5cclxuXHRnZXRfYWxsX2ZvbGRlcnMoc29ydF9tb2RlPScnKXtcclxuXHRcdHJldHVybiB0aGlzLmFwcC52YXVsdC5nZXRBbGxGb2xkZXJzKCk7XHJcblx0fVxyXG5cdFxyXG5cdHNvcnRfZm9sZGVyc19ieV9tdGltZShmb2xkZXJzOkFycmF5PFRGb2xkZXI+LHJldmVyc2U9dHJ1ZSl7XHJcblx0XHRmdW5jdGlvbiB1ZnVuYyhmOlRGb2xkZXIpe1xyXG5cdFx0XHRyZXR1cm4gTWF0aC5tYXgoXHJcblx0XHRcdFx0Li4uZi5jaGlsZHJlbi5maWx0ZXIoZj0+Zi5iYXNlbmFtZSkubWFwKGY9PmYuc3RhdFxyXG5cdFx0XHRcdC5tdGltZSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0bGV0IHJlcyA9IGZvbGRlcnMuc29ydCgoYSxiKT0+dWZ1bmMoYSktdWZ1bmMoYikpO1xyXG5cdFx0aWYocmV2ZXJzZSl7XHJcblx0XHRcdHJlcyA9IHJlcy5yZXZlcnNlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBmb2xkZXJzID0gdGhpcy5nZXRfYWxsX2ZvbGRlcnMoKTtcclxuXHRcdGZvbGRlcnMgPSB0aGlzLnNvcnRfZm9sZGVyc19ieV9tdGltZShmb2xkZXJzXHJcblx0XHQpLmZpbHRlcihmPT5mIT10ZmlsZS5wYXJlbnQpO1xyXG5cclxuXHRcdGlmKHRmaWxlLmV4dGVuc2lvbj09PSdtZCcpe1xyXG5cdFx0XHRmb2xkZXJzID0gZm9sZGVycy5maWx0ZXIoZj0+dGhpcy5maWx0ZXJfdXNlcl9pZ25vcmUoZikpO1xyXG5cdFx0fVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IGZvbGRlciA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyKChmKT0+Zi5wYXRoLGZvbGRlcnMpO1xyXG5cdFx0XHQvLyBcdTc5RkJcdTUyQThcdTdCMTRcdThCQjBcclxuXHRcdFx0bGV0IGRzdCA9IGZvbGRlci5wYXRoK1wiL1wiK3RmaWxlLmJhc2VuYW1lK1wiLlwiK3RmaWxlLmV4dGVuc2lvbjtcclxuXHRcdFx0YXdhaXQgYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUodGZpbGUsZHN0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmaWx0ZXJfdXNlcl9pZ25vcmUobm90ZSl7XHJcblx0XHRpZighKHRoaXMuYXBwLnZhdWx0LmNvbmZpZy5hdHRhY2htZW50Rm9sZGVyUGF0aD09PScuLycpKXtcclxuXHRcdFx0aWYobm90ZS5wYXRoLnN0YXJ0c1dpdGgoXHJcblx0XHRcdFx0dGhpcy5hcHAudmF1bHQuY29uZmlnLmF0dGFjaG1lbnRGb2xkZXJQYXRoKVxyXG5cdFx0XHQpe1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5hcHAudmF1bHQuY29uZmlnLnVzZXJJZ25vcmVGaWx0ZXJzKXtcclxuXHRcdFx0Zm9yKGxldCB4IG9mIHRoaXMuYXBwLnZhdWx0LmNvbmZpZy51c2VySWdub3JlRmlsdGVycyl7XHJcblx0XHRcdFx0aWYobm90ZS5wYXRoLnN0YXJ0c1dpdGgoeCkpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdndXN0ZXJfbm90ZSgpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5zb3J0X3RmaWxlcyhcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKSxcclxuXHRcdFx0WydtdGltZScsJ3gnXVxyXG5cdFx0KS5maWx0ZXIoZj0+dGhpcy5maWx0ZXJfdXNlcl9pZ25vcmUoZikpO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLnN1Z2dlc3RlcihmPT5mLnBhdGgsbm90ZXMpO1xyXG5cdFx0XHRyZXR1cm4gbm90ZTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuX25vdGUodGZpbGU6VEZpbGUsbmV3X3RhYj1mYWxzZSl7XHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGlmKHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLnBpbm5lZCB8fCBuZXdfdGFiKXtcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLm9wZW5GaWxlKHRmaWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ3VzdGVyX29wZW5fbm90ZSgpe1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLnN1Z2d1c3Rlcl9ub3RlKCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKG5vdGUpO1xyXG5cdFx0XHR0aGlzLm9wZW5fbm90ZShub3RlKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblxyXG5cdGdldF90ZmlsZShwYXRoKXtcclxuXHRcdGxldCBuYW1lID0gcGF0aC5zcGxpdCgnfCcpWzBdLnJlcGxhY2UoJ1tbJywnJykucmVwbGFjZSgnXV0nLCcnKTtcclxuXHRcdHJldHVybiB0aGlzLmZpbmRfdGZpbGUobmFtZSk7XHJcblx0fVxyXG5cclxuXHRnZXQgTURGaWxlcygpe1xyXG5cdFx0cmV0dXJuIGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblx0fVxyXG5cclxuXHRnZXQgY3VycmVudF9ub3RlKCl7XHJcblx0XHRyZXR1cm4gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHR9XHJcblxyXG5cdGdldF9pbmxpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCByZXMgPSBuZXcgQXJyYXkoKTtcclxuXHJcblx0XHRsZXQgaW5saW5rcyA9IHRoaXMuZHZfYXBpLmluZGV4LmxpbmtzLmludk1hcC5nZXQodGZpbGUucGF0aCk7XHJcblx0XHRpZihpbmxpbmtzPT11bmRlZmluZWQpe1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIEFycmF5LmZyb20oaW5saW5rcykubWFwKFxyXG5cdFx0XHRcdChwYXRoKT0+KHRoaXMuYXBwLnZhdWx0LmZpbGVNYXBbcGF0aF0pXHJcblx0XHRcdCkuZmlsdGVyKFxyXG5cdFx0XHRcdChpdGVtKT0+KGl0ZW0pXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9vdXRsaW5rcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRsZXQgaW5saW5rcyA9IHRoaXMuZHZfYXBpLmluZGV4LmxpbmtzLm1hcC5nZXQodGZpbGUucGF0aCk7XHJcblx0XHRpZihpbmxpbmtzPT11bmRlZmluZWQpe1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIEFycmF5LmZyb20oaW5saW5rcykubWFwKFxyXG5cdFx0XHRcdChwYXRoKT0+KHRoaXMuYXBwLnZhdWx0LmZpbGVNYXBbcGF0aF0pXHJcblx0XHRcdCkuZmlsdGVyKFxyXG5cdFx0XHRcdChpdGVtKT0+KGl0ZW0pXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9saW5rcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgaW5saW5rcyA9IHRoaXMuZ2V0X2lubGlua3ModGZpbGUpO1xyXG5cdFx0bGV0IG91dGxpbmtzID0gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUpO1xyXG5cdFx0Zm9yKGxldCBsaW5rIG9mIGlubGlua3Mpe1xyXG5cdFx0XHRpZighb3V0bGlua3MuaW5jbHVkZXMobGluaykpe1xyXG5cdFx0XHRcdG91dGxpbmtzLnB1c2gobGluaylcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG91dGxpbmtzO1xyXG5cdH1cclxuXHJcblx0Z2V0X3NhbWVfcGFyZW50KHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdHJldHVybiB0aGlzLmdldF90ZmlsZXNfb2ZfZm9sZGVyKHRmaWxlPy5wYXJlbnQsZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0Z2V0X3RmaWxlc19vZl9mb2xkZXIodGZvbGRlcjpURm9sZGVyLHdpdGhfY2hpbGRyZW49dHJ1ZSl7XHJcblx0XHRpZih0Zm9sZGVyPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0bGV0IG5vdGVzID0gW107XHJcblx0XHRmb3IobGV0IGMgb2YgdGZvbGRlci5jaGlsZHJlbil7XHJcblx0XHRcdGlmKGMuYmFzZW5hbWUgJiYgYy5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0XHRub3Rlcy5wdXNoKGMpO1xyXG5cdFx0XHR9ZWxzZSBpZihjLmNoaWxkcmVuICYmIHdpdGhfY2hpbGRyZW4pe1xyXG5cdFx0XHRcdGxldCB0bXAgPSB0aGlzLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGMpO1xyXG5cdFx0XHRcdGZvcihsZXQgeCBvZiB0bXApe1xyXG5cdFx0XHRcdFx0bm90ZXMucHVzaCh4KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBub3RlcztcclxuXHJcblx0fVxyXG5cclxuXHRwYXJzZV9pdGVtKGl0ZW0pe1xyXG5cdFx0dmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuc2xpY2UoMSk7XHJcblx0XHRsZXQga3dhcmdzID0ge31cclxuXHRcdGlmKGFyZ3MubGVuZ3RoPT0xKXtcclxuXHRcdFx0a3dhcmdzID0gYXJnc1swXTtcclxuXHRcdH1cclxuXHRcdGxldCBzZXEgPSBrd2FyZ3NbJ3NlcSddO1xyXG5cclxuXHRcdGlmKHNlcSE9bnVsbCl7XHJcblx0XHRcdHJldHVybiBgJHtzZXF9IC0+ICR7aXRlbX1gO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGl0ZW07XHJcblx0fVxyXG5cclxuXHRwYXJzZV9pdGVtcyhpdGVtczpBcnJheTxzdHJpbmd8VEZpbGU+KXtcclxuXHRcdHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpLnNsaWNlKDEpO1xyXG5cdFx0bGV0IGt3YXJncyA9IHt9XHJcblx0XHRpZihhcmdzLmxlbmd0aD09MSl7XHJcblx0XHRcdGt3YXJncyA9IGFyZ3NbMF07XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHJlcyA9IFtdO1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUoaTxpdGVtcy5sZW5ndGgpe1xyXG5cdFx0XHRpZihrd2FyZ3NbJ3NlcSddKXtcclxuXHRcdFx0XHRyZXMucHVzaCh0aGlzLnBhcnNlX2l0ZW0oaXRlbXNbaV0seydzZXEnOmkrMX0pKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnB1c2godGhpcy5wYXJzZV9pdGVtKGl0ZW1zW2ldKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdnZXN0ZXJfbm90ZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUsY3Vycl9maXJzdD10cnVlLHNtb2RlPScnKXtcclxuXHRcdGxldCBrdiA9IFtcdFx0XHRcclxuXHRcdFx0J1x1NTQwQ1x1N0VBN1x1NzZFRVx1NUY1NScsXHJcblx0XHRcdCdcdTdCMTRcdThCQjBcdTk0RkVcdTY3NjEnLFxyXG5cdFx0XHQnXHU1NDBDXHU3RUE3XHU3NkVFXHU1RjU1K1x1NUI1MFx1NzZFRVx1NUY1NScsXHJcblx0XHRcdCdcdTUxRkFcdTk0RkUrXHU1MTY1XHU5NEZFJyxcclxuXHRcdFx0J1x1NTE2NVx1OTRGRScsXHJcblx0XHRcdCdcdTUxRkFcdTk0RkUnLFxyXG5cdFx0XHQnXHU2MjQwXHU2NzA5XHU3QjE0XHU4QkIwJyxcclxuXHRcdFx0J3JlY2VudC1maWxlcy1vYnNpZGlhbidcclxuXHRcdF1cclxuXHRcdGlmKGN1cnJfZmlyc3Qpe1xyXG5cdFx0XHRrdi51bnNoaWZ0KCdcdTVGNTNcdTUyNERcdTdCMTRcdThCQjAnKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGt2LnB1c2goJ1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCcpXHJcblx0XHR9XHJcblx0XHRsZXQgbW9kZSA9ICcnO1xyXG5cdFx0aWYoa3YuY29udGFpbnMoc21vZGUpKXtcclxuXHRcdFx0bW9kZSA9IHNtb2RlO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdG1vZGUgPSBhd2FpdCB0aGlzLnN1Z2dlc3Rlcihrdixrdik7XHJcblx0XHR9XHJcblx0XHRpZihtb2RlPT09J1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCcpe1xyXG5cdFx0XHRyZXR1cm4gW3RmaWxlXTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0nXHU1NDBDXHU3RUE3XHU3NkVFXHU1RjU1Jyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9zYW1lX3BhcmVudCh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NTQwQ1x1N0VBN1x1NzZFRVx1NUY1NStcdTVCNTBcdTc2RUVcdTVGNTUnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3RmaWxlc19vZl9mb2xkZXIodGZpbGU/LnBhcmVudCx0cnVlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0nXHU1MUZBXHU5NEZFK1x1NTE2NVx1OTRGRScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfbGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTUxNjVcdTk0RkUnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X2lubGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTUxRkFcdTk0RkUnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X291dGxpbmtzKHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0nXHU2MjQwXHU2NzA5XHU3QjE0XHU4QkIwJyl7XHJcblx0XHRcdHJldHVybiB0aGlzLk1ERmlsZXM7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J3JlY2VudC1maWxlcy1vYnNpZGlhbicpe1xyXG5cdFx0XHRsZXQgciA9IHRoaXMuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwicmVjZW50LWZpbGVzLW9ic2lkaWFuXCIpO1xyXG5cdFx0XHRpZighcil7cmV0dXJuIFtdO31cclxuXHRcdFx0cmV0dXJuIE9iamVjdC52YWx1ZXMoXHJcblx0XHRcdFx0ci5kYXRhLnJlY2VudEZpbGVzKS5tYXAoZj0+dGhpcy5hcHAudmF1bHQuZmlsZU1hcFtmLnBhdGhdXHJcblx0XHRcdCkuZmlsdGVyKGY9PmYpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTdCMTRcdThCQjBcdTk0RkVcdTY3NjEnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X2ZpbGVfY2hhaW4oXHJcblx0XHRcdFx0dGZpbGUsXHJcblx0XHRcdFx0TnVtYmVyKHRoaXMuemlnLnNldHRpbmdzLlByZXZDaGFpbiksXHJcblx0XHRcdFx0TnVtYmVyKHRoaXMuemlnLnNldHRpbmdzLk5leHRDaGFpbilcclxuXHRcdFx0KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gQ2hhaW5cclxuXHRnZXRfZmlsZV9jaGFpbih0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxwcmV2PTEwLG5leHQ9MTAsd2l0aF9zZWxmPXRydWUpe1xyXG5cdFx0bGV0IHJlcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0aWYod2l0aF9zZWxmKXtcclxuXHRcdFx0cmVzLnB1c2godGZpbGUpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgdG1wID0gdGZpbGU7XHJcblx0XHRmb3IobGV0IGk9cHJldjtpIT0wO2ktLSl7XHJcblx0XHRcdGxldCBuYW1lID0gdGhpcy5nZXRfZnJvbnRtYXR0ZXIodG1wLHRoaXMucHJldik7XHJcblx0XHRcdGlmKCFuYW1lKXticmVha31cclxuXHRcclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZShuYW1lKTtcclxuXHRcdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZSBpZihyZXMuaW5jbHVkZXMobm90ZSkpe1xyXG5cdFx0XHRcdC8vIFx1NkJDRlx1NkIyMVx1ODFFQVx1NTJBOFx1NTIyMFx1OTY2NFx1NUZBQVx1NzNBRlx1OTRGRVx1NjNBNVxyXG5cdFx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKG5vdGUsdGhpcy5uZXh0LFwiXCIpO1xyXG5cdFx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKHRtcCx0aGlzLnByZXYsXCJcIik7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy51bnNoaWZ0KG5vdGUpO1xyXG5cdFx0XHRcdHRtcCA9IG5vdGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcclxuXHRcdHRtcCA9IHRmaWxlO1xyXG5cdFx0Zm9yKGxldCBpPW5leHQ7aSE9MDtpLS0pe1xyXG5cdFx0XHRsZXQgbmFtZSA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKHRtcCx0aGlzLm5leHQpO1xyXG5cdFx0XHRpZighbmFtZSl7YnJlYWt9XHJcblx0XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUobmFtZSk7XHJcblx0XHRcdGlmKCFub3RlKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2UgaWYocmVzLmluY2x1ZGVzKG5vdGUpKXtcclxuXHRcdFx0XHQvLyBcdTZCQ0ZcdTZCMjFcdTgxRUFcdTUyQThcdTUyMjBcdTk2NjRcdTVGQUFcdTczQUZcdTk0RkVcdTYzQTVcclxuXHRcdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihub3RlLHRoaXMucHJldixcIlwiKTtcclxuXHRcdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcih0bXAsdGhpcy5uZXh0LFwiXCIpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXMucHVzaChub3RlKTtcclxuXHRcdFx0XHR0bXAgPSBub3RlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0Z2V0X2ZpcnN0X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5nZXRfZmlsZV9jaGFpbih0ZmlsZSwtMSwwLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzWzBdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2xhc3Rfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9maWxlX2NoYWluKHRmaWxlLDAsLTEsZmFsc2UpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gbm90ZXNbbm90ZXMubGVuZ3RoLTFdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X3ByZXZfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9maWxlX2NoYWluKHRmaWxlLDEsMCxmYWxzZSk7XHJcblx0XHRpZihub3Rlcy5sZW5ndGg+MCl7XHJcblx0XHRcdHJldHVybiBub3Rlc1swXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9uZXh0X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5nZXRfZmlsZV9jaGFpbih0ZmlsZSwwLDEsZmFsc2UpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gbm90ZXNbbm90ZXMubGVuZ3RoLTFdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b3Blbl9wcmV2X25vdGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlID0gdGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlKTtcclxuXHRcdHRoaXMub3Blbl9ub3RlKG5vdGUpO1xyXG5cdH1cclxuXHRcclxuXHRvcGVuX25leHRfbm90ZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGUgPSB0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpO1xyXG5cdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0fVxyXG5cclxuXHRnZXRfbmVpZ2hib3JzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdHJldHVybiBbXHJcblx0XHRcdHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZSksXHJcblx0XHRcdHRoaXMuZ2V0X25leHRfbm90ZSh0ZmlsZSksXHJcblx0XHRdXHJcblx0fVxyXG5cdFxyXG5cclxuXHRhc3luYyBzZXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa2V5OnN0cmluZyx2YWx1ZTpzdHJpbmcpe1xyXG5cdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKHRmaWxlLGZtID0+e1xyXG5cdFx0XHRjb25zb2xlLmxvZyhgJHt0ZmlsZS5iYXNlbmFtZX0tLS0ke2tleX0tLS0ke3ZhbHVlfWApO1xyXG5cdFx0XHRmbVtrZXldID0gdmFsdWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldF9mcm9udG1hdHRlcih0ZmlsZTpURmlsZSxrZXk6c3RyaW5nKXtcclxuXHRcdGxldCBtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0aWYobWV0YT8uZnJvbnRtYXR0ZXIpe1xyXG5cdFx0XHRyZXR1cm4gbWV0YS5mcm9udG1hdHRlcltrZXldO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cG9wX25vZGUodGZpbGUpe1xyXG5cdFx0Ly8gXHU3OUZCXHU5NjY0IHRmaWxlXHVGRjBDXHU1MTczXHU4MDU0XHU1MjREXHU1NDBFXHJcblx0XHRsZXQgbmVpZ2hib3IgPSB0aGlzLmdldF9uZWlnaGJvcnModGZpbGUpO1xyXG5cdFx0aWYobmVpZ2hib3JbMF0hPW51bGwgJiYgbmVpZ2hib3JbMV0hPW51bGwpe1xyXG5cdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihuZWlnaGJvclswXSx0aGlzLm5leHQsYFtbJHtuZWlnaGJvclsxXS5iYXNlbmFtZX1dXWApO1xyXG5cdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihuZWlnaGJvclsxXSx0aGlzLnByZXYsYFtbJHtuZWlnaGJvclswXS5iYXNlbmFtZX1dXWApO1xyXG5cdFx0fWVsc2UgaWYobmVpZ2hib3JbMF0hPW51bGwpe1xyXG5cdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihuZWlnaGJvclswXSx0aGlzLm5leHQsYGApO1xyXG5cdFx0fWVsc2UgaWYobmVpZ2hib3JbMV0hPW51bGwpe1xyXG5cdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihuZWlnaGJvclsxXSx0aGlzLnByZXYsYGApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aW5zZXJ0X25vZGVfYXNfaGVhZCh0ZmlsZSxhbmNob3Ipe1xyXG5cdFx0Ly8gXHU1QzA2dGZpbGUgXHU2M0QyXHU1MjMwIGFuY2hvciBcdTYyNDBcdTU3MjhcdTk0RkVcdTc2ODRcdTU5MzRcclxuXHRcdGlmKGhlYWQ9PXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0bGV0IGhlYWQgPSB0aGlzLmdldF9maXJzdF9ub3RlKGFuY2hvcik7XHJcblx0XHR0aGlzLnNldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLm5leHQsYFtbJHtoZWFkLmJhc2VuYW1lfV1dYCk7XHJcblx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihoZWFkLHRoaXMucHJldixgW1ske3RmaWxlLmJhc2VuYW1lfV1dYCk7XHJcblx0fVxyXG5cclxuXHRpbnNlcnRfbm9kZV9hc190YWlsKHRmaWxlLGFuY2hvcil7XHJcblx0XHQvLyBcdTVDMDZ0ZmlsZSBcdTYzRDJcdTUyMzAgYW5jaG9yIFx1NjI0MFx1NTcyOFx1OTRGRVx1NzY4NFx1NUMzRVxyXG5cdFx0bGV0IHRhaWwgPSB0aGlzLmdldF9sYXN0X25vdGUoYW5jaG9yKTtcclxuXHRcdGlmKHRmaWxlPT10YWlsKXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsdGhpcy5wcmV2LGBbWyR7dGFpbC5iYXNlbmFtZX1dXWApO1xyXG5cdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIodGFpbCx0aGlzLm5leHQsYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWApO1xyXG5cdH1cclxuXHJcblx0aW5zZXJ0X25vZGVfYWZ0ZXIodGZpbGUsYW5jaG9yKXtcclxuXHRcdGxldCBuZXh0ID0gdGhpcy5nZXRfbmV4dF9ub3RlKGFuY2hvcix0aGlzLnByZXYsdGhpcy5uZXh0LHRydWUpO1xyXG5cdFx0aWYobmV4dFswXSAmJiBuZXh0WzFdWzBdIT10ZmlsZSAmJiBuZXh0WzFdWzBdIT1hbmNob3Ipe1xyXG5cdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihuZXh0WzFdWzBdLHRoaXMucHJldixgW1ske3RmaWxlLmJhc2VuYW1lfV1dYCk7XHJcblx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMubmV4dCxgW1ske25leHRbMV1bMF0uYmFzZW5hbWV9XV1gKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLnByZXYsYFtbJHthbmNob3IuYmFzZW5hbWV9XV1gKTtcclxuXHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKGFuY2hvcix0aGlzLm5leHQsYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWApO1xyXG5cdH1cclxuXHJcblx0aW5zZXJ0X25vZGVfYmVmb3JlKHRmaWxlLGFuY2hvcil7XHJcblx0XHRsZXQgcHJldiA9IHRoaXMuZ2V0X3ByZXZfbm90ZShhbmNob3IsdGhpcy5wcmV2LHRoaXMubmV4dCx0cnVlKTtcclxuXHRcdGlmKHByZXZbMF0gJiYgcHJldlsxXVswXSE9dGZpbGUgJiYgcHJldlsxXVswXSE9YW5jaG9yKXtcclxuXHRcdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIocHJldlsxXVswXSx0aGlzLm5leHQsYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWApO1xyXG5cdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLnByZXYsYFtbJHtwcmV2WzFdWzBdLmJhc2VuYW1lfV1dYCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsdGhpcy5uZXh0LGBbWyR7YW5jaG9yLmJhc2VuYW1lfV1dYCk7XHJcblx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihhbmNob3IsdGhpcy5wcmV2LGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gKTtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgcmVjaGFpbl9mb2xkZXIodGZvbGRlcj1udWxsLG1vZGU9J3N1Z2dlc3Rlcicpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5nZXRfc2FtZV9wYXJlbnQoKTtcclxuXHRcdGxldCBmaWxlcyA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyX3NvcnQobm90ZXMpO1xyXG5cdFx0XHJcblx0XHRmb3IobGV0IGk9MDtpPGZpbGVzLmxlbmd0aC0xO2krKyl7XHJcblx0XHRcdGlmKCEodGhpcy5nZXRfZnJvbnRtYXR0ZXIoZmlsZXNbaV0sdGhpcy5uZXh0KT09PWBbWyR7ZmlsZXNbaSsxXS5iYXNlbmFtZX1dXWApKXtcclxuXHRcdFx0XHR0aGlzLnNldF9mcm9udG1hdHRlcihmaWxlc1tpXSx0aGlzLm5leHQsYFtbJHtmaWxlc1tpKzFdLmJhc2VuYW1lfV1dYCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoISh0aGlzLmdldF9mcm9udG1hdHRlcihmaWxlc1tpKzFdLHRoaXMucHJldik9PT1gW1ske2ZpbGVzW2ldLmJhc2VuYW1lfV1dYCkpe1xyXG5cdFx0XHRcdHRoaXMuc2V0X2Zyb250bWF0dGVyKGZpbGVzW2krMV0sdGhpcy5wcmV2LGBbWyR7ZmlsZXNbaV0uYmFzZW5hbWV9XV1gKTtcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlcyhmaWxlczpBcnJheTxURmlsZT4sZmllbGQpe1xyXG5cdFx0aWYodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJyl7XHJcblx0XHRcdGlmKGZpZWxkPT09J25hbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdtdGltZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGEsYik9PihhLnN0YXQubXRpbWUtYi5zdGF0Lm10aW1lKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nY3RpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0LmN0aW1lLWIuc3RhdC5jdGltZSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZihmaWVsZD09PSdjaGFpbicpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKGZpbGVzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmlsZXM7XHJcblx0XHR9ZWxzZSBpZih0eXBlb2YgZmllbGQgPT09ICdvYmplY3QnKXtcclxuXHRcdFx0aWYoZmllbGQgaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0bGV0IG5maWxlcyA9IHRoaXMuc29ydF90ZmlsZXMoZmlsZXMsZmllbGRbMF0pO1xyXG5cdFx0XHRcdGlmKGZpZWxkLmxlbmd0aD49Mil7XHJcblx0XHRcdFx0XHRpZihmaWVsZFsxXT09PSd4Jyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBuZmlsZXMucmV2ZXJzZSgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBuZmlsZXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblx0XHJcblx0c29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRsZXQgbm90ZXMgPSB0ZmlsZXMubWFwKGY9PmYpO1xyXG5cdFx0bGV0IHJlcyA9IFtdO1xyXG5cdFx0d2hpbGUobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgbm90ZSA9IG5vdGVzWzBdO1xyXG5cdFx0XHRsZXQgdG1wID0gW107XHJcblx0XHRcdGxldCB4Y2hhaW4gPSB0aGlzLmdldF9maWxlX2NoYWluKG5vdGUsLTEsLTEpO1xyXG5cdFx0XHRmb3IobGV0IHggb2YgeGNoYWluKXtcclxuXHRcdFx0XHRpZihub3Rlcy5jb250YWlucyh4KSl7XHJcblx0XHRcdFx0XHR0bXAucHVzaCh4KTtcclxuXHRcdFx0XHRcdG5vdGVzLnJlbW92ZSh4KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmVzLnB1c2godG1wKTtcclxuXHRcdH1cclxuXHRcdHJlcyA9IHJlcy5zb3J0KChhLGIpPT5iLmxlbmd0aC1hLmxlbmd0aCk7XHJcblx0XHRsZXQgcnJlcyA9IFtdO1xyXG5cdFx0Zm9yKGxldCBpIG9mIHJlcyl7XHJcblx0XHRcdGZvcihsZXQgaiBvZiBpKXtcclxuXHRcdFx0XHRycmVzLnB1c2goaik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBycmVzO1xyXG5cdH1cclxuXHJcblx0c29ydF90ZmlsZXNfYnlfZmllbGQoZmlsZXMsZmllbGQpe1xyXG5cdFx0bGV0IHJlcyA9IGZpbGVzLnNvcnQoXHJcblx0XHRcdChhLGIpPT57XHJcblx0XHRcdFx0bGV0IGFtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoYSkuZnJvbnRtYXR0ZXI7XHJcblx0XHRcdFx0bGV0IGJtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoYikuZnJvbnRtYXR0ZXI7XHJcblx0XHRcdFx0aWYoIWFtZXRhICYmICFibWV0YSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0XHR9ZWxzZSBpZighYW1ldGEpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGJtZXRhW2ZpZWxkXTtcclxuXHRcdFx0XHR9ZWxzZSBpZighYm1ldGEpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGFtZXRhW21vZGVdO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0cmV0dXJuIGFtZXRhW2ZpZWxkXS1ibWV0YVtmaWVsZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ2VzdGVyX3NvcnQodGZpbGVzKXtcclxuXHRcdGlmKCF0ZmlsZXMpe3JldHVybiBbXTt9XHJcblx0XHRpZih0ZmlsZXMubGVuZ3RoPT0wKXtyZXR1cm4gW119O1xyXG5cdFx0bGV0IGt2ID0ge1xyXG5cdFx0XHQnbmFtZSc6J25hbWUnLFxyXG5cdFx0XHQnY3RpbWUnOidjdGltZScsXHJcblx0XHRcdCdtdGltZSc6J210aW1lJyxcclxuXHRcdFx0J25hbWUgXHU1MDEyXHU1RThGJzpbJ25hbWUnLCd4J10sXHJcblx0XHRcdCdjdGltZSBcdTUwMTJcdTVFOEYnOlsnY3RpbWUnLCd4J10sXHJcblx0XHRcdCdtdGltZSBcdTUwMTJcdTVFOEYnOlsnbXRpbWUnLCd4J10sXHJcblx0XHR9XHJcblx0XHRsZXQgZmllbGQgPSBhd2FpdCB0aGlzLnN1Z2dlc3RlcihcclxuXHRcdFx0T2JqZWN0LmtleXMoa3YpLFxyXG5cdFx0XHRPYmplY3QudmFsdWVzKGt2KVxyXG5cdFx0KTtcclxuXHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzKHRmaWxlcyxmaWVsZCk7XHJcblx0fVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWmlnSG9sZGluZyBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IFppZ1NldHRpbmdzO1xyXG5cdGNoYWluIDogTm90ZUNoYWluO1xyXG5cdGVkaXRvciA6IFppZ0VkaXRvcjsgXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHJcblx0XHR0aGlzLmNoYWluID0gbmV3IE5vdGVDaGFpbih0aGlzKTtcclxuXHJcblx0XHR0aGlzLmVkaXRvciA9IG5ldyBaaWdFZGl0b3IodGhpcy5hcHApO1xyXG5cdFx0dGhpcy5hcHAuemlnID0gdGhpcztcclxuXHJcblxyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5kYXRhdmlldyA9IGF3YWl0IHRoaXMuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFxyXG5cdFx0XHRcImRhdGF2aWV3XCJcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy50ZW1wbGF0ZXIgPSBhd2FpdCB0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcclxuXHRcdFx0XCJ0ZW1wbGF0ZXItb2JzaWRpYW5cIlxyXG5cdFx0KVxyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnY2hhaW5faW5zZXJ0X25vZGUnLFxyXG5cdFx0XHRuYW1lOiAnSW5zZXJ0IG5vZGUgb2YgY2hhaW4nLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW5faW5zZXJ0X25vZGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnY2hhaW5fc2V0X3NlcV9ub3RlJyxcclxuXHRcdFx0bmFtZTogJ1Jlc2V0IHRoZSBjaGFpbiBvZiBjdXJyZW50IGZvbGRlciEgV2FybmluZzogSXQgd2lsbCByZXNldCB5b3VyIGNoYWluJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNoYWluLnJlY2hhaW5fZm9sZGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnb3Blbl9ub3Rlc19zbWFydGVyJyxcclxuXHRcdFx0bmFtZTogJ09wZW4gbm90ZSBzbWFydGVyJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLm9wZW5fbm90ZV9zbWFydGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnc3VnZ3VzdGVyX29wZW5fbm90ZScsXHJcblx0XHRcdG5hbWU6ICdPcGVuIG5vdGUnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4uc3VnZ3VzdGVyX29wZW5fbm90ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ29wZW5fcHJldl9ub3RlcycsXHJcblx0XHRcdG5hbWU6ICdPcGVuIHByZXYgbm90ZScsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGFpbi5vcGVuX3ByZXZfbm90ZXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdvcGVuX25leHRfbm90ZXMnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBuZXh0IG5vdGUnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4ub3Blbl9uZXh0X25vdGVzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnb3Blbl9ub3RlX2NoYWluJyxcclxuXHRcdFx0bmFtZTogJ09wZW4gY2hhaW4gb2YgY3VycmVudCBmaWxlJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLm9wZW5fbm90ZV9jaGFpbigpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2NsZWFyX2lubGlua3MnLFxyXG5cdFx0XHRuYW1lOiAnQ2xlYXIgaW5saW5rcyBvZiBjdXJyZW50IGZpbGUnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2xlYXJfaW5saW5rcygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ21vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcicsXHJcblx0XHRcdG5hbWU6ICdNb3ZlIGN1cnJlbnQgZmlsZSB0byBhbm90aGVyIGZvbGRlcicsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGFpbi5tb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAncmVwbGFjZV9ub3Rlc193aXRoX3JlZ3gnLFxyXG5cdFx0XHRuYW1lOiAnUmVwbGFjZSBieSByZWdleCcsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5yZXBsYWNlX25vdGVzX3dpdGhfcmVneCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBaaWdTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coJ1ppZy1Ib2xkaW5nOnJlZ2Vpc3RlciB1ZnVuY19vbl9maWxlX29wZW4nKTtcclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbignZmlsZS1vcGVuJywgdGhpcy51ZnVuY19vbl9maWxlX29wZW4pO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHRjb25zb2xlLmxvZygnWmlnLUhvbGRpbmc6dW5yZWdlaXN0ZXIgdWZ1bmNfb25fZmlsZV9vcGVuJyk7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub2ZmKCdmaWxlLW9wZW4nLCB0aGlzLnVmdW5jX29uX2ZpbGVfb3Blbik7XHJcblx0fVxyXG5cclxuXHRhc3luYyB1ZnVuY19vbl9maWxlX29wZW4oZmlsZSl7XHJcblx0XHRsZXQgemggPSBhd2FpdCBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJ6aWctaG9sZGluZ1wiKTtcclxuXHRcdGlmKCF6aCl7cmV0dXJuO31cclxuXHRcdGlmKHpoLnNldHRpbmdzLnJlZnJlc2hEYXRhVmlldyl7XHJcblx0XHRcdHpoLmFwcC5jb21tYW5kcy5leGVjdXRlQ29tbWFuZEJ5SWQoXHJcblx0XHRcdFx0XCJkYXRhdmlldzpkYXRhdmlldy1mb3JjZS1yZWZyZXNoLXZpZXdzXCJcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0aWYoemguc2V0dGluZ3MucmVmcmVzaFRhc2tzKXtcclxuXHRcdFx0bGV0IHRhcmdldCA9IGF3YWl0IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcIm9ic2lkaWFuLXRhc2tzLXBsdWdpblwiKTtcclxuXHRcdFx0dGFyZ2V0LmNhY2hlLm5vdGlmeVN1YnNjcmliZXJzKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNsZWFyX2lubGlua3ModGZpbGU9dGhpcy5jaGFpbi5jdXJyZW50X25vdGUsbW9kZT0nc3VnZ2VzdGVyJyl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aCl7XHJcblx0XHRcdGlmKG1vZGU9PT0nc3VnZ2VzdGVyJyl7XHJcblx0XHRcdFx0bW9kZSA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdFx0W1wiXHU1MjIwXHU5NjY0XHU5NEZFXHU2M0E1XCIsJ1x1NjZGRlx1NjM2Mlx1OTRGRVx1NjNBNScsXCJcdTUyMjBcdTk2NjRcdTZCQjVcdTg0M0RcIixdLFxyXG5cdFx0XHRcdFx0W1snbGluaycsJ2RlbCddLFsnbGluaycsJ3JlcCddLFsncGFyYScsJ2RlbCddXVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IHJlZyA9IHRoaXMuZWRpdG9yLnJlZ2V4cF9saW5rKHRmaWxlLG1vZGVbMF0pO1xyXG5cdFx0XHRpZihyZWcpe1xyXG5cdFx0XHRcdGZvcihsZXQgbm90ZSBvZiBub3Rlcyl7XHJcblx0XHRcdFx0XHRsZXQgdGFyZ2V0O1xyXG5cdFx0XHRcdFx0aWYobW9kZVsxXT09PSdyZXAnKXtcclxuXHRcdFx0XHRcdFx0dGFyZ2V0PXRmaWxlLmJhc2VuYW1lO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdHRhcmdldD0nJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5lZGl0b3IucmVwbGFjZShub3RlLHJlZyx0YXJnZXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0IHByb21wdCgpe1xyXG5cdFx0cmV0dXJuIGdldF90cF9mdW5jKHRoaXMuYXBwLCd0cC5zeXN0ZW0ucHJvbXB0Jyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyByZXBsYWNlX25vdGVzX3dpdGhfcmVneCgpe1xyXG5cdFx0bGV0IG5vdGVzID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXJfbm90ZXMoKTtcclxuXHRcdGlmKG5vdGVzPy5sZW5ndGg+MCl7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0bGV0IHJlZ3MgPSBhd2FpdCB0aGlzLnByb21wdCgnXHU4OTgxXHU2NkZGXHU2MzYyXHU3Njg0XHU2QjYzXHU1MjE5XHU4ODY4XHU4RkJFXHU1RjBGJyk7XHJcblx0XHRcdFx0aWYocmVncz09bnVsbCl7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCByZWcgPSBuZXcgUmVnRXhwKHJlZ3MsJ2cnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRsZXQgdGFyZ2V0ID0gYXdhaXQgdGhpcy5wcm9tcHQoJ1x1NzZFRVx1NjgwN1x1NUI1N1x1N0IyNlx1NEUzMicpO1xyXG5cdFx0XHRcdGlmKHRhcmdldD09bnVsbCl7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRhcmdldCA9IHRhcmdldC50cmltKCkucmVwbGFjZShcclxuXHRcdFx0XHRcdC9cXFxcbi9nLCdcXG4nXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZWdzLHJlZyx0YXJnZXQpO1xyXG5cdFx0XHRcdGZvcihsZXQgbm90ZSBvZiBub3Rlcyl7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5yZXBsYWNlKG5vdGUscmVnLHRhcmdldCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRnZXRfdGZpbGUocGF0aDpzdHJpbmcpe1xyXG5cdFx0Ly8gXHU2ODM5XHU2MzZFXHU4REVGXHU1Rjg0XHU4M0I3XHU1M0Q2IHRmaWxlXHVGRjBDXHU1OTI3XHU1QzBGXHU0RTBEXHU2NTRGXHU2MTFGXHJcblx0XHRsZXQgZmlsZXMgPSBhcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG5cdFx0aWYoZmlsZXMuaW5jbHVkZXMocGF0aCkpe1xyXG5cdFx0XHRyZXR1cm4gZmlsZXNbcGF0aF1cclxuXHRcdH1cclxuXHRcdGZvcihsZXQgZmlsZSBvZiBmaWxlcyl7XHJcblx0XHRcdGlmKGZpbGUubmFtZS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUocGF0aC50b0xvd2VyQ2FzZSgpKT09MCl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoZmlsZS5iYXNlbmFtZS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUocGF0aC50b0xvd2VyQ2FzZSgpKT09MCl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoYFtbJHtmaWxlLmJhc2VuYW1lLnRvTG93ZXJDYXNlKCl9XV1gLmxvY2FsZUNvbXBhcmUocGF0aC50b0xvd2VyQ2FzZSgpKT09MCl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Z2V0X3RmaWxlX2NvbmZpZyh0ZmlsZSxzdWZmaXg9XCJfY29uZmlnXCIpe1xyXG5cdFx0Ly8gXHU4M0I3XHU1M0Q2IHRmaWxlIFx1NUJGOVx1NUU5NFx1NzY4NCBjb25maWcgXHU2NTg3XHU0RUY2XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRfdGZpbGUodGZpbGUuYmFzZW5hbWUrc3VmZml4KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNlbGVjdF92YWx1ZV9vZl9saXN0KHRhcmdldHMscHJvbXB0PW51bGwpe1xyXG5cdFx0Y29uc3QgdGFyZ2V0ID0gYXdhaXQgdGhpcy5zdWdnZXN0ZXIoXHJcblx0XHRcdHRhcmdldHMsdGFyZ2V0cyxmYWxzZSxwcm9tcHRcclxuXHRcdCk7IFxyXG5cdFx0cmV0dXJuIHRhcmdldDtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlKCl7XHJcblxyXG5cdFx0bGV0IGN1cnIgPSB0aGlzLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoY3Vycj8ucGFyZW50LGZhbHNlKTtcclxuXHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlcyhub3RlcyxbJ210aW1lJywneCddKTtcclxuXHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbihub3Rlcyk7XHJcblx0XHRub3RlcyA9IG5vdGVzLmZpbHRlcihmPT5mIT1jdXJyKTtcclxuXHJcblx0XHRjb25zdCBub3RlID0gYXdhaXQgdGhpcy5zdWdnZXN0ZXIoXHJcblx0XHRcdChmaWxlKSA9PiB0aGlzLnRmaWxlX3RvX3N0cmluZyhcclxuXHRcdFx0XHRcdGZpbGUsXHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dMaW5rID8gW1wiUHJldk5vdGVcIixcIk5leHROb3RlXCJdIDpbXSxcclxuXHRcdFx0XHRcdFwiXFx0XFx0XFx0XHUyNkExICBcIlxyXG5cdFx0XHRcdCksIFxyXG5cdFx0XHRcdG5vdGVzXHJcblx0XHQpOyBcclxuXHRcdFxyXG5cdFx0aWYoIW5vdGUpe3JldHVybjt9XHJcblxyXG5cdFx0bGV0IG1vZGUgPSBhd2FpdCB0aGlzLnNlbGVjdF92YWx1ZV9vZl9saXN0KFtcclxuXHRcdFx0XCJpbnNlcnRfbm9kZV9hZnRlclwiLFxyXG5cdFx0XHRcImluc2VydF9ub2RlX2JlZm9yZVwiLFxyXG5cdFx0XHRcImluc2VydF9ub2RlX2FzX2hlYWRcIixcclxuXHRcdFx0XCJpbnNlcnRfbm9kZV9hc190YWlsXCIsXHJcblx0XHRdLHByb21wdD1cIlNlbGVjdCBOb2RlIEluc2VydCBNb2RlLlwiKTtcclxuXHRcdFxyXG5cdFx0aWYoIW1vZGUpe3JldHVybjt9XHJcblxyXG5cdFx0Y29uc29sZS5sb2codHlwZW9mKG1vZGUpLG1vZGUpO1xyXG5cdFx0aWYodGhpcy5zZXR0aW5ncy5wb3BGaXJzdCl7XHJcblx0XHRcdHRoaXMuY2hhaW4ucG9wX25vZGUoY3Vycik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYobW9kZT09PSdpbnNlcnRfbm9kZV9hc19oZWFkJyl7XHJcblx0XHRcdHRoaXMuY2hhaW4uaW5zZXJ0X25vZGVfYXNfaGVhZChjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdpbnNlcnRfbm9kZV9hc190YWlsJyl7XHJcblx0XHRcdHRoaXMuY2hhaW4uaW5zZXJ0X25vZGVfYXNfdGFpbChjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdpbnNlcnRfbm9kZV9iZWZvcmUnKXtcclxuXHRcdFx0dGhpcy5jaGFpbi5pbnNlcnRfbm9kZV9iZWZvcmUoY3Vycixub3RlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0naW5zZXJ0X25vZGVfYWZ0ZXInKXtcclxuXHRcdFx0dGhpcy5jaGFpbi5pbnNlcnRfbm9kZV9hZnRlcihjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZih0aGlzLnNldHRpbmdzLm9wZW5MaW5rKXtcclxuXHRcdFx0aWYobm90ZSl7XHJcblx0XHRcdFx0aWYodGhpcy5zZXR0aW5ncy5uZXdUYWIpe1xyXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSkub3BlbkZpbGUobm90ZSk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZi5vcGVuRmlsZShub3RlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCB9XHJcblx0XHQgfVxyXG5cdH1cclxuXHRcclxuXHR0ZmlsZV90b19zdHJpbmcodGZpbGUsZmllbGRzLHNlcSl7XHJcblx0XHRsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuXHRcdGxldCBpdGVtcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0aXRlbXMucHVzaCh0ZmlsZS5iYXNlbmFtZSlcclxuXHRcdGZvcihsZXQgZmllbGQgb2YgZmllbGRzKXtcclxuXHRcdFx0dHJ5e1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2gobWV0YS5mcm9udG1hdHRlcltmaWVsZF0pO1xyXG5cdFx0XHR9Y2F0Y2goZXJyb3Ipe1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2goXCItXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbXMuam9pbihzZXEpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb3Blbl9ub3RlX3NtYXJ0ZXIoKXtcclxuXHRcdGxldCBjdXJyID0gdGhpcy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRsZXQgbm90ZXMgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2dlc3Rlcl9ub3RlcyhjdXJyLGZhbHNlKTtcclxuXHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlcyhub3RlcyxbJ210aW1lJywneCddKTtcclxuXHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbihub3Rlcyk7XHJcblxyXG5cdFx0Y29uc3Qgbm90ZSA9IChcclxuXHRcdFx0YXdhaXQgdGhpcy5zdWdnZXN0ZXIoXHJcblx0XHRcdFx0KGZpbGUpID0+IGZpbGUucGF0aCwgXHJcblx0XHRcdFx0bm90ZXNcclxuXHRcdFx0KVxyXG5cdFx0KTsgXHJcblx0XHRcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW4ub3Blbl9ub3RlKG5vdGUpO1xyXG5cdH1cclxuXHJcblx0Z2V0IHN1Z2dlc3Rlcigpe1xyXG5cdFx0cmV0dXJuIGdldF90cF9mdW5jKHRoaXMuYXBwLFwidHAuc3lzdGVtLnN1Z2dlc3RlclwiKTtcclxuXHR9XHJcblx0XHJcblx0Z2V0X2ZpbGVfY2hhaW4oY3VycixwcmV2PTEwLG5leHQ9MTAsc2FtZUZvbGRlcj1mYWxzZSl7XHJcblxyXG5cdFx0aWYoY3Vycj09PW51bGwpe1xyXG5cdFx0XHRjdXJyID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdH1cclxuXHRcdGxldCByZXMgPSBBcnJheSgpO1xyXG5cdFx0cmVzLnB1c2goY3Vycik7XHJcblx0XHRcclxuXHRcdGxldCB0bXAgPSBjdXJyO1xyXG5cdFx0Zm9yKGxldCBpPXByZXY7aSE9MDtpLS0pe1xyXG5cdFx0XHRsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRtcCk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZighbWV0YSl7YnJlYWt9XHJcblx0XHJcblx0XHRcdGxldCBuYW1lID0gbWV0YS5mcm9udG1hdHRlcj8uUHJldk5vdGU7XHJcblx0XHRcdGlmKCFuYW1lKXticmVha31cclxuXHRcclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZShuYW1lKTtcclxuXHRcdFx0aWYoIW5vdGUgfCByZXMuaW5jbHVkZXMobm90ZSkpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXMudW5zaGlmdChub3RlKTtcclxuXHRcdFx0XHR0bXAgPSBub3RlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHJcblx0XHR0bXAgPSBjdXJyO1xyXG5cdFx0Zm9yKGxldCBpPW5leHQ7aSE9MDtpLS0pe1xyXG5cdFx0XHRsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRtcCk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZighbWV0YSl7YnJlYWt9XHJcblx0XHJcblx0XHRcdGxldCBuYW1lID0gbWV0YS5mcm9udG1hdHRlcj8uTmV4dE5vdGU7XHJcblx0XHRcdGlmKCFuYW1lKXticmVha31cclxuXHRcclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZShuYW1lKTtcclxuXHRcdFx0aWYoIW5vdGUgfCByZXMuaW5jbHVkZXMobm90ZSkpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXMucHVzaChub3RlKTtcclxuXHRcdFx0XHR0bXAgPSBub3RlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoc2FtZUZvbGRlcil7XHJcblx0XHRcdHJlcy5wdXNoKG51bGwpO1xyXG5cdFx0XHRsZXQgYWZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpXHJcblx0XHRcdGZvcihsZXQgZiBvZiBhZmlsZXMpe1xyXG5cdFx0XHRcdGlmKGYucGFyZW50ID09IGN1cnI/LnBhcmVudCl7XHJcblx0XHRcdFx0XHRpZighcmVzLmluY2x1ZGVzKGYpKXtcclxuXHRcdFx0XHRcdFx0cmVzLnB1c2goZik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJlcyA9IHJlcy5maWx0ZXIoXHJcblx0XHRcdFx0KGZpbGUpPT4oXHJcblx0XHRcdFx0XHQoZmlsZT09PW51bGwpIHwgKGZpbGU/LnBhdGguc3RhcnRzV2l0aChjdXJyLnBhcmVudC5wYXRoKSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdCk7IFxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9wZW5fbm90ZV9jaGFpbigpe1xyXG5cdFx0bGV0IGN1cnIgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cdFx0bGV0IGZpbGVzID0gdGhpcy5nZXRfZmlsZV9jaGFpbihcclxuXHRcdFx0Y3VycixcclxuXHRcdFx0TnVtYmVyKHRoaXMuc2V0dGluZ3MuUHJldkNoYWluKSxcclxuXHRcdFx0TnVtYmVyKHRoaXMuc2V0dGluZ3MuTmV4dENoYWluKSxcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5zYW1lRm9sZGVyLFxyXG5cdFx0KTtcclxuXHJcblx0XHRjb25zdCBub3RlID0gKFxyXG5cdFx0XHRhd2FpdCB0aGlzLnN1Z2dlc3RlcihcclxuXHRcdFx0XHQoZmlsZSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYoIWZpbGUpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJy0tLS0tXHVEODNEXHVEQ0MyLS0tLS0nO1xyXG5cdFx0XHRcdFx0fWVsc2UgaWYoZmlsZT09Y3Vycil7XHJcblx0XHRcdFx0XHRcdHJldHVybiBgXHVEODNDXHVERkUwICR7Y3Vyci5iYXNlbmFtZX1gO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmaWxlLnBhdGguc2xpY2UoY3Vyci5wYXJlbnQucGF0aC5sZW5ndGgrMSkuc2xpY2UoMCwtMylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCBcclxuXHRcdFx0XHRmaWxlc1xyXG5cdFx0XHQpXHJcblx0XHQpOyBcclxuXHRcdCBpZihub3RlKXtcclxuXHRcdFx0IGlmKHRoaXMuc2V0dGluZ3MubmV3VGFiKXtcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZShub3RlKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYub3BlbkZpbGUobm90ZSk7XHJcblx0XHRcdH1cclxuXHRcdCB9XHJcblx0fVxyXG5cclxufVxyXG5cclxuY2xhc3MgWmlnU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogWmlnSG9sZGluZztcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogWmlnSG9sZGluZykge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgxXCIsIHsgdGV4dDogXCJaaWcgSG9sZGluZ1wiIH0pO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIlN3aXRjaCBOb3RlXCIgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCduZXdUYWInKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU2NjJGXHU1NDI2XHU1NzI4XHU2NUIwXHU2ODA3XHU3QjdFXHU0RTJEXHU2MjUzXHU1RjAwXHU3QjE0XHU4QkIwPycpXHJcblx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm5ld1RhYilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5uZXdUYWIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnd2l0aFNlbGYnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU2NjJGXHU1NDI2XHU2NjNFXHU3OTNBXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwPycpXHJcblx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndpdGhTZWxmKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndpdGhTZWxmID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdFx0XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogXCJPcGVuIG5vdGUgaW4gc2FtZSBmb2xkZXJcIiB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ3JldmVyc2UnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU2NjJGXHU1NDI2XHU5MDA2XHU1NDExXHU2MzkyXHU1RThGPycpXHJcblx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJldmVyc2UpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmV2ZXJzZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdmaWVsZCcpXHJcblx0XHRcdC5zZXREZXNjKCdcdTdCMTRcdThCQjBcdTYzOTJcdTVFOEZcdTVCNTdcdTZCQjVcdUZGMUFtdGltZVx1RkYwQ1x1NEZFRVx1NjUzOVx1NjVGNlx1OTVGNFx1RkYxQmN0aW1lXHVGRjBDXHU1MjFCXHU1RUZBXHU2NUY2XHU5NUY0XHVGRjFCbmFtZSxcdTY1ODdcdTRFRjZcdTU0MERcdUZGMUJcdTYyMTZcdTUxNzZcdTVCODNcdTUxNDNcdTY1NzBcdTYzNkVcdTVCNTdcdTZCQjVcdTMwMDInKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGQpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHRcdFxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7IHRleHQ6IFwiT3BlbiBub3RlIGNoYWluXCIgfSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1ByZXZDaGFpbicpXHJcblx0XHRcdC5zZXREZXNjKCdcdTUyNERcdTdGNkVcdTdCMTRcdThCQjBcdTY1NzBcdTc2RUUnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLlByZXZDaGFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnTmV4dENoYWluJylcclxuXHRcdFx0LnNldERlc2MoJ1x1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMFx1NjU3MFx1NzZFRScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5OZXh0Q2hhaW4pXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdzYW1lRm9sZGVyJylcclxuXHRcdFx0XHQuc2V0RGVzYygnXHU0RUM1XHU2NjNFXHU3OTNBXHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU1OTM5XHU0RTJEXHU5NEZFXHU4REVGXHVGRjBDXHU1NDBDXHU2NUY2XHU1QzU1XHU3OTNBXHU0RTBEXHU1NzI4XHU5NEZFXHU4REVGXHU3Njg0XHU2NTg3XHU0RUY2JylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNhbWVGb2xkZXIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNhbWVGb2xkZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiTm90ZSBDaGFpblwiIH0pO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ3Nob3dMaW5rJylcclxuXHRcdFx0XHQuc2V0RGVzYygnXHU2NjJGXHU1NDI2XHU5MDA5XHU2MkU5XHU2NUY2XHU2NjNFXHU3OTNBXHU3QjE0XHU4QkIwXHU5NEZFXHU2M0E1JylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dMaW5rKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93TGluayA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgncG9wRmlyc3QnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdcdTYzRDJcdTUxNjVcdTUyNERcdTk0RkVcdTYzQTVcdTVGNTNcdTUyNERcdTdCMTRcdThCQjBcdTUyNERcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucG9wRmlyc3QpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnBvcEZpcnN0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdvcGVuTGluaycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1x1OTAwOVx1NjJFOVx1NTQwRVx1NjYyRlx1NTQyNlx1NjI1M1x1NUYwMFx1N0IxNFx1OEJCMCcpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuTGluaylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkxpbmsgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ2FsbEZpbGVzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnXHU2NjJGXHU1NDI2XHU0RUNFXHU2MjQwXHU2NzA5XHU3QjE0XHU4QkIwXHU0RTJEXHU5MDA5XHU2MkU5JylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbEZpbGVzKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxGaWxlcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHRcdFxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiXHU1MjFEXHU1OUNCXHU1MzE2XCIgfSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgncmVmcmVzaERhdGFWaWV3JylcclxuXHRcdFx0XHQuc2V0RGVzYygnXHU2MjUzXHU1RjAwXHU2NUIwXHU3QjE0XHU4QkIwXHU2NUY2XHU1MjM3XHU2NUIwRGF0YXZpZXdcdUZGMUYnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaERhdGFWaWV3KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgncmVmcmVzaFRhc2tzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnXHU2MjUzXHU1RjAwXHU2NUIwXHU3QjE0XHU4QkIwXHU2NUY2XHU1MjM3XHU2NUIwVGFza3NcdUZGMUYnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaFRhc2tzKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoVGFza3MgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFLTztBQWlCUCxJQUFNLG1CQUFnQztBQUFBLEVBQ3JDLFFBQVM7QUFBQSxFQUNULFVBQVc7QUFBQSxFQUNYLFNBQVU7QUFBQSxFQUNWLE9BQVE7QUFBQSxFQUNSLFdBQVk7QUFBQSxFQUNaLFdBQVk7QUFBQSxFQUNaLFVBQVc7QUFBQSxFQUNYLFVBQVc7QUFBQSxFQUNYLGlCQUFrQjtBQUFBLEVBQ2xCLGNBQWU7QUFDaEI7QUFFQSxTQUFTLFlBQVlBLE1BQVEsUUFBZTtBQUkzQyxNQUFJLFlBQVlBLEtBQUksUUFBUTtBQUFBLElBQzNCO0FBQUEsRUFDRDtBQUVBLE1BQUksUUFBUSxPQUFPLE1BQU0sR0FBRztBQUM1QixNQUFHLE1BQU0sQ0FBQyxFQUFFLGNBQWMsSUFBSSxLQUFHLEtBQUssTUFBTSxVQUFRLEdBQUU7QUFBQyxXQUFPO0FBQUEsRUFBVTtBQUV4RSxNQUFJLFVBQVUsVUFBVSxVQUFVLG9CQUNqQyxtQkFBbUIsY0FBYztBQUFBLElBQ2hDLENBQUMsU0FBUSxLQUFLLEtBQUssY0FBYyxNQUFNLENBQUMsQ0FBQyxLQUFHO0FBQUEsRUFDN0M7QUFFRCxNQUFHLFFBQVEsVUFBUSxHQUFFO0FBQUMsV0FBTztBQUFBLEVBQVM7QUFFdEMsU0FBTyxRQUFRLENBQUMsRUFBRSxpQkFBaUIsSUFBSSxNQUFNLENBQUMsQ0FBQztBQUNoRDtBQUlBLElBQU0sWUFBTixNQUFlO0FBQUEsRUFHZCxZQUFZQSxNQUFRO0FBQ25CLFNBQUssTUFBTUE7QUFBQSxFQUNaO0FBQUEsRUFFQSxZQUFZLE9BQVlDLE9BQVk7QUFFbkMsUUFBR0EsVUFBTyxRQUFPO0FBQ2hCLGFBQU8sSUFBSSxPQUFPLFNBQVMsTUFBTSx3QkFBdUIsR0FBRztBQUFBLElBQzVEO0FBR0EsUUFBR0EsVUFBTyxRQUFPO0FBQ2hCLGFBQU8sSUFBSSxPQUFPLFdBQVcsTUFBTSwwQkFBeUIsR0FBRztBQUFBLElBQ2hFO0FBQUEsRUFDRDtBQUFBLEVBRUEsUUFBUSxPQUFZLE9BQU0sUUFBYztBQUN2QyxRQUFHLE9BQU8sVUFBVSxVQUFTO0FBQzVCLFdBQUssSUFBSSxNQUFNLFFBQVEsT0FBTSxDQUFDLFNBQU87QUFDcEMsWUFBRyxLQUFLLFFBQVEsS0FBSyxJQUFFLElBQUc7QUFDekIsa0JBQVEsSUFBSSxhQUFZLE1BQU0sSUFBSTtBQUNsQyxpQkFBTyxLQUFLLFFBQVEsT0FBTyxNQUFNO0FBQUEsUUFDbEM7QUFDQSxlQUFPO0FBQUEsTUFDUixDQUFDO0FBQUEsSUFDRixXQUFTLGlCQUFpQixRQUFPO0FBQ2hDLFdBQUssSUFBSSxNQUFNLFFBQVEsT0FBTSxDQUFDLFNBQU87QUFDcEMsWUFBRyxLQUFLLE1BQU0sS0FBSyxHQUFFO0FBQ3BCLGtCQUFRLElBQUksYUFBWSxNQUFNLElBQUk7QUFDbEMsaUJBQU8sS0FBSyxRQUFRLE9BQU8sTUFBTTtBQUFBLFFBQ2xDO0FBQ0EsZUFBTztBQUFBLE1BQ1IsQ0FBQztBQUFBLElBQ0Y7QUFBQSxFQUNEO0FBQ0Q7QUFFQSxJQUFNLFlBQU4sTUFBZTtBQUFBLEVBTWQsWUFBWSxLQUFlLE9BQUssWUFBVyxPQUFLLFlBQVk7QUFDM0QsU0FBSyxNQUFNO0FBQ1gsU0FBSyxNQUFNLElBQUk7QUFDZixTQUFLLE9BQU87QUFDWixTQUFLLE9BQU87QUFFWixTQUFLLFNBQVMsS0FBSyxJQUFJLFFBQVE7QUFBQSxNQUM5QjtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQUEsRUFFQSxJQUFJLGFBQVk7QUFDZixXQUFPLFlBQVksS0FBSyxLQUFJLG9CQUFvQjtBQUFBLEVBRWpEO0FBQUEsRUFFQSxJQUFJLFlBQVc7QUFDZCxXQUFPLFlBQVksS0FBSyxLQUFJLHFCQUFxQjtBQUFBLEVBQ2xEO0FBQUEsRUFFQSxnQkFBZ0IsWUFBVSxJQUFHO0FBQzVCLFdBQU8sS0FBSyxJQUFJLE1BQU0sY0FBYztBQUFBLEVBQ3JDO0FBQUEsRUFFQSxzQkFBc0IsU0FBdUIsVUFBUSxNQUFLO0FBQ3pELGFBQVMsTUFBTSxHQUFVO0FBQ3hCLGFBQU8sS0FBSztBQUFBLFFBQ1gsR0FBRyxFQUFFLFNBQVMsT0FBTyxDQUFBQyxPQUFHQSxHQUFFLFFBQVEsRUFBRSxJQUFJLENBQUFBLE9BQUdBLEdBQUUsS0FDNUMsS0FBSztBQUFBLE1BQ1A7QUFBQSxJQUNEO0FBQ0EsUUFBSSxNQUFNLFFBQVEsS0FBSyxDQUFDLEdBQUUsTUFBSSxNQUFNLENBQUMsSUFBRSxNQUFNLENBQUMsQ0FBQztBQUMvQyxRQUFHLFNBQVE7QUFDVixZQUFNLElBQUksUUFBUTtBQUFBLElBQ25CO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sNEJBQTRCLFFBQU0sS0FBSyxjQUFhO0FBQ3pELFFBQUksVUFBVSxLQUFLLGdCQUFnQjtBQUNuQyxjQUFVLEtBQUs7QUFBQSxNQUFzQjtBQUFBLElBQ3JDLEVBQUUsT0FBTyxPQUFHLEtBQUcsTUFBTSxNQUFNO0FBRTNCLFFBQUcsTUFBTSxjQUFZLE1BQUs7QUFDekIsZ0JBQVUsUUFBUSxPQUFPLE9BQUcsS0FBSyxtQkFBbUIsQ0FBQyxDQUFDO0FBQUEsSUFDdkQ7QUFDQSxRQUFJO0FBQ0gsVUFBSSxTQUFTLE1BQU0sS0FBSyxVQUFVLENBQUMsTUFBSSxFQUFFLE1BQUssT0FBTztBQUVyRCxVQUFJLE1BQU0sT0FBTyxPQUFLLE1BQUksTUFBTSxXQUFTLE1BQUksTUFBTTtBQUNuRCxZQUFNLElBQUksWUFBWSxXQUFXLE9BQU0sR0FBRztBQUFBLElBQzNDLFNBQVMsT0FBUDtBQUFBLElBRUY7QUFBQSxFQUNEO0FBQUEsRUFFQSxtQkFBbUIsTUFBSztBQUN2QixRQUFHLEVBQUUsS0FBSyxJQUFJLE1BQU0sT0FBTyx5QkFBdUIsT0FBTTtBQUN2RCxVQUFHLEtBQUssS0FBSztBQUFBLFFBQ1osS0FBSyxJQUFJLE1BQU0sT0FBTztBQUFBLE1BQW9CLEdBQzFDO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBQ0EsUUFBRyxLQUFLLElBQUksTUFBTSxPQUFPLG1CQUFrQjtBQUMxQyxlQUFRLEtBQUssS0FBSyxJQUFJLE1BQU0sT0FBTyxtQkFBa0I7QUFDcEQsWUFBRyxLQUFLLEtBQUssV0FBVyxDQUFDLEdBQUU7QUFDMUIsaUJBQU87QUFBQSxRQUNSO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsTUFBTSxpQkFBZ0I7QUFDckIsUUFBSSxRQUFRLEtBQUs7QUFBQSxNQUNoQixLQUFLLElBQUksTUFBTSxTQUFTO0FBQUEsTUFDeEIsQ0FBQyxTQUFRLEdBQUc7QUFBQSxJQUNiLEVBQUUsT0FBTyxPQUFHLEtBQUssbUJBQW1CLENBQUMsQ0FBQztBQUN0QyxRQUFJO0FBQ0gsVUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLE9BQUcsRUFBRSxNQUFLLEtBQUs7QUFDL0MsYUFBTztBQUFBLElBQ1IsU0FBUyxPQUFQO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFVBQVUsT0FBWSxVQUFRLE9BQU07QUFDbkMsUUFBRyxPQUFNO0FBQ1IsVUFBRyxLQUFLLElBQUksVUFBVSxXQUFXLFVBQVUsU0FBUTtBQUNsRCxhQUFLLElBQUksVUFBVSxRQUFRLElBQUksRUFBRSxTQUFTLEtBQUs7QUFBQSxNQUNoRCxPQUFLO0FBQ0osYUFBSyxJQUFJLFVBQVUsV0FBVyxTQUFTLEtBQUs7QUFBQSxNQUM3QztBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLHNCQUFxQjtBQUMxQixRQUFJO0FBQ0gsVUFBSSxPQUFPLE1BQU0sS0FBSyxlQUFlO0FBQ3JDLGNBQVEsSUFBSSxJQUFJO0FBQ2hCLFdBQUssVUFBVSxJQUFJO0FBQUEsSUFDcEIsU0FBUyxPQUFQO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFBQSxFQUlBLFVBQVUsTUFBSztBQUNkLFFBQUksT0FBTyxLQUFLLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxRQUFRLE1BQUssRUFBRSxFQUFFLFFBQVEsTUFBSyxFQUFFO0FBQzlELFdBQU8sS0FBSyxXQUFXLElBQUk7QUFBQSxFQUM1QjtBQUFBLEVBRUEsSUFBSSxVQUFTO0FBQ1osV0FBTyxJQUFJLE1BQU0saUJBQWlCO0FBQUEsRUFDbkM7QUFBQSxFQUVBLElBQUksZUFBYztBQUNqQixXQUFPLEtBQUssSUFBSSxVQUFVLGNBQWM7QUFBQSxFQUN6QztBQUFBLEVBRUEsWUFBWSxRQUFNLEtBQUssY0FBYTtBQUNuQyxRQUFJLE1BQU0sSUFBSSxNQUFNO0FBRXBCLFFBQUksVUFBVSxLQUFLLE9BQU8sTUFBTSxNQUFNLE9BQU8sSUFBSSxNQUFNLElBQUk7QUFDM0QsUUFBRyxXQUFTLFFBQVU7QUFDckIsYUFBTyxDQUFDO0FBQUEsSUFDVCxPQUFLO0FBQ0osYUFBTyxNQUFNLEtBQUssT0FBTyxFQUFFO0FBQUEsUUFDMUIsQ0FBQyxTQUFRLEtBQUssSUFBSSxNQUFNLFFBQVEsSUFBSTtBQUFBLE1BQ3JDLEVBQUU7QUFBQSxRQUNELENBQUMsU0FBUTtBQUFBLE1BQ1Y7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsYUFBYSxRQUFNLEtBQUssY0FBYTtBQUNwQyxRQUFJLE1BQU0sSUFBSSxNQUFNO0FBQ3BCLFFBQUksVUFBVSxLQUFLLE9BQU8sTUFBTSxNQUFNLElBQUksSUFBSSxNQUFNLElBQUk7QUFDeEQsUUFBRyxXQUFTLFFBQVU7QUFDckIsYUFBTyxDQUFDO0FBQUEsSUFDVCxPQUFLO0FBQ0osYUFBTyxNQUFNLEtBQUssT0FBTyxFQUFFO0FBQUEsUUFDMUIsQ0FBQyxTQUFRLEtBQUssSUFBSSxNQUFNLFFBQVEsSUFBSTtBQUFBLE1BQ3JDLEVBQUU7QUFBQSxRQUNELENBQUMsU0FBUTtBQUFBLE1BQ1Y7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsVUFBVSxRQUFNLEtBQUssY0FBYTtBQUNqQyxRQUFJLFVBQVUsS0FBSyxZQUFZLEtBQUs7QUFDcEMsUUFBSSxXQUFXLEtBQUssYUFBYSxLQUFLO0FBQ3RDLGFBQVEsUUFBUSxTQUFRO0FBQ3ZCLFVBQUcsQ0FBQyxTQUFTLFNBQVMsSUFBSSxHQUFFO0FBQzNCLGlCQUFTLEtBQUssSUFBSTtBQUFBLE1BQ25CO0FBQUEsSUFDRDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxnQkFBZ0IsUUFBTSxLQUFLLGNBQWE7QUFDdkMsV0FBTyxLQUFLLHFCQUFxQiwrQkFBTyxRQUFPLEtBQUs7QUFBQSxFQUNyRDtBQUFBLEVBRUEscUJBQXFCLFNBQWdCLGdCQUFjLE1BQUs7QUFDdkQsUUFBRyxXQUFTLE1BQUs7QUFBQyxhQUFPLENBQUM7QUFBQSxJQUFFO0FBQzVCLFFBQUksUUFBUSxDQUFDO0FBQ2IsYUFBUSxLQUFLLFFBQVEsVUFBUztBQUM3QixVQUFHLEVBQUUsWUFBWSxFQUFFLGNBQVksTUFBSztBQUNuQyxjQUFNLEtBQUssQ0FBQztBQUFBLE1BQ2IsV0FBUyxFQUFFLFlBQVksZUFBYztBQUNwQyxZQUFJLE1BQU0sS0FBSyxxQkFBcUIsQ0FBQztBQUNyQyxpQkFBUSxLQUFLLEtBQUk7QUFDaEIsZ0JBQU0sS0FBSyxDQUFDO0FBQUEsUUFDYjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBRVI7QUFBQSxFQUVBLFdBQVcsTUFBSztBQUNmLFFBQUksT0FBTyxDQUFDLEVBQUUsTUFBTSxLQUFLLFNBQVMsRUFBRSxNQUFNLENBQUM7QUFDM0MsUUFBSSxTQUFTLENBQUM7QUFDZCxRQUFHLEtBQUssVUFBUSxHQUFFO0FBQ2pCLGVBQVMsS0FBSyxDQUFDO0FBQUEsSUFDaEI7QUFDQSxRQUFJLE1BQU0sT0FBTyxLQUFLO0FBRXRCLFFBQUcsT0FBSyxNQUFLO0FBQ1osYUFBTyxHQUFHLFVBQVU7QUFBQSxJQUNyQjtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxZQUFZLE9BQTBCO0FBQ3JDLFFBQUksT0FBTyxDQUFDLEVBQUUsTUFBTSxLQUFLLFNBQVMsRUFBRSxNQUFNLENBQUM7QUFDM0MsUUFBSSxTQUFTLENBQUM7QUFDZCxRQUFHLEtBQUssVUFBUSxHQUFFO0FBQ2pCLGVBQVMsS0FBSyxDQUFDO0FBQUEsSUFDaEI7QUFFQSxRQUFJLE1BQU0sQ0FBQztBQUNYLFFBQUksSUFBSTtBQUNSLFdBQU0sSUFBRSxNQUFNLFFBQU87QUFDcEIsVUFBRyxPQUFPLEtBQUssR0FBRTtBQUNoQixZQUFJLEtBQUssS0FBSyxXQUFXLE1BQU0sQ0FBQyxHQUFFLEVBQUMsT0FBTSxJQUFFLEVBQUMsQ0FBQyxDQUFDO0FBQUEsTUFDL0MsT0FBSztBQUNKLFlBQUksS0FBSyxLQUFLLFdBQVcsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUFBLE1BQ25DO0FBRUE7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sZ0JBQWdCLFFBQU0sS0FBSyxjQUFhLGFBQVcsTUFBSyxRQUFNLElBQUc7QUFDdEUsUUFBSSxLQUFLO0FBQUEsTUFDUjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNEO0FBQ0EsUUFBRyxZQUFXO0FBQ2IsU0FBRyxRQUFRLDBCQUFNO0FBQUEsSUFDbEIsT0FBSztBQUNKLFNBQUcsS0FBSywwQkFBTTtBQUFBLElBQ2Y7QUFDQSxRQUFJRCxRQUFPO0FBQ1gsUUFBRyxHQUFHLFNBQVMsS0FBSyxHQUFFO0FBQ3JCLE1BQUFBLFFBQU87QUFBQSxJQUNSLE9BQUs7QUFDSixNQUFBQSxRQUFPLE1BQU0sS0FBSyxVQUFVLElBQUcsRUFBRTtBQUFBLElBQ2xDO0FBQ0EsUUFBR0EsVUFBTyw0QkFBTztBQUNoQixhQUFPLENBQUMsS0FBSztBQUFBLElBQ2QsV0FBU0EsVUFBTyw0QkFBTztBQUN0QixhQUFPLEtBQUssZ0JBQWdCLEtBQUs7QUFBQSxJQUNsQyxXQUFTQSxVQUFPLCtDQUFXO0FBQzFCLGFBQU8sS0FBSyxxQkFBcUIsK0JBQU8sUUFBTyxJQUFJO0FBQUEsSUFDcEQsV0FBU0EsVUFBTyw2QkFBUTtBQUN2QixhQUFPLEtBQUssVUFBVSxLQUFLO0FBQUEsSUFDNUIsV0FBU0EsVUFBTyxnQkFBSztBQUNwQixhQUFPLEtBQUssWUFBWSxLQUFLO0FBQUEsSUFDOUIsV0FBU0EsVUFBTyxnQkFBSztBQUNwQixhQUFPLEtBQUssYUFBYSxLQUFLO0FBQUEsSUFDL0IsV0FBU0EsVUFBTyw0QkFBTztBQUN0QixhQUFPLEtBQUs7QUFBQSxJQUNiLFdBQVNBLFVBQU8seUJBQXdCO0FBQ3ZDLFVBQUksSUFBSSxLQUFLLElBQUksUUFBUSxVQUFVLHVCQUF1QjtBQUMxRCxVQUFHLENBQUMsR0FBRTtBQUFDLGVBQU8sQ0FBQztBQUFBLE1BQUU7QUFDakIsYUFBTyxPQUFPO0FBQUEsUUFDYixFQUFFLEtBQUs7QUFBQSxNQUFXLEVBQUU7QUFBQSxRQUFJLE9BQUcsS0FBSyxJQUFJLE1BQU0sUUFBUSxFQUFFLElBQUk7QUFBQSxNQUN6RCxFQUFFLE9BQU8sT0FBRyxDQUFDO0FBQUEsSUFDZCxXQUFTQSxVQUFPLDRCQUFPO0FBQ3RCLGFBQU8sS0FBSztBQUFBLFFBQ1g7QUFBQSxRQUNBLE9BQU8sS0FBSyxJQUFJLFNBQVMsU0FBUztBQUFBLFFBQ2xDLE9BQU8sS0FBSyxJQUFJLFNBQVMsU0FBUztBQUFBLE1BQ25DO0FBQUEsSUFDRCxPQUFLO0FBQ0osYUFBTyxDQUFDO0FBQUEsSUFDVDtBQUFBLEVBQ0Q7QUFBQTtBQUFBLEVBSUEsZUFBZSxRQUFNLEtBQUssY0FBYSxPQUFLLElBQUcsT0FBSyxJQUFHLFlBQVUsTUFBSztBQUNyRSxRQUFJLE1BQU0sSUFBSSxNQUFNO0FBQ3BCLFFBQUcsV0FBVTtBQUNaLFVBQUksS0FBSyxLQUFLO0FBQUEsSUFDZjtBQUVBLFFBQUksTUFBTTtBQUNWLGFBQVEsSUFBRSxNQUFLLEtBQUcsR0FBRSxLQUFJO0FBQ3ZCLFVBQUksT0FBTyxLQUFLLGdCQUFnQixLQUFJLEtBQUssSUFBSTtBQUM3QyxVQUFHLENBQUMsTUFBSztBQUFDO0FBQUEsTUFBSztBQUVmLFVBQUksT0FBTyxLQUFLLFVBQVUsSUFBSTtBQUM5QixVQUFHLENBQUMsTUFBSztBQUNSO0FBQUEsTUFDRCxXQUFTLElBQUksU0FBUyxJQUFJLEdBQUU7QUFFM0IsYUFBSyxnQkFBZ0IsTUFBSyxLQUFLLE1BQUssRUFBRTtBQUN0QyxhQUFLLGdCQUFnQixLQUFJLEtBQUssTUFBSyxFQUFFO0FBQ3JDO0FBQUEsTUFDRCxPQUFLO0FBQ0osWUFBSSxRQUFRLElBQUk7QUFDaEIsY0FBTTtBQUFBLE1BQ1A7QUFBQSxJQUNEO0FBRUEsVUFBTTtBQUNOLGFBQVEsSUFBRSxNQUFLLEtBQUcsR0FBRSxLQUFJO0FBQ3ZCLFVBQUksT0FBTyxLQUFLLGdCQUFnQixLQUFJLEtBQUssSUFBSTtBQUM3QyxVQUFHLENBQUMsTUFBSztBQUFDO0FBQUEsTUFBSztBQUVmLFVBQUksT0FBTyxLQUFLLFVBQVUsSUFBSTtBQUM5QixVQUFHLENBQUMsTUFBSztBQUNSO0FBQUEsTUFDRCxXQUFTLElBQUksU0FBUyxJQUFJLEdBQUU7QUFFM0IsYUFBSyxnQkFBZ0IsTUFBSyxLQUFLLE1BQUssRUFBRTtBQUN0QyxhQUFLLGdCQUFnQixLQUFJLEtBQUssTUFBSyxFQUFFO0FBQ3JDO0FBQUEsTUFDRCxPQUFLO0FBQ0osWUFBSSxLQUFLLElBQUk7QUFDYixjQUFNO0FBQUEsTUFDUDtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsZUFBZSxRQUFNLEtBQUssY0FBYTtBQUN0QyxRQUFJLFFBQVEsS0FBSyxlQUFlLE9BQU0sSUFBRyxHQUFFLEtBQUs7QUFDaEQsUUFBRyxNQUFNLFNBQU8sR0FBRTtBQUNqQixhQUFPLE1BQU0sQ0FBQztBQUFBLElBQ2YsT0FBSztBQUNKLGFBQU87QUFBQSxJQUNSO0FBQUEsRUFDRDtBQUFBLEVBRUEsY0FBYyxRQUFNLEtBQUssY0FBYTtBQUNyQyxRQUFJLFFBQVEsS0FBSyxlQUFlLE9BQU0sR0FBRSxJQUFHLEtBQUs7QUFDaEQsUUFBRyxNQUFNLFNBQU8sR0FBRTtBQUNqQixhQUFPLE1BQU0sTUFBTSxTQUFPLENBQUM7QUFBQSxJQUM1QixPQUFLO0FBQ0osYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxjQUFjLFFBQU0sS0FBSyxjQUFhO0FBQ3JDLFFBQUksUUFBUSxLQUFLLGVBQWUsT0FBTSxHQUFFLEdBQUUsS0FBSztBQUMvQyxRQUFHLE1BQU0sU0FBTyxHQUFFO0FBQ2pCLGFBQU8sTUFBTSxDQUFDO0FBQUEsSUFDZixPQUFLO0FBQ0osYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFQSxjQUFjLFFBQU0sS0FBSyxjQUFhO0FBQ3JDLFFBQUksUUFBUSxLQUFLLGVBQWUsT0FBTSxHQUFFLEdBQUUsS0FBSztBQUMvQyxRQUFHLE1BQU0sU0FBTyxHQUFFO0FBQ2pCLGFBQU8sTUFBTSxNQUFNLFNBQU8sQ0FBQztBQUFBLElBQzVCLE9BQUs7QUFDSixhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLGdCQUFnQixRQUFNLEtBQUssY0FBYTtBQUN2QyxRQUFJLE9BQU8sS0FBSyxjQUFjLEtBQUs7QUFDbkMsU0FBSyxVQUFVLElBQUk7QUFBQSxFQUNwQjtBQUFBLEVBRUEsZ0JBQWdCLFFBQU0sS0FBSyxjQUFhO0FBQ3ZDLFFBQUksT0FBTyxLQUFLLGNBQWMsS0FBSztBQUNuQyxTQUFLLFVBQVUsSUFBSTtBQUFBLEVBQ3BCO0FBQUEsRUFFQSxjQUFjLFFBQU0sS0FBSyxjQUFhO0FBQ3JDLFdBQU87QUFBQSxNQUNOLEtBQUssY0FBYyxLQUFLO0FBQUEsTUFDeEIsS0FBSyxjQUFjLEtBQUs7QUFBQSxJQUN6QjtBQUFBLEVBQ0Q7QUFBQSxFQUdBLE1BQU0sZ0JBQWdCLE9BQVksS0FBVyxPQUFhO0FBQ3pELFVBQU0sS0FBSyxJQUFJLFlBQVksbUJBQW1CLE9BQU0sUUFBSztBQUN4RCxjQUFRLElBQUksR0FBRyxNQUFNLGNBQWMsU0FBUyxPQUFPO0FBQ25ELFNBQUcsR0FBRyxJQUFJO0FBQUEsSUFDWCxDQUFDO0FBQUEsRUFDRjtBQUFBLEVBRUEsZ0JBQWdCLE9BQVksS0FBVztBQUN0QyxRQUFJLE9BQU8sS0FBSyxJQUFJLGNBQWMsYUFBYSxLQUFLO0FBQ3BELFFBQUcsNkJBQU0sYUFBWTtBQUNwQixhQUFPLEtBQUssWUFBWSxHQUFHO0FBQUEsSUFDNUI7QUFBQSxFQUNEO0FBQUEsRUFFQSxTQUFTLE9BQU07QUFFZCxRQUFJLFdBQVcsS0FBSyxjQUFjLEtBQUs7QUFDdkMsUUFBRyxTQUFTLENBQUMsS0FBRyxRQUFRLFNBQVMsQ0FBQyxLQUFHLE1BQUs7QUFDekMsV0FBSyxnQkFBZ0IsU0FBUyxDQUFDLEdBQUUsS0FBSyxNQUFLLEtBQUssU0FBUyxDQUFDLEVBQUUsWUFBWTtBQUN4RSxXQUFLLGdCQUFnQixTQUFTLENBQUMsR0FBRSxLQUFLLE1BQUssS0FBSyxTQUFTLENBQUMsRUFBRSxZQUFZO0FBQUEsSUFDekUsV0FBUyxTQUFTLENBQUMsS0FBRyxNQUFLO0FBQzFCLFdBQUssZ0JBQWdCLFNBQVMsQ0FBQyxHQUFFLEtBQUssTUFBSyxFQUFFO0FBQUEsSUFDOUMsV0FBUyxTQUFTLENBQUMsS0FBRyxNQUFLO0FBQzFCLFdBQUssZ0JBQWdCLFNBQVMsQ0FBQyxHQUFFLEtBQUssTUFBSyxFQUFFO0FBQUEsSUFDOUM7QUFBQSxFQUNEO0FBQUEsRUFFQSxvQkFBb0IsT0FBTSxRQUFPO0FBRWhDLFFBQUcsUUFBTSxPQUFNO0FBQ2Q7QUFBQSxJQUNEO0FBQ0EsUUFBSSxPQUFPLEtBQUssZUFBZSxNQUFNO0FBQ3JDLFNBQUssZ0JBQWdCLE9BQU0sS0FBSyxNQUFLLEtBQUssS0FBSyxZQUFZO0FBQzNELFNBQUssZ0JBQWdCLE1BQUssS0FBSyxNQUFLLEtBQUssTUFBTSxZQUFZO0FBQUEsRUFDNUQ7QUFBQSxFQUVBLG9CQUFvQixPQUFNLFFBQU87QUFFaEMsUUFBSSxPQUFPLEtBQUssY0FBYyxNQUFNO0FBQ3BDLFFBQUcsU0FBTyxNQUFLO0FBQ2Q7QUFBQSxJQUNEO0FBQ0EsU0FBSyxnQkFBZ0IsT0FBTSxLQUFLLE1BQUssS0FBSyxLQUFLLFlBQVk7QUFDM0QsU0FBSyxnQkFBZ0IsTUFBSyxLQUFLLE1BQUssS0FBSyxNQUFNLFlBQVk7QUFBQSxFQUM1RDtBQUFBLEVBRUEsa0JBQWtCLE9BQU0sUUFBTztBQUM5QixRQUFJLE9BQU8sS0FBSyxjQUFjLFFBQU8sS0FBSyxNQUFLLEtBQUssTUFBSyxJQUFJO0FBQzdELFFBQUcsS0FBSyxDQUFDLEtBQUssS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFHLFNBQVMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFHLFFBQU87QUFDckQsV0FBSyxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFFLEtBQUssTUFBSyxLQUFLLE1BQU0sWUFBWTtBQUNqRSxXQUFLLGdCQUFnQixPQUFNLEtBQUssTUFBSyxLQUFLLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxZQUFZO0FBQUEsSUFDbEU7QUFFQSxTQUFLLGdCQUFnQixPQUFNLEtBQUssTUFBSyxLQUFLLE9BQU8sWUFBWTtBQUM3RCxTQUFLLGdCQUFnQixRQUFPLEtBQUssTUFBSyxLQUFLLE1BQU0sWUFBWTtBQUFBLEVBQzlEO0FBQUEsRUFFQSxtQkFBbUIsT0FBTSxRQUFPO0FBQy9CLFFBQUksT0FBTyxLQUFLLGNBQWMsUUFBTyxLQUFLLE1BQUssS0FBSyxNQUFLLElBQUk7QUFDN0QsUUFBRyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUcsU0FBUyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUcsUUFBTztBQUNyRCxXQUFLLGdCQUFnQixLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUUsS0FBSyxNQUFLLEtBQUssTUFBTSxZQUFZO0FBQ2pFLFdBQUssZ0JBQWdCLE9BQU0sS0FBSyxNQUFLLEtBQUssS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFlBQVk7QUFBQSxJQUNsRTtBQUVBLFNBQUssZ0JBQWdCLE9BQU0sS0FBSyxNQUFLLEtBQUssT0FBTyxZQUFZO0FBQzdELFNBQUssZ0JBQWdCLFFBQU8sS0FBSyxNQUFLLEtBQUssTUFBTSxZQUFZO0FBQUEsRUFDOUQ7QUFBQSxFQUVBLE1BQU0sZUFBZSxVQUFRLE1BQUtBLFFBQUssYUFBWTtBQUNsRCxRQUFJLFFBQVEsS0FBSyxnQkFBZ0I7QUFDakMsUUFBSSxRQUFRLE1BQU0sS0FBSyxlQUFlLEtBQUs7QUFFM0MsYUFBUSxJQUFFLEdBQUUsSUFBRSxNQUFNLFNBQU8sR0FBRSxLQUFJO0FBQ2hDLFVBQUcsRUFBRSxLQUFLLGdCQUFnQixNQUFNLENBQUMsR0FBRSxLQUFLLElBQUksTUFBSSxLQUFLLE1BQU0sSUFBRSxDQUFDLEVBQUUsZUFBYztBQUM3RSxhQUFLLGdCQUFnQixNQUFNLENBQUMsR0FBRSxLQUFLLE1BQUssS0FBSyxNQUFNLElBQUUsQ0FBQyxFQUFFLFlBQVk7QUFBQSxNQUNyRTtBQUNBLFVBQUcsRUFBRSxLQUFLLGdCQUFnQixNQUFNLElBQUUsQ0FBQyxHQUFFLEtBQUssSUFBSSxNQUFJLEtBQUssTUFBTSxDQUFDLEVBQUUsZUFBYztBQUM3RSxhQUFLLGdCQUFnQixNQUFNLElBQUUsQ0FBQyxHQUFFLEtBQUssTUFBSyxLQUFLLE1BQU0sQ0FBQyxFQUFFLFlBQVk7QUFBQSxNQUNyRTtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQUEsRUFFQSxZQUFZLE9BQW1CLE9BQU07QUFDcEMsUUFBRyxPQUFPLFVBQVUsVUFBUztBQUM1QixVQUFHLFVBQVEsUUFBTztBQUNqQixlQUFPLE1BQU07QUFBQSxVQUNaLENBQUMsR0FBRSxNQUFLLEVBQUUsS0FBSyxjQUFjLEVBQUUsSUFBSTtBQUFBLFFBQ3BDO0FBQUEsTUFDRCxXQUFTLFVBQVEsU0FBUTtBQUN4QixlQUFPLE1BQU07QUFBQSxVQUNaLENBQUMsR0FBRSxNQUFLLEVBQUUsS0FBSyxRQUFNLEVBQUUsS0FBSztBQUFBLFFBQzdCO0FBQUEsTUFDRCxXQUFTLFVBQVEsU0FBUTtBQUN4QixlQUFPLE1BQU07QUFBQSxVQUNaLENBQUMsR0FBRSxNQUFLLEVBQUUsS0FBSyxRQUFNLEVBQUUsS0FBSztBQUFBLFFBQzdCO0FBQUEsTUFDRCxXQUNRLFVBQVEsU0FBUTtBQUN2QixlQUFPLEtBQUsscUJBQXFCLEtBQUs7QUFBQSxNQUN2QztBQUNBLGFBQU87QUFBQSxJQUNSLFdBQVMsT0FBTyxVQUFVLFVBQVM7QUFDbEMsVUFBRyxpQkFBaUIsT0FBTTtBQUN6QixZQUFJLFNBQVMsS0FBSyxZQUFZLE9BQU0sTUFBTSxDQUFDLENBQUM7QUFDNUMsWUFBRyxNQUFNLFVBQVEsR0FBRTtBQUNsQixjQUFHLE1BQU0sQ0FBQyxNQUFJLEtBQUk7QUFDakIsbUJBQU8sT0FBTyxRQUFRO0FBQUEsVUFDdkI7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLHFCQUFxQixRQUFvQjtBQUN4QyxRQUFJLFFBQVEsT0FBTyxJQUFJLE9BQUcsQ0FBQztBQUMzQixRQUFJLE1BQU0sQ0FBQztBQUNYLFdBQU0sTUFBTSxTQUFPLEdBQUU7QUFDcEIsVUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixVQUFJLE1BQU0sQ0FBQztBQUNYLFVBQUksU0FBUyxLQUFLLGVBQWUsTUFBSyxJQUFHLEVBQUU7QUFDM0MsZUFBUSxLQUFLLFFBQU87QUFDbkIsWUFBRyxNQUFNLFNBQVMsQ0FBQyxHQUFFO0FBQ3BCLGNBQUksS0FBSyxDQUFDO0FBQ1YsZ0JBQU0sT0FBTyxDQUFDO0FBQUEsUUFDZjtBQUFBLE1BQ0Q7QUFDQSxVQUFJLEtBQUssR0FBRztBQUFBLElBQ2I7QUFDQSxVQUFNLElBQUksS0FBSyxDQUFDLEdBQUUsTUFBSSxFQUFFLFNBQU8sRUFBRSxNQUFNO0FBQ3ZDLFFBQUksT0FBTyxDQUFDO0FBQ1osYUFBUSxLQUFLLEtBQUk7QUFDaEIsZUFBUSxLQUFLLEdBQUU7QUFDZCxhQUFLLEtBQUssQ0FBQztBQUFBLE1BQ1o7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLHFCQUFxQixPQUFNLE9BQU07QUFDaEMsUUFBSSxNQUFNLE1BQU07QUFBQSxNQUNmLENBQUMsR0FBRSxNQUFJO0FBQ04sWUFBSSxRQUFRLEtBQUssSUFBSSxjQUFjLGFBQWEsQ0FBQyxFQUFFO0FBQ25ELFlBQUksUUFBUSxLQUFLLElBQUksY0FBYyxhQUFhLENBQUMsRUFBRTtBQUNuRCxZQUFHLENBQUMsU0FBUyxDQUFDLE9BQU07QUFDbkIsaUJBQU87QUFBQSxRQUNSLFdBQVMsQ0FBQyxPQUFNO0FBQ2YsaUJBQU8sTUFBTSxLQUFLO0FBQUEsUUFDbkIsV0FBUyxDQUFDLE9BQU07QUFDZixpQkFBTyxNQUFNLElBQUk7QUFBQSxRQUNsQixPQUFLO0FBQ0osaUJBQU8sTUFBTSxLQUFLLElBQUUsTUFBTSxLQUFLO0FBQUEsUUFDaEM7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLGVBQWUsUUFBTztBQUMzQixRQUFHLENBQUMsUUFBTztBQUFDLGFBQU8sQ0FBQztBQUFBLElBQUU7QUFDdEIsUUFBRyxPQUFPLFVBQVEsR0FBRTtBQUFDLGFBQU8sQ0FBQztBQUFBLElBQUM7QUFBQztBQUMvQixRQUFJLEtBQUs7QUFBQSxNQUNSLFFBQU87QUFBQSxNQUNQLFNBQVE7QUFBQSxNQUNSLFNBQVE7QUFBQSxNQUNSLHFCQUFVLENBQUMsUUFBTyxHQUFHO0FBQUEsTUFDckIsc0JBQVcsQ0FBQyxTQUFRLEdBQUc7QUFBQSxNQUN2QixzQkFBVyxDQUFDLFNBQVEsR0FBRztBQUFBLElBQ3hCO0FBQ0EsUUFBSSxRQUFRLE1BQU0sS0FBSztBQUFBLE1BQ3RCLE9BQU8sS0FBSyxFQUFFO0FBQUEsTUFDZCxPQUFPLE9BQU8sRUFBRTtBQUFBLElBQ2pCO0FBQ0EsV0FBTyxLQUFLLFlBQVksUUFBTyxLQUFLO0FBQUEsRUFDckM7QUFFRDtBQUVBLElBQXFCLGFBQXJCLGNBQXdDLHVCQUFPO0FBQUEsRUFLOUMsTUFBTSxTQUFTO0FBRWQsU0FBSyxRQUFRLElBQUksVUFBVSxJQUFJO0FBRS9CLFNBQUssU0FBUyxJQUFJLFVBQVUsS0FBSyxHQUFHO0FBQ3BDLFNBQUssSUFBSSxNQUFNO0FBR2YsVUFBTSxLQUFLLGFBQWE7QUFFeEIsU0FBSyxXQUFXLE1BQU0sS0FBSyxJQUFJLFFBQVE7QUFBQSxNQUN0QztBQUFBLElBQ0Q7QUFFQSxTQUFLLFlBQVksTUFBTSxLQUFLLElBQUksUUFBUTtBQUFBLE1BQ3ZDO0FBQUEsSUFDRDtBQUVBLFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxrQkFBa0I7QUFBQSxNQUN4QjtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxNQUFNLGVBQWU7QUFBQSxNQUMzQjtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxrQkFBa0I7QUFBQSxNQUN4QjtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxNQUFNLG9CQUFvQjtBQUFBLE1BQ2hDO0FBQUEsSUFDRCxDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDZixhQUFLLE1BQU0sZ0JBQWdCO0FBQUEsTUFDNUI7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLGFBQUssTUFBTSxnQkFBZ0I7QUFBQSxNQUM1QjtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxnQkFBZ0I7QUFBQSxNQUN0QjtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxjQUFjO0FBQUEsTUFDcEI7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLGFBQUssTUFBTSw0QkFBNEI7QUFBQSxNQUN4QztBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyx3QkFBd0I7QUFBQSxNQUM5QjtBQUFBLElBQ0QsQ0FBQztBQUdELFNBQUssY0FBYyxJQUFJLGNBQWMsS0FBSyxLQUFLLElBQUksQ0FBQztBQUVwRCxZQUFRLElBQUksMENBQTBDO0FBQ3RELFNBQUssSUFBSSxVQUFVLEdBQUcsYUFBYSxLQUFLLGtCQUFrQjtBQUFBLEVBQzNEO0FBQUEsRUFFQSxXQUFXO0FBQ1YsWUFBUSxJQUFJLDRDQUE0QztBQUN4RCxTQUFLLElBQUksVUFBVSxJQUFJLGFBQWEsS0FBSyxrQkFBa0I7QUFBQSxFQUM1RDtBQUFBLEVBRUEsTUFBTSxtQkFBbUIsTUFBSztBQUM3QixRQUFJLEtBQUssTUFBTSxJQUFJLFFBQVEsVUFBVSxhQUFhO0FBQ2xELFFBQUcsQ0FBQyxJQUFHO0FBQUM7QUFBQSxJQUFPO0FBQ2YsUUFBRyxHQUFHLFNBQVMsaUJBQWdCO0FBQzlCLFNBQUcsSUFBSSxTQUFTO0FBQUEsUUFDZjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQ0EsUUFBRyxHQUFHLFNBQVMsY0FBYTtBQUMzQixVQUFJLFNBQVMsTUFBTSxJQUFJLFFBQVEsVUFBVSx1QkFBdUI7QUFDaEUsYUFBTyxNQUFNLGtCQUFrQjtBQUFBLElBQ2hDO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNsQztBQUFBLEVBRUEsTUFBTSxjQUFjLFFBQU0sS0FBSyxNQUFNLGNBQWFBLFFBQUssYUFBWTtBQUNsRSxRQUFJLFFBQVEsS0FBSyxNQUFNLFlBQVksS0FBSztBQUN4QyxRQUFHLE1BQU0sUUFBTztBQUNmLFVBQUdBLFVBQU8sYUFBWTtBQUNyQixRQUFBQSxRQUFPLE1BQU0sS0FBSztBQUFBLFVBQ2pCLENBQUMsNEJBQU8sNEJBQU8sMEJBQU87QUFBQSxVQUN0QixDQUFDLENBQUMsUUFBTyxLQUFLLEdBQUUsQ0FBQyxRQUFPLEtBQUssR0FBRSxDQUFDLFFBQU8sS0FBSyxDQUFDO0FBQUEsUUFDOUM7QUFBQSxNQUNEO0FBQ0EsVUFBSSxNQUFNLEtBQUssT0FBTyxZQUFZLE9BQU1BLE1BQUssQ0FBQyxDQUFDO0FBQy9DLFVBQUcsS0FBSTtBQUNOLGlCQUFRLFFBQVEsT0FBTTtBQUNyQixjQUFJO0FBQ0osY0FBR0EsTUFBSyxDQUFDLE1BQUksT0FBTTtBQUNsQixxQkFBTyxNQUFNO0FBQUEsVUFDZCxPQUFLO0FBQ0oscUJBQU87QUFBQSxVQUNSO0FBQ0EsZUFBSyxPQUFPLFFBQVEsTUFBSyxLQUFJLE1BQU07QUFBQSxRQUNwQztBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsSUFBSSxTQUFRO0FBQ1gsV0FBTyxZQUFZLEtBQUssS0FBSSxrQkFBa0I7QUFBQSxFQUMvQztBQUFBLEVBRUEsTUFBTSwwQkFBeUI7QUFDOUIsUUFBSSxRQUFRLE1BQU0sS0FBSyxNQUFNLGdCQUFnQjtBQUM3QyxTQUFHLCtCQUFPLFVBQU8sR0FBRTtBQUNsQixVQUFJO0FBQ0gsWUFBSSxPQUFPLE1BQU0sS0FBSyxPQUFPLHdEQUFXO0FBQ3hDLFlBQUcsUUFBTSxNQUFLO0FBQ2I7QUFBQSxRQUNEO0FBQ0EsWUFBSSxNQUFNLElBQUksT0FBTyxNQUFLLEdBQUc7QUFFN0IsWUFBSSxTQUFTLE1BQU0sS0FBSyxPQUFPLGdDQUFPO0FBQ3RDLFlBQUcsVUFBUSxNQUFLO0FBQ2Y7QUFBQSxRQUNEO0FBQ0EsaUJBQVMsT0FBTyxLQUFLLEVBQUU7QUFBQSxVQUN0QjtBQUFBLFVBQU87QUFBQSxRQUNSO0FBQ0EsZ0JBQVEsSUFBSSxNQUFLLEtBQUksTUFBTTtBQUMzQixpQkFBUSxRQUFRLE9BQU07QUFDckIsZ0JBQU0sS0FBSyxPQUFPLFFBQVEsTUFBSyxLQUFJLE1BQU07QUFBQSxRQUMxQztBQUFBLE1BQ0QsU0FBUyxPQUFQO0FBQ0QsZ0JBQVEsSUFBSSxLQUFLO0FBQUEsTUFDbEI7QUFBQSxJQUVEO0FBQUEsRUFDRDtBQUFBLEVBR0EsVUFBVSxNQUFZO0FBRXJCLFFBQUksUUFBUSxJQUFJLE1BQU0saUJBQWlCO0FBQ3ZDLFFBQUcsTUFBTSxTQUFTLElBQUksR0FBRTtBQUN2QixhQUFPLE1BQU0sSUFBSTtBQUFBLElBQ2xCO0FBQ0EsYUFBUSxRQUFRLE9BQU07QUFDckIsVUFBRyxLQUFLLEtBQUssWUFBWSxFQUFFLGNBQWMsS0FBSyxZQUFZLENBQUMsS0FBRyxHQUFFO0FBQy9ELGVBQU87QUFBQSxNQUNSO0FBQ0EsVUFBRyxLQUFLLFNBQVMsWUFBWSxFQUFFLGNBQWMsS0FBSyxZQUFZLENBQUMsS0FBRyxHQUFFO0FBQ25FLGVBQU87QUFBQSxNQUNSO0FBQ0EsVUFBRyxLQUFLLEtBQUssU0FBUyxZQUFZLE1BQU0sY0FBYyxLQUFLLFlBQVksQ0FBQyxLQUFHLEdBQUU7QUFDNUUsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLGlCQUFpQixPQUFNLFNBQU8sV0FBVTtBQUV2QyxXQUFPLEtBQUssVUFBVSxNQUFNLFdBQVMsTUFBTTtBQUFBLEVBQzVDO0FBQUEsRUFFQSxNQUFNLHFCQUFxQixTQUFRRSxVQUFPLE1BQUs7QUFDOUMsVUFBTSxTQUFTLE1BQU0sS0FBSztBQUFBLE1BQ3pCO0FBQUEsTUFBUTtBQUFBLE1BQVE7QUFBQSxNQUFNQTtBQUFBLElBQ3ZCO0FBQ0EsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sb0JBQW1CO0FBRXhCLFFBQUksT0FBTyxLQUFLLE1BQU07QUFDdEIsUUFBSSxRQUFRLEtBQUssTUFBTSxxQkFBcUIsNkJBQU0sUUFBTyxLQUFLO0FBQzlELFlBQVEsS0FBSyxNQUFNLFlBQVksT0FBTSxDQUFDLFNBQVEsR0FBRyxDQUFDO0FBQ2xELFlBQVEsS0FBSyxNQUFNLHFCQUFxQixLQUFLO0FBQzdDLFlBQVEsTUFBTSxPQUFPLE9BQUcsS0FBRyxJQUFJO0FBRS9CLFVBQU0sT0FBTyxNQUFNLEtBQUs7QUFBQSxNQUN2QixDQUFDLFNBQVMsS0FBSztBQUFBLFFBQ2I7QUFBQSxRQUNBLEtBQUssU0FBUyxXQUFXLENBQUMsWUFBVyxVQUFVLElBQUcsQ0FBQztBQUFBLFFBQ25EO0FBQUEsTUFDRDtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBRUEsUUFBRyxDQUFDLE1BQUs7QUFBQztBQUFBLElBQU87QUFFakIsUUFBSUYsUUFBTyxNQUFNLEtBQUsscUJBQXFCO0FBQUEsTUFDMUM7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNELEdBQUUsU0FBTywwQkFBMEI7QUFFbkMsUUFBRyxDQUFDQSxPQUFLO0FBQUM7QUFBQSxJQUFPO0FBRWpCLFlBQVEsSUFBSSxPQUFPQSxPQUFNQSxLQUFJO0FBQzdCLFFBQUcsS0FBSyxTQUFTLFVBQVM7QUFDekIsV0FBSyxNQUFNLFNBQVMsSUFBSTtBQUFBLElBQ3pCO0FBRUEsUUFBR0EsVUFBTyx1QkFBc0I7QUFDL0IsV0FBSyxNQUFNLG9CQUFvQixNQUFLLElBQUk7QUFBQSxJQUN6QyxXQUFTQSxVQUFPLHVCQUFzQjtBQUNyQyxXQUFLLE1BQU0sb0JBQW9CLE1BQUssSUFBSTtBQUFBLElBQ3pDLFdBQVNBLFVBQU8sc0JBQXFCO0FBQ3BDLFdBQUssTUFBTSxtQkFBbUIsTUFBSyxJQUFJO0FBQUEsSUFDeEMsV0FBU0EsVUFBTyxxQkFBb0I7QUFDbkMsV0FBSyxNQUFNLGtCQUFrQixNQUFLLElBQUk7QUFBQSxJQUN2QyxPQUFLO0FBQ0o7QUFBQSxJQUNEO0FBRUEsUUFBRyxLQUFLLFNBQVMsVUFBUztBQUN6QixVQUFHLE1BQUs7QUFDUCxZQUFHLEtBQUssU0FBUyxRQUFPO0FBQ3ZCLGVBQUssSUFBSSxVQUFVLFFBQVEsSUFBSSxFQUFFLFNBQVMsSUFBSTtBQUFBLFFBQy9DLE9BQUs7QUFDSixlQUFLLElBQUksVUFBVSxXQUFXLFNBQVMsSUFBSTtBQUFBLFFBQzVDO0FBQUEsTUFDQTtBQUFBLElBQ0Q7QUFBQSxFQUNGO0FBQUEsRUFFQSxnQkFBZ0IsT0FBTSxRQUFPLEtBQUk7QUFDaEMsUUFBSSxPQUFPLEtBQUssSUFBSSxjQUFjLGFBQWEsS0FBSztBQUNwRCxRQUFJLFFBQVEsSUFBSSxNQUFNO0FBQ3RCLFVBQU0sS0FBSyxNQUFNLFFBQVE7QUFDekIsYUFBUSxTQUFTLFFBQU87QUFDdkIsVUFBRztBQUNGLGNBQU0sS0FBSyxLQUFLLFlBQVksS0FBSyxDQUFDO0FBQUEsTUFDbkMsU0FBTyxPQUFOO0FBQ0EsY0FBTSxLQUFLLEdBQUc7QUFBQSxNQUNmO0FBQUEsSUFDRDtBQUNBLFdBQU8sTUFBTSxLQUFLLEdBQUc7QUFBQSxFQUN0QjtBQUFBLEVBRUEsTUFBTSxvQkFBbUI7QUFDeEIsUUFBSSxPQUFPLEtBQUssTUFBTTtBQUN0QixRQUFJLFFBQVEsTUFBTSxLQUFLLE1BQU0sZ0JBQWdCLE1BQUssS0FBSztBQUN2RCxZQUFRLEtBQUssTUFBTSxZQUFZLE9BQU0sQ0FBQyxTQUFRLEdBQUcsQ0FBQztBQUNsRCxZQUFRLEtBQUssTUFBTSxxQkFBcUIsS0FBSztBQUU3QyxVQUFNLE9BQ0wsTUFBTSxLQUFLO0FBQUEsTUFDVixDQUFDLFNBQVMsS0FBSztBQUFBLE1BQ2Y7QUFBQSxJQUNEO0FBR0QsVUFBTSxLQUFLLE1BQU0sVUFBVSxJQUFJO0FBQUEsRUFDaEM7QUFBQSxFQUVBLElBQUksWUFBVztBQUNkLFdBQU8sWUFBWSxLQUFLLEtBQUkscUJBQXFCO0FBQUEsRUFDbEQ7QUFBQSxFQUVBLGVBQWUsTUFBSyxPQUFLLElBQUcsT0FBSyxJQUFHLGFBQVcsT0FBTTtBQTM4QnREO0FBNjhCRSxRQUFHLFNBQU8sTUFBSztBQUNkLGFBQU8sS0FBSyxJQUFJLFVBQVUsY0FBYztBQUFBLElBQ3pDO0FBQ0EsUUFBSSxNQUFNLE1BQU07QUFDaEIsUUFBSSxLQUFLLElBQUk7QUFFYixRQUFJLE1BQU07QUFDVixhQUFRLElBQUUsTUFBSyxLQUFHLEdBQUUsS0FBSTtBQUN2QixVQUFJLE9BQU8sS0FBSyxJQUFJLGNBQWMsYUFBYSxHQUFHO0FBRWxELFVBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxNQUFLO0FBRWYsVUFBSSxRQUFPLFVBQUssZ0JBQUwsbUJBQWtCO0FBQzdCLFVBQUcsQ0FBQyxNQUFLO0FBQUM7QUFBQSxNQUFLO0FBRWYsVUFBSSxPQUFPLEtBQUssVUFBVSxJQUFJO0FBQzlCLFVBQUcsQ0FBQyxPQUFPLElBQUksU0FBUyxJQUFJLEdBQUU7QUFDN0I7QUFBQSxNQUNELE9BQUs7QUFDSixZQUFJLFFBQVEsSUFBSTtBQUNoQixjQUFNO0FBQUEsTUFDUDtBQUFBLElBQ0Q7QUFFQSxVQUFNO0FBQ04sYUFBUSxJQUFFLE1BQUssS0FBRyxHQUFFLEtBQUk7QUFDdkIsVUFBSSxPQUFPLEtBQUssSUFBSSxjQUFjLGFBQWEsR0FBRztBQUVsRCxVQUFHLENBQUMsTUFBSztBQUFDO0FBQUEsTUFBSztBQUVmLFVBQUksUUFBTyxVQUFLLGdCQUFMLG1CQUFrQjtBQUM3QixVQUFHLENBQUMsTUFBSztBQUFDO0FBQUEsTUFBSztBQUVmLFVBQUksT0FBTyxLQUFLLFVBQVUsSUFBSTtBQUM5QixVQUFHLENBQUMsT0FBTyxJQUFJLFNBQVMsSUFBSSxHQUFFO0FBQzdCO0FBQUEsTUFDRCxPQUFLO0FBQ0osWUFBSSxLQUFLLElBQUk7QUFDYixjQUFNO0FBQUEsTUFDUDtBQUFBLElBQ0Q7QUFFQSxRQUFHLFlBQVc7QUFDYixVQUFJLEtBQUssSUFBSTtBQUNiLFVBQUksU0FBUyxLQUFLLElBQUksTUFBTSxpQkFBaUI7QUFDN0MsZUFBUSxLQUFLLFFBQU87QUFDbkIsWUFBRyxFQUFFLFdBQVUsNkJBQU0sU0FBTztBQUMzQixjQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsR0FBRTtBQUNuQixnQkFBSSxLQUFLLENBQUM7QUFBQSxVQUNYO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFDQSxZQUFNLElBQUk7QUFBQSxRQUNULENBQUMsU0FDQyxTQUFPLFFBQVMsNkJBQU0sS0FBSyxXQUFXLEtBQUssT0FBTztBQUFBLE1BRXJEO0FBQUEsSUFDRDtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxNQUFNLGtCQUFpQjtBQUN0QixRQUFJLE9BQU8sS0FBSyxJQUFJLFVBQVUsY0FBYztBQUM1QyxRQUFJLFFBQVEsS0FBSztBQUFBLE1BQ2hCO0FBQUEsTUFDQSxPQUFPLEtBQUssU0FBUyxTQUFTO0FBQUEsTUFDOUIsT0FBTyxLQUFLLFNBQVMsU0FBUztBQUFBLE1BQzlCLEtBQUssU0FBUztBQUFBLElBQ2Y7QUFFQSxVQUFNLE9BQ0wsTUFBTSxLQUFLO0FBQUEsTUFDVixDQUFDLFNBQVM7QUFDVCxZQUFHLENBQUMsTUFBSztBQUNSLGlCQUFPO0FBQUEsUUFDUixXQUFTLFFBQU0sTUFBSztBQUNuQixpQkFBTyxhQUFNLEtBQUs7QUFBQSxRQUNuQixPQUFLO0FBQ0osaUJBQU8sS0FBSyxLQUFLLE1BQU0sS0FBSyxPQUFPLEtBQUssU0FBTyxDQUFDLEVBQUUsTUFBTSxHQUFFLEVBQUU7QUFBQSxRQUM3RDtBQUFBLE1BQ0Q7QUFBQSxNQUNBO0FBQUEsSUFDRDtBQUVBLFFBQUcsTUFBSztBQUNQLFVBQUcsS0FBSyxTQUFTLFFBQU87QUFDeEIsYUFBSyxJQUFJLFVBQVUsUUFBUSxJQUFJLEVBQUUsU0FBUyxJQUFJO0FBQUEsTUFDL0MsT0FBSztBQUNKLGFBQUssSUFBSSxVQUFVLFdBQVcsU0FBUyxJQUFJO0FBQUEsTUFDNUM7QUFBQSxJQUNBO0FBQUEsRUFDRjtBQUVEO0FBRUEsSUFBTSxnQkFBTixjQUE0QixpQ0FBaUI7QUFBQSxFQUc1QyxZQUFZRCxNQUFVLFFBQW9CO0FBQ3pDLFVBQU1BLE1BQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUEsRUFFQSxVQUFnQjtBQUNmLFVBQU0sRUFBQyxZQUFXLElBQUk7QUFFdEIsZ0JBQVksTUFBTTtBQUVsQixnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUVsRCxnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUVsRCxRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxRQUFRLEVBQ2hCLFFBQVEscUVBQWMsRUFDdEI7QUFBQSxNQUFVLFVBQVEsS0FDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxNQUFNLEVBQ3BDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLFNBQVM7QUFDOUIsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUQsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsVUFBVSxFQUNsQixRQUFRLG1EQUFXLEVBQ25CO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUN0QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxXQUFXO0FBQ2hDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVELGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFL0QsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsU0FBUyxFQUNqQixRQUFRLHVDQUFTLEVBQ2pCO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsT0FBTyxFQUNyQyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxVQUFVO0FBQy9CLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVELFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLE9BQU8sRUFDZixRQUFRLGlOQUFpRCxFQUN6RCxRQUFRLFVBQVEsS0FDZixTQUFTLEtBQUssT0FBTyxTQUFTLEtBQUssRUFDbkMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsUUFBUTtBQUM3QixZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBRUosZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN0RCxRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxXQUFXLEVBQ25CLFFBQVEsc0NBQVEsRUFDaEIsUUFBUSxVQUFRLEtBQ2YsU0FBUyxLQUFLLE9BQU8sU0FBUyxTQUFTLEVBQ3ZDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLFlBQVk7QUFDakMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUVKLFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLFdBQVcsRUFDbkIsUUFBUSxzQ0FBUSxFQUNoQixRQUFRLFVBQVEsS0FDZixTQUFTLEtBQUssT0FBTyxTQUFTLFNBQVMsRUFDdkMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsWUFBWTtBQUNqQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBRUosUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsWUFBWSxFQUNwQixRQUFRLDRJQUF5QixFQUNqQztBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLFVBQVUsRUFDeEMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsYUFBYTtBQUNsQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFFRixnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNqRCxRQUFJLHdCQUFRLFdBQVcsRUFDcEIsUUFBUSxVQUFVLEVBQ2xCLFFBQVEsb0VBQWEsRUFDckI7QUFBQSxNQUFVLFVBQVEsS0FDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxRQUFRLEVBQ3RDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLFdBQVc7QUFDaEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsVUFBVSxFQUNsQixRQUFRLHNGQUFnQixFQUN4QjtBQUFBLE1BQVUsVUFBUSxLQUNqQixTQUFTLEtBQUssT0FBTyxTQUFTLFFBQVEsRUFDdEMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsV0FBVztBQUNoQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFFRixRQUFJLHdCQUFRLFdBQVcsRUFDcEIsUUFBUSxVQUFVLEVBQ2xCLFFBQVEsd0RBQVcsRUFDbkI7QUFBQSxNQUFVLFVBQVEsS0FDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxRQUFRLEVBQ3RDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLFdBQVc7QUFDaEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsVUFBVSxFQUNsQixRQUFRLDhEQUFZLEVBQ3BCO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUN0QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxXQUFXO0FBQ2hDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUVGLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0scUJBQU0sQ0FBQztBQUMxQyxRQUFJLHdCQUFRLFdBQVcsRUFDcEIsUUFBUSxpQkFBaUIsRUFDekIsUUFBUSxnRUFBbUIsRUFDM0I7QUFBQSxNQUFVLFVBQVEsS0FDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxlQUFlLEVBQzdDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLGtCQUFrQjtBQUN2QyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFDRixRQUFJLHdCQUFRLFdBQVcsRUFDcEIsUUFBUSxjQUFjLEVBQ3RCLFFBQVEsNkRBQWdCLEVBQ3hCO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFBWSxFQUMxQyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxlQUFlO0FBQ3BDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0g7QUFDRDsiLAogICJuYW1lcyI6IFsiYXBwIiwgIm1vZGUiLCAiZiIsICJwcm9tcHQiXQp9Cg==
