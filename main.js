/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/utils.ts
var utils_exports = {};
__export(utils_exports, {
  array_prefix_id: () => array_prefix_id,
  check_value: () => check_value,
  concat_array: () => concat_array,
  get_plugins: () => get_plugins,
  get_tp_func: () => get_tp_func,
  set_prototype: () => set_prototype,
  sleep: () => sleep
});
function get_plugins(app2, name) {
}
function array_prefix_id(items, offset = 1) {
  let res = new Array();
  for (let i = 0; i < items.length; i++) {
    res.push(`${i + offset} ${items[i]}`);
  }
  return res;
}
function concat_array(items) {
  if (items == null) {
    return [];
  }
  if (typeof items === "string") {
    return [items];
  }
  if (!(items instanceof Array)) {
    return [items];
  }
  let res = [];
  for (let item of items) {
    if (typeof item === "string") {
      res.push(item);
    } else if (item instanceof Array) {
      res = res.concat(this.concat_array(item));
    } else {
      res.push(item);
    }
  }
  return res;
}
function sleep(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms));
}
async function check_value(t, k, v, dt, T) {
  let i = 0;
  while (t[k] == null || !(t[k] === v)) {
    await sleep(dt);
    i = dt + dt;
    if (i > T) {
      break;
    }
  }
  if (t[k] && t[k] === v) {
    return true;
  } else {
    return false;
  }
}
function get_tp_func(app2, target) {
  let templater = app2.plugins.getPlugin(
    "templater-obsidian"
  );
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items.length != 3) {
    return void 0;
  }
  let modules = templater.templater.functions_generator.internal_functions.modules_array.filter(
    (item) => item.name.localeCompare(items[1]) == 0
  );
  if (modules.length == 0) {
    return void 0;
  }
  return modules[0].static_functions.get(items[2]);
}
function set_prototype(t, e) {
  let r = Object.keys(e).map((i) => set_prototype_on(t, i, e[i]));
  return r.length === 1 ? r[0] : function() {
    r.forEach((i) => i());
  };
}
function set_prototype_on(prototype, name, func) {
  let org_func = prototype[name], isOwnProperty = prototype.hasOwnProperty(name), final_func = func(org_func);
  if (org_func) {
    Object.setPrototypeOf(final_func, org_func);
  }
  Object.setPrototypeOf(a, final_func);
  prototype[name] = a;
  return s;
  function a(...d) {
    if (final_func === org_func && prototype[name] === a) {
      s();
    }
    return final_func.apply(this, d);
  }
  function s() {
    if (prototype[name] === a) {
      if (isOwnProperty) {
        prototype[name] = org_func;
      } else {
        delete prototype[name];
      }
    }
    if (final_func !== org_func) {
      final_func = org_func;
      Object.setPrototypeOf(a, org_func || Function);
    }
  }
}
var init_utils = __esm({
  "src/utils.ts"() {
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NoteChainPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/NCEditor.ts
var NCEditor = class {
  constructor(app2) {
    this.app = app2;
  }
  async set_frontmatter(tfile, key, value) {
    let prev = this.get_frontmatter(tfile, key);
    if (prev === value) {
      return;
    }
    await this.app.fileManager.processFrontMatter(tfile, (fm) => {
      console.log(`${tfile.basename}---${key}---${value}`);
      fm[key] = value;
    });
  }
  get_frontmatter(tfile, key) {
    let meta = this.app.metadataCache.getFileCache(tfile);
    if (meta == null ? void 0 : meta.frontmatter) {
      return meta.frontmatter[key];
    }
  }
  regexp_link(tfile, mode) {
    if (mode === "link") {
      return new RegExp(`\\[\\[${tfile.basename}\\|?.*\\]\\]`, "g");
    }
    if (mode === "para") {
      return new RegExp(`.*\\[\\[${tfile.basename}\\|?.*\\]\\].*`, "g");
    }
  }
  async replace(tfile, regex, target) {
    if (typeof regex === "string") {
      await this.app.vault.process(tfile, (data) => {
        if (data.indexOf(regex) > -1) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    } else if (regex instanceof RegExp) {
      await this.app.vault.process(tfile, (data) => {
        if (data.match(regex)) {
          console.log("Replace: ", tfile.path);
          return data.replace(regex, target);
        }
        return data;
      });
    }
  }
};

// src/NoteChain.ts
var import_obsidian = require("obsidian");
init_utils();
var NoteChain = class {
  constructor(plugin, editor, prev = "PrevNote", next = "NextNote") {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = new NCEditor(this.app);
    this.prev = prev;
    this.next = next;
    this.init_children();
  }
  init_children() {
    this.children = {};
    for (let f of this.get_all_folders()) {
      this.children[f.path] = this.sort_tfiles_by_chain(f.children);
    }
  }
  get tp_find_tfile() {
    return get_tp_func(this.app, "tp.file.find_tfile");
  }
  get tp_suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get tp_prompt() {
    return get_tp_func(this.app, "tp.system.prompt");
  }
  get_all_folders(sort_mode = "") {
    return this.app.vault.getAllFolders();
  }
  get_all_tfiles(sort_mode = "") {
    let files = this.app.vault.getMarkdownFiles();
    if (!(sort_mode === "")) {
      this.sort_tfiles(files, sort_mode = sort_mode);
    }
    return files;
  }
  sort_folders_by_mtime(folders, reverse = true) {
    function ufunc(f) {
      return Math.max(
        ...f.children.filter((f2) => f2.basename).map((f2) => f2.stat.mtime)
      );
    }
    let res = folders.sort((a, b) => ufunc(a) - ufunc(b));
    if (reverse) {
      res = res.reverse();
    }
    return res;
  }
  async cmd_move_file_to_another_folder(tfile = this.current_note) {
    if (tfile == null) {
      return;
    }
    let folders = this.get_all_folders();
    folders = this.sort_folders_by_mtime(
      folders
    ).filter((f) => f != tfile.parent);
    if (tfile.extension === "md") {
      folders = folders.filter((f) => this.filter_user_ignore(f));
    }
    try {
      let folder = await this.tp_suggester((f) => f.path, folders);
      let dst = folder.path + "/" + tfile.basename + "." + tfile.extension;
      await this.app.fileManager.renameFile(tfile, dst);
    } catch (error) {
    }
  }
  filter_user_ignore(note) {
    if (!(this.app.vault.config.attachmentFolderPath === "./")) {
      if (note.path.startsWith(
        this.app.vault.config.attachmentFolderPath
      )) {
        return false;
      }
    }
    if (this.app.vault.config.userIgnoreFilters) {
      for (let x of this.app.vault.config.userIgnoreFilters) {
        if (note.path.startsWith(x)) {
          return false;
        }
      }
    }
    return true;
  }
  async sugguster_note() {
    let notes = this.sort_tfiles(
      this.app.vault.getFiles(),
      ["mtime", "x"]
    ).filter((f) => this.filter_user_ignore(f));
    try {
      let note = await this.tp_suggester((f) => f.path, notes);
      return note;
    } catch (error) {
      return null;
    }
  }
  open_note(tfile, new_tab = false, revealFolder = true) {
    if (tfile) {
      if (this.app.workspace.activeLeaf.pinned || new_tab) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else {
        this.app.workspace.activeLeaf.openFile(tfile);
      }
      if (revealFolder) {
        this.plugin.explorer.file_explorer.revealInFolder(tfile);
      }
    }
  }
  async sugguster_open_note() {
    try {
      let note = await this.sugguster_note();
      this.open_note(note);
    } catch (error) {
    }
  }
  get_tfile(path) {
    let name = path.split("|")[0].replace("[[", "").replace("]]", "");
    return this.tp_find_tfile(name);
  }
  get current_note() {
    return this.app.workspace.getActiveFile();
  }
  get_inlinks(tfile = this.current_note) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    let dv_api = this.app.plugins.getPlugin("dataview");
    let inlinks = dv_api.index.links.invMap.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_outlinks(tfile = this.current_note) {
    if (tfile == null) {
      return [];
    }
    if (this.app instanceof import_obsidian.App) {
      if (this.app.plugins) {
      }
    }
    let dv_api = this.app.plugins.getPlugin("dataview");
    let inlinks = dv_api.index.links.map.get(tfile.path);
    if (inlinks == void 0) {
      return [];
    } else {
      return Array.from(inlinks).map(
        (path) => this.app.vault.fileMap[path]
      ).filter(
        (item) => item
      );
    }
  }
  get_links(tfile = this.current_note) {
    let inlinks = this.get_inlinks(tfile);
    let outlinks = this.get_outlinks(tfile);
    for (let link of inlinks) {
      if (!outlinks.includes(link)) {
        outlinks.push(link);
      }
    }
    return outlinks;
  }
  get_brothers(tfile = this.current_note) {
    if (tfile && tfile.parent) {
      return this.get_tfiles_of_folder(tfile.parent, false);
    } else {
      return [];
    }
  }
  get_uncles(tfile) {
    if (tfile && tfile.parent && tfile.parent.parent) {
      let folder = tfile.parent.parent;
      return folder.children.filter(
        (x) => x instanceof import_obsidian.TFile
      );
    }
    return [];
  }
  get_tfiles_of_folder(tfolder, with_children = false) {
    if (tfolder == null) {
      return [];
    }
    let notes = [];
    for (let c of tfolder.children) {
      if (c instanceof import_obsidian.TFile && c.extension === "md") {
        notes.push(c);
      } else if (c instanceof import_obsidian.TFolder && with_children) {
        let tmp = this.get_tfiles_of_folder(c);
        for (let x of tmp) {
          notes.push(x);
        }
      }
    }
    return notes;
  }
  indexOfFolder(tfile, tfiles) {
    let fnote = this.tp_find_tfile(tfile.name + ".md");
    let msg = this.plugin.editor.get_frontmatter(
      fnote,
      "FolderPrevNote"
    );
    if (!msg) {
      return -1;
    }
    let items = msg.split("]]+");
    let anchor = this.get_tfile(items[0].slice(2));
    if (!anchor) {
      return -1;
    }
    let idx = tfiles.indexOf(anchor);
    if (items.length == 2) {
      idx = idx + parseFloat(items[1]);
    }
    return idx;
  }
  parse_item(item) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let seq = kwargs["seq"];
    if (seq != null) {
      return `${seq} -> ${item}`;
    }
    return item;
  }
  tfile_to_string(tfile) {
    let curr = this.current_note;
    let msg = "";
    if (tfile.parent == curr.parent) {
      msg = tfile.basename;
    } else {
      msg = tfile.path;
    }
    if (tfile == this.current_note) {
      return `\u{1F3E0} ${msg}`;
    } else {
      return msg;
    }
  }
  parse_items(items) {
    var args = [].slice.call(arguments).slice(1);
    let kwargs = {};
    if (args.length == 1) {
      kwargs = args[0];
    }
    let res = [];
    let i = 0;
    while (i < items.length) {
      if (kwargs["seq"]) {
        res.push(this.parse_item(items[i], { "seq": i + 1 }));
      } else {
        res.push(this.parse_item(items[i]));
      }
      i++;
    }
    return res;
  }
  async suggester_notes(tfile = this.current_note, curr_first = true, smode = "") {
    if (tfile) {
      tfile == this.current_note;
    }
    let kv = [
      "\u540C\u7EA7\u7B14\u8BB0",
      "\u7B14\u8BB0\u94FE\u6761",
      "\u4E0A\u7EA7\u7B14\u8BB0",
      "\u540C\u7EA7\u7B14\u8BB0+\u5B50\u76EE\u5F55",
      "\u51FA\u94FE+\u5165\u94FE",
      "\u5165\u94FE",
      "\u51FA\u94FE",
      "\u6240\u6709\u7B14\u8BB0",
      "recent-files-obsidian"
    ];
    if (curr_first) {
      kv.unshift("\u5F53\u524D\u7B14\u8BB0");
    } else {
      kv.push("\u5F53\u524D\u7B14\u8BB0");
    }
    let kvs = [];
    let i = 1;
    for (let x of kv) {
      kvs.push(`${i++} ${x}`);
    }
    let mode = "";
    if (kv.contains(smode)) {
      mode = smode;
    } else {
      mode = await this.tp_suggester(kvs, kv);
    }
    if (mode === "\u5F53\u524D\u7B14\u8BB0") {
      return [tfile];
    } else if (mode === "\u540C\u7EA7\u7B14\u8BB0") {
      return this.get_brothers(tfile);
    } else if (mode === "\u540C\u7EA7\u7B14\u8BB0+\u5B50\u76EE\u5F55") {
      return this.get_tfiles_of_folder(tfile == null ? void 0 : tfile.parent, true);
    } else if (mode === "\u51FA\u94FE+\u5165\u94FE") {
      return this.get_links(tfile);
    } else if (mode === "\u5165\u94FE") {
      return this.get_inlinks(tfile);
    } else if (mode === "\u51FA\u94FE") {
      return this.get_outlinks(tfile);
    } else if (mode === "\u6240\u6709\u7B14\u8BB0") {
      return this.get_all_tfiles();
    } else if (mode === "recent-files-obsidian") {
      let r = this.app.plugins.getPlugin("recent-files-obsidian");
      if (!r) {
        return [];
      }
      return Object.values(
        r.data.recentFiles
      ).map(
        (f) => this.app.vault.fileMap[f.path]
      ).filter((f) => f);
    } else if (mode === "\u4E0A\u7EA7\u7B14\u8BB0") {
      return this.get_uncles(tfile);
    } else if (mode === "\u7B14\u8BB0\u94FE\u6761") {
      return this.get_chain(
        tfile,
        Number(this.plugin.settings.PrevChain),
        Number(this.plugin.settings.NextChain)
      );
    } else {
      return [];
    }
  }
  // Chain
  get_prev_note(tfile = this.current_note) {
    if (!tfile) {
      return;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      tfiles.filter((f) => `[[${tfile.basename}]]` === app.nc.editor.get_frontmatter(f, "NextNote"));
      tfiles = tfiles.filter((f) => `[[${tfile.basename}]]` === this.editor.get_frontmatter(f, this.next));
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.prev);
      if (!name) {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_prev_notes(tfile = this.current_note) {
    let note = this.get_prev_note(tfile);
    this.open_note(note);
  }
  get_next_note(tfile = this.current_note) {
    if (!tfile) {
      return null;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      tfiles = tfiles.filter((f) => `[[${tfile.basename}]]` === this.editor.get_frontmatter(f, this.prev));
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.next);
      if (!name) {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_next_notes(tfile = this.current_note) {
    let note = this.get_next_note(tfile);
    this.open_note(note);
  }
  get_chain(tfile = this.current_note, prev = 10, next = 10, with_self = true) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    if (with_self) {
      res.push(tfile);
    }
    let tmp = tfile;
    for (let i = prev; i != 0; i--) {
      let note = this.get_prev_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.editor.set_frontmatter(note, this.next, "");
        this.editor.set_frontmatter(tmp, this.prev, "");
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = tfile;
    for (let i = next; i != 0; i--) {
      let note = this.get_next_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        this.editor.set_frontmatter(note, this.prev, "");
        this.editor.set_frontmatter(tmp, this.next, "");
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    return res;
  }
  get_first_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, -1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  get_last_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, 0, -1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  get_neighbors(tfile = this.current_note) {
    return [
      this.get_prev_note(tfile),
      this.get_next_note(tfile)
    ];
  }
  async chain_set_prev(tfile, prev) {
    if (tfile == null || tfile == prev) {
      return;
    }
    this.plugin.console_log("chain_set_prev:", tfile.basename, prev == null ? void 0 : prev.basename);
    if (prev == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        ""
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        `[[${prev.basename}]]`
      );
    }
  }
  async chain_set_next(tfile, next) {
    if (tfile == null || tfile == next) {
      return;
    }
    this.plugin.console_log("chain_set_next:", tfile.basename, next == null ? void 0 : next.basename);
    if (next == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        ""
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        `[[${next.basename}]]`
      );
    }
  }
  async chain_set_prev_next(prev, next) {
    await this.chain_set_prev(next, prev);
    await this.chain_set_next(prev, next);
  }
  async chain_concat_tfiles(tfiles) {
    let prev = this.get_prev_note(tfiles[0]);
    if (tfiles.contains(prev)) {
      await this.chain_set_prev(tfiles[0], null);
    }
    let next = this.get_next_note(tfiles[tfiles.length - 1]);
    if (tfiles.contains(next)) {
      await this.chain_set_next(tfiles[tfiles.length - 1], null);
    }
    for (let i = 0; i < tfiles.length - 1; i++) {
      await this.chain_set_prev_next(tfiles[i], tfiles[i + 1]);
    }
  }
  async chain_pop_node(tfile) {
    let notes = this.get_neighbors(tfile);
    await this.chain_set_prev_next(notes[0], notes[1]);
  }
  async chain_insert_node_as_head(tfile, anchor) {
    let head = this.get_first_note(anchor);
    await this.chain_set_prev_next(tfile, head);
  }
  async chain_insert_node_as_tail(tfile, anchor) {
    let tail = this.get_last_note(anchor);
    await this.chain_set_prev_next(tail, tfile);
  }
  async chain_insert_node_after(tfile, anchor) {
    let t = this;
    console.log(this);
    t.plugin.console_log(t);
    await t.chain_pop_node(tfile);
    let next = this.get_next_note(anchor);
    await this.chain_concat_tfiles([anchor, tfile, next]);
  }
  async chain_insert_node_before(tfile, anchor) {
    await this.chain_pop_node(tfile);
    let prev = this.get_prev_note(anchor);
    await this.chain_concat_tfiles([prev, tfile, anchor]);
  }
  async chain_insert_folder_after(tfile, anchor) {
    if (!tfile.parent || tfile.parent.parent != anchor.parent) {
      return;
    }
    let note = this.get_tfile(tfile.parent.name);
    if (!note) {
      console.log("\u9700\u8981\u8981\u5148\u521B\u5EFA\u540C\u540D\u7B14\u8BB0");
      return;
    }
    await this.plugin.editor.set_frontmatter(
      note,
      "FolderPrevNote",
      `[[${anchor.basename}]]+0.5`
    );
  }
  async chain_suggester_tfiles(tfile = this.current_note, mode = "suggester") {
    let notes = this.get_brothers(tfile);
    if (notes.length == 0) {
      return;
    }
    let files = await this.suggester_sort(notes);
    await this.chain_concat_tfiles(files);
  }
  sort_tfiles(files, field) {
    if (typeof field === "string") {
      if (field === "name") {
        return files.sort(
          (a, b) => a.name.localeCompare(b.name)
        );
      } else if (field === "mtime") {
        return files.sort(
          (a, b) => a.stat.mtime - b.stat.mtime
        );
      } else if (field === "ctime") {
        return files.sort(
          (a, b) => a.stat.ctime - b.stat.ctime
        );
      } else if (field === "chain") {
        return this.sort_tfiles_by_chain(files);
      }
      return files;
    } else if (typeof field === "object") {
      if (field instanceof Array) {
        let nfiles = this.sort_tfiles(files, field[0]);
        if (field.length >= 2) {
          if (field[1] === "x") {
            return nfiles.reverse();
          }
        }
        return nfiles;
      }
    }
    return files;
  }
  sort_tfiles_by_chain(tfiles) {
    let notes = tfiles.filter((f) => f instanceof import_obsidian.TFile);
    let res = [];
    while (notes.length > 0) {
      let note = notes[0];
      let xchain = this.get_chain(note, -1, -1);
      for (let x of xchain) {
        if (notes.contains(x)) {
          res.push(x);
          notes.remove(x);
        }
      }
    }
    let folders = tfiles.filter((f) => f instanceof import_obsidian.TFolder);
    if (folders.length > 0) {
      let indexOf = function(f) {
        if (f instanceof import_obsidian.TFile) {
          return res.indexOf(f);
        } else if (f instanceof import_obsidian.TFolder) {
          return idxs[folders.indexOf(f)];
        } else {
          return -1;
        }
      };
      let idxs = folders.map(
        (f) => this.indexOfFolder(f, res)
      );
      res.push(...folders);
      res = res.sort((a, b) => indexOf(a) - indexOf(b));
    }
    return res;
  }
  sort_tfiles_folder_first(tfiles) {
    let A = tfiles.filter((f) => f instanceof import_obsidian.TFolder).sort((a, b) => a.name.localeCompare(b.name));
    let B = tfiles.filter((f) => f instanceof import_obsidian.TFile);
    return this.plugin.utils.concat_array([A, B]);
  }
  sort_tfiles_by_field(tfiles, field) {
    let res = tfiles.sort(
      (a, b) => {
        let av = this.editor.get_frontmatter(a, field);
        let bv = this.editor.get_frontmatter(b, field);
        return av - bv;
      }
    );
    return res;
  }
  async suggester_sort(tfiles) {
    if (!tfiles) {
      return [];
    }
    if (tfiles.length == 0) {
      return [];
    }
    ;
    let kv = {
      "chain": "chain",
      "name": "name",
      "ctime": "ctime",
      "mtime": "mtime",
      "name \u5012\u5E8F": ["name", "x"],
      "ctime \u5012\u5E8F": ["ctime", "x"],
      "mtime \u5012\u5E8F": ["mtime", "x"]
    };
    let field = await this.tp_suggester(
      Object.keys(kv),
      Object.values(kv)
    );
    if (field == null) {
      return [];
    }
    if (field == "chain") {
      tfiles = this.sort_tfiles(tfiles, "name");
    }
    return this.sort_tfiles(tfiles, field);
  }
  view_sort_by_chain() {
    var _a;
    let view = (_a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    )[0]) == null ? void 0 : _a.view;
    if (!view) {
      return;
    }
    view.sort();
    if (view.ready) {
      for (let path in view.fileItems) {
        let item = view.fileItems[path];
        if (item.vChildren) {
          let files = item.vChildren._children.map((f) => f.file);
          files = this.sort_tfiles_by_chain(files);
          let children = item.vChildren._children.sort(
            (a, b) => files.indexOf(a.file) - files.indexOf(b.file)
          );
          item.vChildren.setChildren(children);
        }
      }
      view.tree.infinityScroll.compute();
    }
  }
};

// src/NCFileExplorer.ts
var import_obsidian2 = require("obsidian");
var chain_sort = function(org_sort) {
  let plugin = app.plugins.getPlugin("note-chain");
  return function(...d) {
    if (plugin) {
      if (plugin == null ? void 0 : plugin.settings.isSortFileExplorer) {
        var e = this.file, t = this.view, i = e.children.slice();
        i = i.filter((x) => x);
        if (i.length > 0) {
          let items = plugin.chain.children[i[0].parent.path];
          if (items) {
            let a2 = items.filter((x) => i.contains(x));
            let b = items.filter((x) => !i.contains(x));
            a2.push(...b);
            i = a2;
          }
        }
        if (plugin.settings.isFolderFirst) {
          i = plugin.chain.sort_tfiles_folder_first(i);
        }
        for (var r = [], o = 0, a = i; o < a.length; o++) {
          var s = a[o], l = t.fileItems[s.path];
          l && r.push(l);
        }
        this.vChildren.setChildren(r);
      } else {
        return org_sort.call(this, ...d);
      }
    } else {
      return org_sort.call(this, ...d);
    }
  };
};
chain_sort_v1 = function(org_sort) {
  let plugin = app.plugins.getPlugin("note-chain");
  return function(...d) {
    if (plugin) {
      if (plugin == null ? void 0 : plugin.settings.isSortFileExplorer) {
        var e = this.file, t = this.view, i = e.children.slice();
        i = i.filter((x) => x);
        i = plugin.chain.sort_tfiles_by_chain(i);
        i = plugin.chain.sort_tfiles_folder_first(i);
        for (var r = [], o = 0, a = i; o < a.length; o++) {
          var s = a[o], l = t.fileItems[s.path];
          l && r.push(l);
        }
        this.vChildren.setChildren(r);
      } else {
        return org_sort.call(this, ...d);
      }
    } else {
      return org_sort.call(this, ...d);
    }
  };
};
var NCFileExplorer = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.chain = plugin.chain;
    this.app = plugin.app;
    this.register();
  }
  register() {
    this.app.workspace.onLayoutReady(() => {
      let folder = new import_obsidian2.TFolder(import_obsidian2.Vault, "");
      let dom = this.file_explorer.createFolderDom(folder).constructor;
      this._FolderDom_ = dom;
      this.org_sort = dom.prototype.sort;
      this.new_sort = chain_sort(this.org_sort);
      this._FolderDom_.prototype.sort = this.new_sort;
      this.sort();
    });
  }
  unregister() {
    if (this.org_sort) {
      console.log("Reset FileExplorer to origin sort function.");
      this._FolderDom_.prototype.sort = this.org_sort;
    }
  }
  get file_explorer() {
    var _a;
    let view = (_a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    )[0]) == null ? void 0 : _a.view;
    return view;
  }
  async sort(nsleep = 0) {
    var _a;
    if ((_a = this.file_explorer) == null ? void 0 : _a.sort) {
      if (nsleep > 0) {
        await this.plugin.utils.sleep(nsleep);
      }
      this.plugin.chain.init_children();
      this.file_explorer.sort();
    }
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  PrevChain: "10",
  NextChain: "10",
  refreshDataView: true,
  refreshTasks: true,
  isSortFileExplorer: true,
  isFolderFirst: true
};
var longform2notechain = (plugin) => ({
  id: "longform2notechain",
  name: "Reset Note Chain by LongForm.",
  callback: () => {
    let curr = plugin.chain.current_note;
    if (curr == null) {
      return;
    }
    app.fileManager.processFrontMatter(
      curr,
      (fm) => {
        if (curr == null) {
          return;
        }
        if (fm["longform"] == null) {
          return;
        }
        let scenes = plugin.utils.concat_array(fm.longform.scenes);
        let ignoredFiles = plugin.utils.concat_array(fm.longform.ignoredFiles);
        ignoredFiles = ignoredFiles.filter((f) => !scenes.contains(f));
        let notes = plugin.utils.concat_array([scenes, ignoredFiles]);
        notes = notes.map((f) => plugin.chain.tp_find_tfile(f));
        if (curr.parent == null) {
          return;
        }
        ;
        let tfiles = plugin.chain.get_tfiles_of_folder(curr.parent).filter((f) => !notes.contains(f));
        notes = plugin.utils.concat_array([tfiles, notes]);
        plugin.chain.chain_concat_tfiles(notes);
      }
    );
  }
});
var longform4notechain = (plugin) => ({
  id: "longform4notechain",
  name: "Reset LongForm Secnes by Note Chain.",
  callback: () => {
    let curr = plugin.chain.current_note;
    if (curr == null) {
      return;
    }
    app.fileManager.processFrontMatter(
      curr,
      (fm) => {
        if (curr == null) {
          return;
        }
        if (curr.parent == null) {
          return;
        }
        ;
        if (fm["longform"] == null) {
          return;
        }
        let notes = plugin.chain.get_tfiles_of_folder(curr.parent);
        notes = plugin.chain.sort_tfiles_by_chain(notes);
        fm.longform.scenes = notes.map((f) => f.basename);
      }
    );
  }
});
var sort_file_explorer = (plugin) => ({
  id: "sort_file_explorer",
  name: "Sort File Explorer by Note Chain.",
  callback: async () => {
    await plugin.explorer.sort();
  }
});
var open_notes_smarter = (plugin) => ({
  id: "open_notes_smarter",
  name: "Open note smarter",
  callback: () => {
    plugin.open_note_smarter();
  }
});
var sugguster_open_note = (plugin) => ({
  id: "sugguster_open_note",
  name: "Open note",
  callback: () => {
    plugin.chain.sugguster_open_note();
  }
});
var open_prev_notes = (plugin) => ({
  id: "open_prev_notes",
  name: "Open prev note",
  callback: () => {
    plugin.chain.open_prev_notes();
  }
});
var open_next_notes = (plugin) => ({
  id: "open_next_notes",
  name: "Open next note",
  callback: () => {
    plugin.chain.open_next_notes();
  }
});
var clear_inlinks = (plugin) => ({
  id: "clear_inlinks",
  name: "Clear inlinks of current file",
  callback: () => {
    plugin.clear_inlinks();
  }
});
var move_file_to_another_folder = (plugin) => ({
  id: "move_file_to_another_folder",
  name: "Move current file to another folder",
  callback: () => {
    plugin.chain.cmd_move_file_to_another_folder();
  }
});
var replace_notes_with_regx = (plugin) => ({
  id: "replace_notes_with_regx",
  name: "Replace by regex",
  callback: () => {
    plugin.replace_notes_with_regx();
  }
});
var chain_insert_node = (plugin) => ({
  id: "chain_insert_node",
  name: "Insert node of chain",
  callback: async () => {
    await plugin.cmd_chain_insert_node();
    await plugin.explorer.sort(500);
  }
});
var chain_set_seq_note = (plugin) => ({
  id: "chain_set_seq_note",
  name: "Reset the chain of current folder!",
  callback: async () => {
    await plugin.chain.chain_suggester_tfiles();
    plugin.explorer.sort();
  }
});
var create_new_note = (plugin) => ({
  id: "create_new_note",
  name: "Create new note.",
  callback: async () => {
    let targets = {
      "\u6DFB\u52A0\u540E\u7F6E\u7B14\u8BB0": "chain_insert_node_after",
      "\u94FE\u5C3E\u6DFB\u52A0\u7B14\u8BB0": "chain_insert_node_as_tail",
      "\u6DFB\u52A0\u524D\u7F6E\u7B14\u8BB0": "chain_insert_node_before",
      "\u94FE\u5934\u6DFB\u52A0\u7B14\u8BB0": "chain_insert_node_as_head",
      "\u65E0\u94FE\u63A5": `null`
    };
    let target = await plugin.chain.tp_suggester(
      plugin.utils.array_prefix_id(Object.keys(targets)),
      Object.values(targets),
      true,
      "\u9009\u62E9\u7B14\u8BB0\u7C7B\u578B."
    );
    if (!target) {
      return;
    }
    let name = await plugin.chain.tp_prompt("\u8BF7\u8F93\u5165\u6587\u4EF6\u540D");
    if (name) {
      let curr = plugin.chain.current_note;
      if (curr && curr.parent) {
        let path = curr.parent.path + "/" + name + ".md";
        let dst = await plugin.chain.get_tfile(path);
        if (dst == null) {
          let func = plugin.utils.get_tp_func(plugin.app, "tp.file.create_new");
          dst = await func(
            "",
            name,
            false,
            curr.parent
          );
          await plugin.utils.sleep(300);
          if (!(target === "null")) {
            await plugin.chain[target](dst, curr);
          }
          await plugin.utils.sleep(300);
          await plugin.chain.open_note(dst);
          await plugin.explorer.sort();
        }
      }
    }
  }
});
var commandBuilders = [
  open_prev_notes,
  open_next_notes,
  open_notes_smarter,
  sugguster_open_note,
  longform2notechain,
  longform4notechain,
  sort_file_explorer,
  clear_inlinks,
  replace_notes_with_regx,
  move_file_to_another_folder,
  chain_insert_node,
  chain_set_seq_note,
  create_new_note
];
function addCommands(plugin) {
  commandBuilders.forEach((c) => {
    plugin.addCommand(c(plugin));
  });
}
var NoteChainPlugin = class extends import_obsidian3.Plugin {
  async onload() {
    this.debug = true;
    await this.loadSettings();
    this.utils = (init_utils(), __toCommonJS(utils_exports));
    this.ob = require("obsidian");
    this.app.nc = this;
    this.editor = new NCEditor(this.app);
    this.chain = new NoteChain(this, this.editor);
    this.explorer = new NCFileExplorer(this);
    addCommands(this);
    this.addSettingTab(new NCSettingTab(this.app, this));
    console.log("Zig-Holding:regeister ufunc_on_file_open");
    this.registerEvent(
      this.app.workspace.on("file-open", this.ufunc_on_file_open)
    );
    this.registerEvent(this.app.vault.on(
      "delete",
      async (file) => {
        if (this.debug) {
          console.log("delete...");
        }
        await this.chain.chain_pop_node(file);
        await this.explorer.sort();
      }
    ));
    this.registerEvent(this.app.vault.on(
      "create",
      () => {
        if (this.debug) {
          console.log("create...");
        }
        this.explorer.sort();
      }
    ));
    this.registerEvent(this.app.vault.on(
      "rename",
      (file, oldPath) => {
        if (this.debug) {
          console.log("rename...");
        }
        this.explorer.sort();
      }
    ));
  }
  onunload() {
    console.log("Zig-Holding:unregeister ufunc_on_file_open");
    this.app.workspace.off("file-open", this.ufunc_on_file_open);
    this.explorer.unregister();
    this.explorer.sort();
  }
  console_log(...d) {
    if (this.debug) {
      console.log(...d);
    }
  }
  async ufunc_on_file_open(file) {
    let zh = await app.plugins.getPlugin("note-chain");
    if (!zh) {
      return;
    }
    if (zh.settings.refreshDataView) {
      zh.app.commands.executeCommandById(
        "dataview:dataview-force-refresh-views"
      );
    }
    if (zh.settings.refreshTasks) {
      let target = await app.plugins.getPlugin("obsidian-tasks-plugin");
      target.cache.notifySubscribers();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async clear_inlinks(tfile = this.chain.current_note, mode = "suggester") {
    let notes = this.chain.get_inlinks(tfile);
    if (notes.length) {
      if (mode === "suggester") {
        mode = await this.chain.tp_suggester(
          ["\u5220\u9664\u94FE\u63A5", "\u66FF\u6362\u94FE\u63A5", "\u5220\u9664\u6BB5\u843D"],
          [["link", "del"], ["link", "rep"], ["para", "del"]]
        );
      }
      let reg = this.editor.regexp_link(tfile, mode[0]);
      if (reg) {
        for (let note of notes) {
          let target;
          if (mode[1] === "rep") {
            target = tfile.basename;
          } else {
            target = "";
          }
          this.editor.replace(note, reg, target);
        }
      }
    }
  }
  async replace_notes_with_regx() {
    let notes = await this.chain.suggester_notes();
    if ((notes == null ? void 0 : notes.length) > 0) {
      try {
        let regs = await this.chain.tp_prompt("\u8981\u66FF\u6362\u7684\u6B63\u5219\u8868\u8FBE\u5F0F");
        if (regs == null) {
          return;
        }
        let reg = new RegExp(regs, "g");
        let target = await this.chain.tp_prompt("\u76EE\u6807\u5B57\u7B26\u4E32");
        if (target == null) {
          return;
        }
        target = target.trim().replace(
          /\\n/g,
          "\n"
        );
        console.log(regs, reg, target);
        for (let note of notes) {
          await this.editor.replace(note, reg, target);
        }
      } catch (error) {
        console.log(error);
      }
    }
  }
  async cmd_chain_insert_node() {
    let curr = this.chain.current_note;
    if (curr == null) {
      return;
    }
    let notes = await this.chain.suggester_notes(curr, false);
    if (!notes) {
      return;
    }
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    if (notes.length == 0) {
      return;
    }
    const note = await this.chain.tp_suggester(
      (file) => this.tfile_to_string(file, [], ""),
      notes
    );
    if (!note) {
      return;
    }
    let sitems = [
      "insert_node_after",
      "insert_node_before",
      "insert_node_as_head",
      "insert_node_as_tail",
      "insert_folder_after"
    ];
    let mode = await this.chain.tp_suggester(
      sitems,
      sitems,
      false,
      "Select Node Insert Mode."
    );
    if (!mode) {
      return;
    }
    console.log(typeof mode, mode);
    if (mode === "insert_node_as_head") {
      await this.chain.chain_insert_node_as_head(curr, note);
    } else if (mode === "insert_node_as_tail") {
      await this.chain.chain_insert_node_as_tail(curr, note);
    } else if (mode === "insert_node_before") {
      await this.chain.chain_insert_node_before(curr, note);
    } else if (mode === "insert_node_after") {
      await this.chain.chain_insert_node_after(curr, note);
    } else if (mode === "insert_folder_after") {
      await this.chain.chain_insert_folder_after(curr, note);
    } else {
      return;
    }
  }
  tfile_to_string(tfile, fields, seq) {
    let items = new Array();
    if (tfile == this.chain.current_note) {
      items.push("\u{1F3E0}" + tfile.basename);
    } else {
      items.push(tfile.basename);
    }
    for (let field of fields) {
      try {
        items.push(this.editor.get_frontmatter(tfile, field));
      } catch (error) {
        items.push("-");
      }
    }
    return items.join(seq);
  }
  async open_note_smarter() {
    let curr = this.chain.current_note;
    let notes = await this.chain.suggester_notes(curr, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    if (notes.length > 0) {
      let note = await this.chain.tp_suggester(
        (file) => this.chain.tfile_to_string(file),
        notes
      );
      if (note) {
        await this.chain.open_note(note);
      }
    }
  }
};
var NCSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian3.Setting(containerEl).setName("Sort File Explorer").setDesc("Sort File Explorer by Chain").addToggle(
      (text) => text.setValue(this.plugin.settings.isSortFileExplorer).onChange(async (value) => {
        this.plugin.settings.isSortFileExplorer = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.file_explorer.sort();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Sort Folder First").setDesc("Sort File Explorer Folder First").addToggle(
      (text) => text.setValue(this.plugin.settings.isFolderFirst).onChange(async (value) => {
        this.plugin.settings.isFolderFirst = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.file_explorer.sort();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("PrevChain").setDesc("Number of Prev Notes to show?").addText((text) => text.setValue(this.plugin.settings.PrevChain).onChange(async (value) => {
      this.plugin.settings.PrevChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("NextChain").setDesc("Number of Next Notes to show?").addText((text) => text.setValue(this.plugin.settings.NextChain).onChange(async (value) => {
      this.plugin.settings.NextChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("refreshDataView").setDesc("Refresh Dataview while open new file?").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshDataView).onChange(async (value) => {
        this.plugin.settings.refreshDataView = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("refreshTasks").setDesc("Refresh Tasks while open new file?").addToggle(
      (text) => text.setValue(this.plugin.settings.refreshTasks).onChange(async (value) => {
        this.plugin.settings.refreshTasks = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3V0aWxzLnRzIiwgIm1haW4udHMiLCAic3JjL05DRWRpdG9yLnRzIiwgInNyYy9Ob3RlQ2hhaW4udHMiLCAic3JjL05DRmlsZUV4cGxvcmVyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBnZXQgfSBmcm9tICdodHRwJztcclxuaW1wb3J0IHsgXHJcblx0QXBwXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF9wbHVnaW5zKGFwcDpBcHAsbmFtZTpzdHJpbmcpe1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5X3ByZWZpeF9pZChpdGVtczpBcnJheTxhbnk+LG9mZnNldD0xKXtcclxuICAgIGxldCByZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgIGZvcihsZXQgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgcmVzLnB1c2goYCR7aStvZmZzZXR9ICR7aXRlbXNbaV19YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0X2FycmF5KGl0ZW1zOkFycmF5PGFueT4pe1xyXG4gICAgaWYoaXRlbXM9PW51bGwpe3JldHVybiBbXTt9XHJcbiAgICBpZih0eXBlb2YgaXRlbXMgPT09ICdzdHJpbmcnKXtyZXR1cm4gW2l0ZW1zXTt9XHJcbiAgICBpZighKGl0ZW1zIGluc3RhbmNlb2YgQXJyYXkpKXtyZXR1cm4gW2l0ZW1zXTt9XHJcblxyXG4gICAgbGV0IHJlcyA9IFtdIGFzIGFueSBbXTtcclxuICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcyl7XHJcbiAgICAgICAgaWYodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgcmVzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfWVsc2UgaWYoaXRlbSBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdCh0aGlzLmNvbmNhdF9hcnJheShpdGVtKSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn0gIFxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNsZWVwKG1zOm51bWJlcnx1bmRlZmluZWQpe1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tfdmFsdWUodDphbnksazphbnksdjphbnksZHQ6bnVtYmVyLFQ6bnVtYmVyKXtcclxuICAgIGxldCBpID0gMDtcclxuICAgIHdoaWxlKHRba109PW51bGwgfHwgISh0W2tdPT09dikpe1xyXG4gICAgICAgIGF3YWl0IHNsZWVwKGR0KTtcclxuICAgICAgICBpID0gZHQrZHQ7XHJcbiAgICAgICAgaWYoaT5UKXticmVhazt9XHJcbiAgICB9XHJcbiAgICBpZih0W2tdICYmIHRba109PT12KXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF90cF9mdW5jKGFwcDpBcHAsdGFyZ2V0OnN0cmluZykge1xyXG5cdC8vIFx1ODNCN1x1NTNENiAgdGVtcGxhdGVyIFx1NTFGRFx1NjU3MFxyXG5cdC8vIGdldF90cF9mdW5jKFwidHAuc3lzdGVtLnByb21wdFwiKVxyXG5cclxuXHRsZXQgdGVtcGxhdGVyID0gYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFxyXG5cdFx0XCJ0ZW1wbGF0ZXItb2JzaWRpYW5cIlxyXG5cdCk7XHJcblxyXG5cdGxldCBpdGVtcyA9IHRhcmdldC5zcGxpdChcIi5cIik7XHJcblx0aWYoaXRlbXNbMF0ubG9jYWxlQ29tcGFyZShcInRwXCIpIT0wIHx8IGl0ZW1zLmxlbmd0aCE9Myl7cmV0dXJuIHVuZGVmaW5lZDt9XHJcblx0XHJcblx0bGV0IG1vZHVsZXMgPSB0ZW1wbGF0ZXIudGVtcGxhdGVyLmZ1bmN0aW9uc19nZW5lcmF0b3IuXHJcblx0XHRpbnRlcm5hbF9mdW5jdGlvbnMubW9kdWxlc19hcnJheS5maWx0ZXIoXHJcblx0XHRcdChpdGVtOmFueSk9PihpdGVtLm5hbWUubG9jYWxlQ29tcGFyZShpdGVtc1sxXSk9PTApXHJcblx0XHQpO1xyXG5cclxuXHRpZihtb2R1bGVzLmxlbmd0aD09MCl7cmV0dXJuIHVuZGVmaW5lZH1cclxuXHRcclxuXHRyZXR1cm4gbW9kdWxlc1swXS5zdGF0aWNfZnVuY3Rpb25zLmdldChpdGVtc1syXSk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0X3Byb3RvdHlwZSh0LCBlKSB7XHJcbiAgICAvLyBcdTVGNTMgZSBcdTRFMkRcdTY3MDlcdTU5MUFcdTRFMkFcdTU5MUFcdTRFMkFcdTUxRkRcdTY1NzBcdTY1RjZcdUZGMENcdThGRDRcdTU2REVcdTRFMDBcdTRFMkFcdTUxRkRcdTY1NzBcdUZGMENcdTYyNjdcdTg4NENcdTYyNDBcdTY3MDlcdTUxRkRcdTY1NzBcclxuICAgIC8vXHJcbiAgICBsZXQgciA9IE9iamVjdC5rZXlzKGUpLm1hcChpPT5zZXRfcHJvdG90eXBlX29uKHQsIGksIGVbaV0pKTtcclxuICAgIHJldHVybiByLmxlbmd0aCA9PT0gMSA/IHJbMF0gOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByLmZvckVhY2goaT0+aSgpKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRfcHJvdG90eXBlX29uKHByb3RvdHlwZSwgbmFtZSwgZnVuYykge1xyXG4gICAgLy8gcHJvdG90eXBlXHVGRjFBXHU3NkVFXHU2ODA3XHU1QkY5XHU4QzYxIE9iamVjdC5wcm90b3R5cGUgXHU2MjE2IG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGVcclxuICAgIC8vIG5hbWVcdUZGMUFcdTVDNUVcdTYwMjdcdTU0MERcclxuICAgIC8vIGZ1bmM6IFx1NEYyMFx1NTNDMlx1NEUzQSBmdW5jKHByb3RvdHlwZVtuYW1lXSlcdUZGMENcdTdFQzRcdTU0MDhcdTYyNjdcdTg4NENcdTY1QjBcdTUxRkRcdTY1NzBcdTU0OENcdTY1RTdcdTUxRkRcdTY1NzBcclxuXHRsZXQgb3JnX2Z1bmMgPSBwcm90b3R5cGVbbmFtZV1cclxuXHQgICwgaXNPd25Qcm9wZXJ0eSA9IHByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKVxyXG5cdCAgLCBmaW5hbF9mdW5jID0gZnVuYyhvcmdfZnVuYyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYob3JnX2Z1bmMpe1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihmaW5hbF9mdW5jLCBvcmdfZnVuYyk7XHJcbiAgICB9XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYSwgZmluYWxfZnVuYyk7XHJcbiAgICBwcm90b3R5cGVbbmFtZV0gPSBhO1xyXG4gICAgcmV0dXJuIHM7XHJcblxyXG5cdGZ1bmN0aW9uIGEoLi4uZCkge1xyXG4gICAgICAgIGlmKGZpbmFsX2Z1bmMgPT09IG9yZ19mdW5jICYmIHByb3RvdHlwZVtuYW1lXSA9PT0gYSl7XHJcbiAgICAgICAgICAgIHMoKTtcclxuICAgICAgICB9XHJcblx0XHRyZXR1cm4gIGZpbmFsX2Z1bmMuYXBwbHkodGhpcywgZCk7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHMoKSB7XHJcbiAgICAgICAgaWYocHJvdG90eXBlW25hbWVdID09PSBhKXtcclxuICAgICAgICAgICAgaWYoaXNPd25Qcm9wZXJ0eSl7XHJcbiAgICAgICAgICAgICAgICBwcm90b3R5cGVbbmFtZV0gPSBvcmdfZnVuYztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvdG90eXBlW25hbWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGZpbmFsX2Z1bmMgIT09IG9yZ19mdW5jKXtcclxuICAgICAgICAgICAgZmluYWxfZnVuYyA9IG9yZ19mdW5jO1xyXG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYSwgb3JnX2Z1bmMgfHwgRnVuY3Rpb24pXHJcbiAgICAgICAgfVxyXG5cdH1cclxufSIsICJpbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsXHJcblx0VEZpbGUsVEZvbGRlclxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcblxyXG5pbXBvcnQge05DRWRpdG9yfSBmcm9tICcuL3NyYy9OQ0VkaXRvcic7XHJcbmltcG9ydCB7Tm90ZUNoYWlufSBmcm9tICcuL3NyYy9Ob3RlQ2hhaW4nO1xyXG5pbXBvcnQge05DRmlsZUV4cGxvcmVyfSBmcm9tICcuL3NyYy9OQ0ZpbGVFeHBsb3Jlcic7XHJcbmltcG9ydCB7Z2V0X3RwX2Z1bmN9IGZyb20gJy4vc3JjL3V0aWxzJ1xyXG5cclxuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXHJcblxyXG5pbnRlcmZhY2UgTkNTZXR0aW5ncyB7XHJcblx0UHJldkNoYWluOnN0cmluZztcclxuXHROZXh0Q2hhaW46c3RyaW5nO1xyXG5cdHJlZnJlc2hEYXRhVmlldzpib29sZWFuO1xyXG5cdHJlZnJlc2hUYXNrczpib29sZWFuLFxyXG5cdGlzU29ydEZpbGVFeHBsb3Jlcjpib29sZWFuLFxyXG5cdGlzRm9sZGVyRmlyc3Q6Ym9vbGVhbixcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTkNTZXR0aW5ncyA9IHtcclxuXHRQcmV2Q2hhaW4gOiBcIjEwXCIsXHJcblx0TmV4dENoYWluIDogXCIxMFwiLFxyXG5cdHJlZnJlc2hEYXRhVmlldyA6IHRydWUsXHJcblx0cmVmcmVzaFRhc2tzIDogdHJ1ZSxcclxuXHRpc1NvcnRGaWxlRXhwbG9yZXIgOiB0cnVlLFxyXG5cdGlzRm9sZGVyRmlyc3QgOiB0cnVlXHJcbn1cclxuXHJcbmNvbnN0IGxvbmdmb3JtMm5vdGVjaGFpbiA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiBcImxvbmdmb3JtMm5vdGVjaGFpblwiLFxyXG4gICAgbmFtZTogXCJSZXNldCBOb3RlIENoYWluIGJ5IExvbmdGb3JtLlwiLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRsZXQgY3VyciA9IHBsdWdpbi5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZihjdXJyID09IG51bGwpe3JldHVybjt9XHJcblx0XHRhcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKFxyXG5cdFx0XHRjdXJyLFxyXG5cdFx0XHRmbSA9PntcclxuXHRcdFx0XHRpZihjdXJyPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0XHRcdGlmKGZtWydsb25nZm9ybSddPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0XHRcdGxldCBzY2VuZXMgPSBwbHVnaW4udXRpbHMuY29uY2F0X2FycmF5KGZtLmxvbmdmb3JtLnNjZW5lcyk7XHJcblx0XHRcdFx0bGV0IGlnbm9yZWRGaWxlcyA9IHBsdWdpbi51dGlscy5jb25jYXRfYXJyYXkoZm0ubG9uZ2Zvcm0uaWdub3JlZEZpbGVzKTtcclxuXHRcdFx0XHRpZ25vcmVkRmlsZXMgPSBpZ25vcmVkRmlsZXMuZmlsdGVyKChmOnN0cmluZyk9PiFzY2VuZXMuY29udGFpbnMoZikpO1xyXG5cdFx0XHRcdGxldCBub3RlcyA9IHBsdWdpbi51dGlscy5jb25jYXRfYXJyYXkoW3NjZW5lcyxpZ25vcmVkRmlsZXNdKTtcclxuXHRcdFx0XHRub3RlcyA9IG5vdGVzLm1hcCgoZjpzdHJpbmcpPT5wbHVnaW4uY2hhaW4udHBfZmluZF90ZmlsZShmKSk7XHJcblx0XHRcdFx0aWYoY3Vyci5wYXJlbnQ9PW51bGwpe3JldHVybn07XHJcblx0XHRcdFx0bGV0IHRmaWxlcyA9IHBsdWdpbi5jaGFpbi5nZXRfdGZpbGVzX29mX2ZvbGRlcihjdXJyLnBhcmVudCkuZmlsdGVyKChmOmFueSk9PiFub3Rlcy5jb250YWlucyhmKSk7XHJcblx0XHRcdFx0bm90ZXMgPSBwbHVnaW4udXRpbHMuY29uY2F0X2FycmF5KFt0ZmlsZXMsbm90ZXNdKTtcclxuXHRcdFx0XHRwbHVnaW4uY2hhaW4uY2hhaW5fY29uY2F0X3RmaWxlcyhub3Rlcyk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgbG9uZ2Zvcm00bm90ZWNoYWluID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6IFwibG9uZ2Zvcm00bm90ZWNoYWluXCIsXHJcbiAgICBuYW1lOiBcIlJlc2V0IExvbmdGb3JtIFNlY25lcyBieSBOb3RlIENoYWluLlwiLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRsZXQgY3VyciA9IHBsdWdpbi5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZihjdXJyPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0YXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihcclxuXHRcdFx0Y3VycixcclxuXHRcdFx0Zm0gPT57XHJcblx0XHRcdFx0aWYoY3Vycj09bnVsbCl7cmV0dXJuO31cclxuXHRcdFx0XHRpZihjdXJyLnBhcmVudD09bnVsbCl7cmV0dXJufTtcclxuXHJcblx0XHRcdFx0aWYoZm1bJ2xvbmdmb3JtJ109PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0bGV0IG5vdGVzID0gcGx1Z2luLmNoYWluLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGN1cnIucGFyZW50KTtcclxuXHRcdFx0XHRub3RlcyA9IHBsdWdpbi5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbihub3Rlcyk7XHJcblx0XHRcdFx0Zm0ubG9uZ2Zvcm0uc2NlbmVzID0gbm90ZXMubWFwKChmOlRGaWxlKT0+Zi5iYXNlbmFtZSk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IHNvcnRfZmlsZV9leHBsb3JlciA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiBcInNvcnRfZmlsZV9leHBsb3JlclwiLFxyXG4gICAgbmFtZTogXCJTb3J0IEZpbGUgRXhwbG9yZXIgYnkgTm90ZSBDaGFpbi5cIixcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0YXdhaXQgcGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3Qgb3Blbl9ub3Rlc19zbWFydGVyID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdvcGVuX25vdGVzX3NtYXJ0ZXInLFxyXG5cdG5hbWU6ICdPcGVuIG5vdGUgc21hcnRlcicsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5vcGVuX25vdGVfc21hcnRlcigpO1xyXG5cdH1cclxufSlcclxuXHJcbmNvbnN0IHN1Z2d1c3Rlcl9vcGVuX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ3N1Z2d1c3Rlcl9vcGVuX25vdGUnLFxyXG5cdG5hbWU6ICdPcGVuIG5vdGUnLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4uY2hhaW4uc3VnZ3VzdGVyX29wZW5fbm90ZSgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBvcGVuX3ByZXZfbm90ZXMgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ29wZW5fcHJldl9ub3RlcycsXHJcblx0bmFtZTogJ09wZW4gcHJldiBub3RlJyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLmNoYWluLm9wZW5fcHJldl9ub3RlcygpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBvcGVuX25leHRfbm90ZXMgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ29wZW5fbmV4dF9ub3RlcycsXHJcblx0bmFtZTogJ09wZW4gbmV4dCBub3RlJyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLmNoYWluLm9wZW5fbmV4dF9ub3RlcygpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuY29uc3QgY2xlYXJfaW5saW5rcyA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY2xlYXJfaW5saW5rcycsXHJcblx0bmFtZTogJ0NsZWFyIGlubGlua3Mgb2YgY3VycmVudCBmaWxlJyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLmNsZWFyX2lubGlua3MoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXInLFxyXG5cdG5hbWU6ICdNb3ZlIGN1cnJlbnQgZmlsZSB0byBhbm90aGVyIGZvbGRlcicsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jaGFpbi5jbWRfbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4ID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdyZXBsYWNlX25vdGVzX3dpdGhfcmVneCcsXHJcblx0bmFtZTogJ1JlcGxhY2UgYnkgcmVnZXgnLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4ucmVwbGFjZV9ub3Rlc193aXRoX3JlZ3goKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY2hhaW5faW5zZXJ0X25vZGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NoYWluX2luc2VydF9ub2RlJyxcclxuXHRuYW1lOiAnSW5zZXJ0IG5vZGUgb2YgY2hhaW4nLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4uY21kX2NoYWluX2luc2VydF9ub2RlKCk7XHJcblx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCg1MDApO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFpbl9zZXRfc2VxX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NoYWluX3NldF9zZXFfbm90ZScsXHJcblx0bmFtZTogJ1Jlc2V0IHRoZSBjaGFpbiBvZiBjdXJyZW50IGZvbGRlciEnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4uY2hhaW4uY2hhaW5fc3VnZ2VzdGVyX3RmaWxlcygpO1xyXG5cdFx0cGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlX25ld19ub3RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjcmVhdGVfbmV3X25vdGUnLFxyXG5cdG5hbWU6ICdDcmVhdGUgbmV3IG5vdGUuJyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IHRhcmdldHMgPSB7XHJcblx0XHRcdCdcdTZERkJcdTUyQTBcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnIDonY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXInLFxyXG5cdFx0XHQnXHU5NEZFXHU1QzNFXHU2REZCXHU1MkEwXHU3QjE0XHU4QkIwJyA6ICdjaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsJyxcclxuXHRcdFx0J1x1NkRGQlx1NTJBMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCcgOiAnY2hhaW5faW5zZXJ0X25vZGVfYmVmb3JlJyxcclxuXHRcdFx0J1x1OTRGRVx1NTkzNFx1NkRGQlx1NTJBMFx1N0IxNFx1OEJCMCcgOiAnY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZCcsXHJcblx0XHRcdCdcdTY1RTBcdTk0RkVcdTYzQTUnIDogYG51bGxgLFxyXG5cdFx0fVxyXG5cdFx0bGV0IHRhcmdldCA9IGF3YWl0IHBsdWdpbi5jaGFpbi50cF9zdWdnZXN0ZXIoXHJcblx0XHRcdHBsdWdpbi51dGlscy5hcnJheV9wcmVmaXhfaWQoT2JqZWN0LmtleXModGFyZ2V0cykpLCBcclxuXHRcdFx0T2JqZWN0LnZhbHVlcyh0YXJnZXRzKSwgXHJcblx0XHRcdHRydWUsIFxyXG5cdFx0XHQnXHU5MDA5XHU2MkU5XHU3QjE0XHU4QkIwXHU3QzdCXHU1NzhCLidcclxuXHRcdCk7XHJcblx0XHRpZighdGFyZ2V0KXtyZXR1cm47fVxyXG5cdFx0bGV0IG5hbWUgPSBhd2FpdCBwbHVnaW4uY2hhaW4udHBfcHJvbXB0KCdcdThCRjdcdThGOTNcdTUxNjVcdTY1ODdcdTRFRjZcdTU0MEQnKTtcclxuXHRcdGlmKG5hbWUpe1xyXG5cdFx0XHRsZXQgY3VyciA9IHBsdWdpbi5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRcdGlmKGN1cnIgJiYgY3Vyci5wYXJlbnQpe1xyXG5cdFx0XHRcdGxldCBwYXRoID0gY3Vyci5wYXJlbnQucGF0aCsnLycrbmFtZSsnLm1kJztcclxuXHRcdFx0XHRsZXQgZHN0ID0gYXdhaXQgcGx1Z2luLmNoYWluLmdldF90ZmlsZShwYXRoKTtcclxuXHRcdFx0XHRpZihkc3Q9PW51bGwpe1xyXG5cdFx0XHRcdFx0bGV0IGZ1bmMgPSBwbHVnaW4udXRpbHMuZ2V0X3RwX2Z1bmMocGx1Z2luLmFwcCwndHAuZmlsZS5jcmVhdGVfbmV3JylcclxuXHRcdFx0XHRcdGRzdCA9IGF3YWl0IGZ1bmMoXHJcblx0XHRcdFx0XHRcdCcnLG5hbWUsXHJcblx0XHRcdFx0XHRcdGZhbHNlLGN1cnIucGFyZW50XHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0YXdhaXQgcGx1Z2luLnV0aWxzLnNsZWVwKDMwMCk7XHJcblx0XHRcdFx0XHRpZighKHRhcmdldD09PSdudWxsJykpe1xyXG5cdFx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uY2hhaW5bdGFyZ2V0XShkc3QsY3Vycik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRhd2FpdCBwbHVnaW4udXRpbHMuc2xlZXAoMzAwKTtcclxuXHRcdFx0XHRcdGF3YWl0IHBsdWdpbi5jaGFpbi5vcGVuX25vdGUoZHN0KTtcclxuXHRcdFx0XHRcdGF3YWl0IHBsdWdpbi5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHRcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY29tbWFuZEJ1aWxkZXJzID0gW1xyXG5cdG9wZW5fcHJldl9ub3RlcyxcclxuXHRvcGVuX25leHRfbm90ZXMsXHJcblx0b3Blbl9ub3Rlc19zbWFydGVyLFxyXG5cdHN1Z2d1c3Rlcl9vcGVuX25vdGUsXHJcblx0bG9uZ2Zvcm0ybm90ZWNoYWluLFxyXG5cdGxvbmdmb3JtNG5vdGVjaGFpbixcclxuXHRzb3J0X2ZpbGVfZXhwbG9yZXIsXHJcblx0Y2xlYXJfaW5saW5rcyxcclxuXHRyZXBsYWNlX25vdGVzX3dpdGhfcmVneCxcclxuXHRtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIsXHJcblx0Y2hhaW5faW5zZXJ0X25vZGUsXHJcblx0Y2hhaW5fc2V0X3NlcV9ub3RlLFxyXG5cdGNyZWF0ZV9uZXdfbm90ZVxyXG5dO1xyXG5cclxuZnVuY3Rpb24gYWRkQ29tbWFuZHMocGx1Z2luOk5vdGVDaGFpblBsdWdpbikge1xyXG4gICAgY29tbWFuZEJ1aWxkZXJzLmZvckVhY2goKGMpID0+IHtcclxuICAgICAgICBwbHVnaW4uYWRkQ29tbWFuZChjKHBsdWdpbikpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVDaGFpblBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IE5DU2V0dGluZ3M7XHJcblx0Y2hhaW4gOiBOb3RlQ2hhaW47XHJcblx0ZWRpdG9yIDogTkNFZGl0b3I7IFxyXG5cdGV4cGxvcmVyIDogTkNGaWxlRXhwbG9yZXI7XHJcblx0ZGVidWc6Ym9vbGVhbjtcclxuXHR1dGlsczphbnk7XHJcblx0b2I6YW55O1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHR0aGlzLmRlYnVnPXRydWU7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHJcblx0XHR0aGlzLnV0aWxzID0gcmVxdWlyZSgnLi9zcmMvdXRpbHMnKTtcclxuXHRcdHRoaXMub2IgPSByZXF1aXJlKCdvYnNpZGlhbicpO1xyXG5cdFx0dGhpcy5hcHAubmMgPSB0aGlzO1xyXG5cdFx0XHJcblx0XHR0aGlzLmVkaXRvciA9IG5ldyBOQ0VkaXRvcih0aGlzLmFwcCk7XHJcblx0XHR0aGlzLmNoYWluID0gbmV3IE5vdGVDaGFpbih0aGlzLHRoaXMuZWRpdG9yKTtcclxuXHRcdHRoaXMuZXhwbG9yZXIgPSBuZXcgTkNGaWxlRXhwbG9yZXIodGhpcyk7XHJcblxyXG5cdFx0YWRkQ29tbWFuZHModGhpcyk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTkNTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coJ1ppZy1Ib2xkaW5nOnJlZ2Vpc3RlciB1ZnVuY19vbl9maWxlX29wZW4nKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCB0aGlzLnVmdW5jX29uX2ZpbGVfb3BlbilcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcImRlbGV0ZVwiLCBhc3luYyAoZmlsZTogVEZpbGUpID0+IHtcclxuXHRcdFx0XHRpZih0aGlzLmRlYnVnKXtjb25zb2xlLmxvZyhcImRlbGV0ZS4uLlwiKTt9XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9wb3Bfbm9kZShmaWxlKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0KSlcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oXHJcblx0XHRcdFwiY3JlYXRlXCIsICgpID0+IHtcclxuXHRcdFx0XHRpZih0aGlzLmRlYnVnKXtjb25zb2xlLmxvZyhcImNyZWF0ZS4uLlwiKTt9XHJcblx0XHRcdFx0dGhpcy5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdCkpXHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcInJlbmFtZVwiLCAoZmlsZTogVEZpbGUsb2xkUGF0aDpzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRpZih0aGlzLmRlYnVnKXtjb25zb2xlLmxvZyhcInJlbmFtZS4uLlwiKTt9XHJcblx0XHRcdFx0dGhpcy5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdCkpXHJcblx0fVxyXG5cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHRjb25zb2xlLmxvZygnWmlnLUhvbGRpbmc6dW5yZWdlaXN0ZXIgdWZ1bmNfb25fZmlsZV9vcGVuJyk7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub2ZmKCdmaWxlLW9wZW4nLCB0aGlzLnVmdW5jX29uX2ZpbGVfb3Blbik7XHJcblx0XHR0aGlzLmV4cGxvcmVyLnVucmVnaXN0ZXIoKTtcclxuXHRcdHRoaXMuZXhwbG9yZXIuc29ydCgpO1xyXG5cdH1cclxuXHJcblxyXG5cdGNvbnNvbGVfbG9nKC4uLmQ6YW55KXtcclxuXHRcdGlmKHRoaXMuZGVidWcpe1xyXG5cdFx0XHRjb25zb2xlLmxvZyguLi5kKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHVmdW5jX29uX2ZpbGVfb3BlbihmaWxlOlRGaWxlKXtcclxuXHRcdGxldCB6aCA9IGF3YWl0IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcIm5vdGUtY2hhaW5cIik7XHJcblx0XHRpZighemgpe3JldHVybjt9XHJcblx0XHRpZih6aC5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcpe1xyXG5cdFx0XHR6aC5hcHAuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmRCeUlkKFxyXG5cdFx0XHRcdFwiZGF0YXZpZXc6ZGF0YXZpZXctZm9yY2UtcmVmcmVzaC12aWV3c1wiXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHRcdGlmKHpoLnNldHRpbmdzLnJlZnJlc2hUYXNrcyl7XHJcblx0XHRcdGxldCB0YXJnZXQgPSBhd2FpdCBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJvYnNpZGlhbi10YXNrcy1wbHVnaW5cIik7XHJcblx0XHRcdHRhcmdldC5jYWNoZS5ub3RpZnlTdWJzY3JpYmVycygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjbGVhcl9pbmxpbmtzKHRmaWxlPXRoaXMuY2hhaW4uY3VycmVudF9ub3RlLG1vZGU9J3N1Z2dlc3Rlcicpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5jaGFpbi5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHRpZihub3Rlcy5sZW5ndGgpe1xyXG5cdFx0XHRpZihtb2RlPT09J3N1Z2dlc3Rlcicpe1xyXG5cdFx0XHRcdG1vZGUgPSBhd2FpdCB0aGlzLmNoYWluLnRwX3N1Z2dlc3RlcihcclxuXHRcdFx0XHRcdFtcIlx1NTIyMFx1OTY2NFx1OTRGRVx1NjNBNVwiLCdcdTY2RkZcdTYzNjJcdTk0RkVcdTYzQTUnLFwiXHU1MjIwXHU5NjY0XHU2QkI1XHU4NDNEXCIsXSxcclxuXHRcdFx0XHRcdFtbJ2xpbmsnLCdkZWwnXSxbJ2xpbmsnLCdyZXAnXSxbJ3BhcmEnLCdkZWwnXV1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCByZWcgPSB0aGlzLmVkaXRvci5yZWdleHBfbGluayh0ZmlsZSxtb2RlWzBdKTtcclxuXHRcdFx0aWYocmVnKXtcclxuXHRcdFx0XHRmb3IobGV0IG5vdGUgb2Ygbm90ZXMpe1xyXG5cdFx0XHRcdFx0bGV0IHRhcmdldDtcclxuXHRcdFx0XHRcdGlmKG1vZGVbMV09PT0ncmVwJyl7XHJcblx0XHRcdFx0XHRcdHRhcmdldD10ZmlsZS5iYXNlbmFtZTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQ9JydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4KCl7XHJcblx0XHRsZXQgbm90ZXMgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2dlc3Rlcl9ub3RlcygpO1xyXG5cdFx0aWYobm90ZXM/Lmxlbmd0aD4wKXtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRsZXQgcmVncyA9IGF3YWl0IHRoaXMuY2hhaW4udHBfcHJvbXB0KCdcdTg5ODFcdTY2RkZcdTYzNjJcdTc2ODRcdTZCNjNcdTUyMTlcdTg4NjhcdThGQkVcdTVGMEYnKTtcclxuXHRcdFx0XHRpZihyZWdzPT1udWxsKXtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IHJlZyA9IG5ldyBSZWdFeHAocmVncywnZycpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGxldCB0YXJnZXQgPSBhd2FpdCB0aGlzLmNoYWluLnRwX3Byb21wdCgnXHU3NkVFXHU2ODA3XHU1QjU3XHU3QjI2XHU0RTMyJyk7XHJcblx0XHRcdFx0aWYodGFyZ2V0PT1udWxsKXtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGFyZ2V0ID0gdGFyZ2V0LnRyaW0oKS5yZXBsYWNlKFxyXG5cdFx0XHRcdFx0L1xcXFxuL2csJ1xcbidcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlZ3MscmVnLHRhcmdldCk7XHJcblx0XHRcdFx0Zm9yKGxldCBub3RlIG9mIG5vdGVzKXtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBjbWRfY2hhaW5faW5zZXJ0X25vZGUoKXtcclxuXHRcdGxldCBjdXJyID0gdGhpcy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZihjdXJyPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0bGV0IG5vdGVzID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXJfbm90ZXMoY3VycixmYWxzZSk7XHJcblx0XHRpZighbm90ZXMpe3JldHVybn1cclxuXHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlcyhub3RlcyxbJ210aW1lJywneCddKTtcclxuXHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbihub3Rlcyk7XHJcblx0XHQvL25vdGVzID0gbm90ZXMuZmlsdGVyKGY9PmYhPWN1cnIpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG5cdFx0Y29uc3Qgbm90ZSA9IGF3YWl0IHRoaXMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHQoZmlsZTpURmlsZSkgPT4gdGhpcy50ZmlsZV90b19zdHJpbmcoZmlsZSxbXSxcIlwiKSwgXHJcblx0XHRcdG5vdGVzXHJcblx0XHQpOyBcclxuXHRcdFxyXG5cdFx0aWYoIW5vdGUpe3JldHVybjt9XHJcblx0XHRcclxuXHRcdGxldCBzaXRlbXMgPSBbXHJcblx0XHRcdFwiaW5zZXJ0X25vZGVfYWZ0ZXJcIixcclxuXHRcdFx0XCJpbnNlcnRfbm9kZV9iZWZvcmVcIixcclxuXHRcdFx0XCJpbnNlcnRfbm9kZV9hc19oZWFkXCIsXHJcblx0XHRcdFwiaW5zZXJ0X25vZGVfYXNfdGFpbFwiLFxyXG5cdFx0XHRcImluc2VydF9mb2xkZXJfYWZ0ZXJcIixcclxuXHRcdF07XHJcblx0XHRsZXQgbW9kZSA9IGF3YWl0IHRoaXMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRzaXRlbXMsc2l0ZW1zLGZhbHNlLFwiU2VsZWN0IE5vZGUgSW5zZXJ0IE1vZGUuXCJcclxuXHRcdCk7XHJcblx0XHRcclxuXHRcdGlmKCFtb2RlKXtyZXR1cm47fVxyXG5cclxuXHRcdGNvbnNvbGUubG9nKHR5cGVvZihtb2RlKSxtb2RlKTtcclxuXHJcblx0XHRpZihtb2RlPT09J2luc2VydF9ub2RlX2FzX2hlYWQnKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hc19oZWFkKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J2luc2VydF9ub2RlX2FzX3RhaWwnKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J2luc2VydF9ub2RlX2JlZm9yZScpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2JlZm9yZShjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdpbnNlcnRfbm9kZV9hZnRlcicpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FmdGVyKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J2luc2VydF9mb2xkZXJfYWZ0ZXInKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfZm9sZGVyX2FmdGVyKGN1cnIsbm90ZSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblx0XHJcblx0dGZpbGVfdG9fc3RyaW5nKHRmaWxlOlRGaWxlLGZpZWxkczpBcnJheTxzdHJpbmc+LHNlcTpzdHJpbmcpe1xyXG5cdFx0bGV0IGl0ZW1zID0gbmV3IEFycmF5KCk7XHJcblx0XHRpZih0ZmlsZT09dGhpcy5jaGFpbi5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRpdGVtcy5wdXNoKCdcdUQ4M0NcdURGRTAnICsgdGZpbGUuYmFzZW5hbWUpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aXRlbXMucHVzaCh0ZmlsZS5iYXNlbmFtZSlcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Zm9yKGxldCBmaWVsZCBvZiBmaWVsZHMpe1xyXG5cdFx0XHR0cnl7XHJcblx0XHRcdFx0aXRlbXMucHVzaCh0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIodGZpbGUsZmllbGQpKTtcclxuXHRcdFx0fWNhdGNoKGVycm9yKXtcclxuXHRcdFx0XHRpdGVtcy5wdXNoKFwiLVwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGl0ZW1zLmpvaW4oc2VxKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9wZW5fbm90ZV9zbWFydGVyKCl7XHJcblx0XHQvLyBcdTk0RkVcdTVGMEZcdThDMDNcdTc1MjhcclxuXHRcdGxldCBjdXJyID0gdGhpcy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRsZXQgbm90ZXMgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2dlc3Rlcl9ub3RlcyhjdXJyLGZhbHNlKVxyXG5cdFx0XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsWydtdGltZScsJ3gnXSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgbm90ZSA9IGF3YWl0IHRoaXMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdChmaWxlOlRGaWxlKSA9PiB0aGlzLmNoYWluLnRmaWxlX3RvX3N0cmluZyhmaWxlKSwgXHJcblx0XHRcdFx0bm90ZXNcclxuXHRcdFx0KVxyXG5cdFx0XHRpZihub3RlKXtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLm9wZW5fbm90ZShub3RlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIE5DU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTm90ZUNoYWluUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoJ1NvcnQgRmlsZSBFeHBsb3JlcicpXHJcblx0XHRcdFx0LnNldERlc2MoJ1NvcnQgRmlsZSBFeHBsb3JlciBieSBDaGFpbicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1NvcnRGaWxlRXhwbG9yZXIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlzU29ydEZpbGVFeHBsb3JlciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuZmlsZV9leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgnU29ydCBGb2xkZXIgRmlyc3QnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTb3J0IEZpbGUgRXhwbG9yZXIgRm9sZGVyIEZpcnN0JylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlzRm9sZGVyRmlyc3QpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlzRm9sZGVyRmlyc3QgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdQcmV2Q2hhaW4nKVxyXG5cdFx0XHQuc2V0RGVzYygnTnVtYmVyIG9mIFByZXYgTm90ZXMgdG8gc2hvdz8nKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLlByZXZDaGFpbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnTmV4dENoYWluJylcclxuXHRcdFx0LnNldERlc2MoJ051bWJlciBvZiBOZXh0IE5vdGVzIHRvIHNob3c/JylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLk5leHRDaGFpbilcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5OZXh0Q2hhaW4gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKSAgXHJcblx0XHRcdFx0LnNldE5hbWUoJ3JlZnJlc2hEYXRhVmlldycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1JlZnJlc2ggRGF0YXZpZXcgd2hpbGUgb3BlbiBuZXcgZmlsZT8nKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaERhdGFWaWV3KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSgncmVmcmVzaFRhc2tzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnUmVmcmVzaCBUYXNrcyB3aGlsZSBvcGVuIG5ldyBmaWxlPycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoVGFza3MpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hUYXNrcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IFxyXG5cdEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG5cdFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxcclxuXHRURmlsZSxURm9sZGVyXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTkNFZGl0b3J7XHJcblx0YXBwOkFwcDtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOkFwcCl7XHJcblx0XHR0aGlzLmFwcCA9IGFwcDtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNldF9mcm9udG1hdHRlcih0ZmlsZTpURmlsZSxrZXk6c3RyaW5nLHZhbHVlOmFueSl7XHJcblx0XHRsZXQgcHJldiA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGtleSk7XHJcblx0XHRpZihwcmV2PT09dmFsdWUpe3JldHVybjt9XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKHRmaWxlLGZtID0+e1xyXG5cdFx0XHRjb25zb2xlLmxvZyhgJHt0ZmlsZS5iYXNlbmFtZX0tLS0ke2tleX0tLS0ke3ZhbHVlfWApO1xyXG5cdFx0XHRmbVtrZXldID0gdmFsdWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldF9mcm9udG1hdHRlcih0ZmlsZTpURmlsZSxrZXk6YW55KXtcclxuXHRcdGxldCBtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0aWYobWV0YT8uZnJvbnRtYXR0ZXIpe1xyXG5cdFx0XHRyZXR1cm4gbWV0YS5mcm9udG1hdHRlcltrZXldO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmVnZXhwX2xpbmsodGZpbGU6VEZpbGUsbW9kZTpzdHJpbmcpe1xyXG5cdFx0Ly9bW25vdGV8fGFsaWFzXV1cclxuXHRcdGlmKG1vZGU9PT0nbGluaycpe1xyXG5cdFx0XHRyZXR1cm4gbmV3IFJlZ0V4cChgXFxcXFtcXFxcWyR7dGZpbGUuYmFzZW5hbWV9XFxcXHw/LipcXFxcXVxcXFxdYCwnZycpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvL3BhcmFncmFwaFxyXG5cdFx0aWYobW9kZT09PSdwYXJhJyl7XHJcblx0XHRcdHJldHVybiBuZXcgUmVnRXhwKGAuKlxcXFxbXFxcXFske3RmaWxlLmJhc2VuYW1lfVxcXFx8Py4qXFxcXF1cXFxcXS4qYCwnZycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVwbGFjZSh0ZmlsZTpURmlsZSxyZWdleDphbnksdGFyZ2V0OnN0cmluZyl7XHJcblx0XHRpZih0eXBlb2YgcmVnZXggPT09ICdzdHJpbmcnKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQucHJvY2Vzcyh0ZmlsZSwoZGF0YSk9PntcclxuXHRcdFx0XHRpZihkYXRhLmluZGV4T2YocmVnZXgpPi0xKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdSZXBsYWNlOiAnLHRmaWxlLnBhdGgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGEucmVwbGFjZShyZWdleCwgdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pXHJcblx0XHR9ZWxzZSBpZihyZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LnByb2Nlc3ModGZpbGUsKGRhdGEpPT57XHJcblx0XHRcdFx0aWYoZGF0YS5tYXRjaChyZWdleCkpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1JlcGxhY2U6ICcsdGZpbGUucGF0aCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YS5yZXBsYWNlKHJlZ2V4LCB0YXJnZXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcbn0iLCAiXHJcbmltcG9ydCB7IFxyXG5cdEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG5cdFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxcclxuXHRUQWJzdHJhY3RGaWxlLFxyXG5cdFRGaWxlLFRGb2xkZXJcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQge05vdGVDaGFpblBsdWdpbn0gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IHtOQ0VkaXRvcn0gZnJvbSAnLi9OQ0VkaXRvcic7XHJcbmltcG9ydCB7Z2V0X3RwX2Z1bmN9IGZyb20gJy4vdXRpbHMnXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE5vdGVDaGFpbntcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0cHJldjpzdHJpbmc7XHJcblx0bmV4dDpzdHJpbmc7XHJcblx0ZWRpdG9yOk5DRWRpdG9yO1xyXG5cdGNoaWxkcmVuOnt9O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luLGVkaXRvcjpOQ0VkaXRvcixwcmV2PVwiUHJldk5vdGVcIixuZXh0PVwiTmV4dE5vdGVcIikge1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmFwcCA9IHBsdWdpbi5hcHA7XHJcblx0XHR0aGlzLmVkaXRvciA9IG5ldyBOQ0VkaXRvcih0aGlzLmFwcCk7XHJcblx0XHRcclxuXHRcdHRoaXMucHJldiA9IHByZXY7XHJcblx0XHR0aGlzLm5leHQgPSBuZXh0O1xyXG5cdFx0dGhpcy5pbml0X2NoaWxkcmVuKCk7XHJcblx0fVxyXG4gICAgXHJcblx0aW5pdF9jaGlsZHJlbigpe1xyXG5cdFx0dGhpcy5jaGlsZHJlbiA9IHt9O1xyXG5cdFx0Zm9yKGxldCBmIG9mIHRoaXMuZ2V0X2FsbF9mb2xkZXJzKCkpe1xyXG5cdFx0XHR0aGlzLmNoaWxkcmVuW2YucGF0aF0gPSB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKGYuY2hpbGRyZW4pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0IHRwX2ZpbmRfdGZpbGUoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuZmlsZS5maW5kX3RmaWxlJyk7XHJcblx0fVxyXG5cclxuXHRnZXQgdHBfc3VnZ2VzdGVyKCl7XHJcblx0XHRyZXR1cm4gZ2V0X3RwX2Z1bmModGhpcy5hcHAsJ3RwLnN5c3RlbS5zdWdnZXN0ZXInKTtcclxuXHR9XHJcblxyXG5cdGdldCB0cF9wcm9tcHQoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuc3lzdGVtLnByb21wdCcpO1xyXG5cdH1cclxuXHJcblx0Z2V0X2FsbF9mb2xkZXJzKHNvcnRfbW9kZT0nJyl7XHJcblx0XHRyZXR1cm4gdGhpcy5hcHAudmF1bHQuZ2V0QWxsRm9sZGVycygpO1xyXG5cdH1cclxuXHJcblx0Z2V0X2FsbF90ZmlsZXMoc29ydF9tb2RlPScnKXtcclxuXHRcdGxldCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdGlmKCEoc29ydF9tb2RlPT09JycpKXtcclxuXHRcdFx0dGhpcy5zb3J0X3RmaWxlcyhmaWxlcyxzb3J0X21vZGU9c29ydF9tb2RlKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblx0XHJcblx0c29ydF9mb2xkZXJzX2J5X210aW1lKGZvbGRlcnM6QXJyYXk8VEZvbGRlcj4scmV2ZXJzZT10cnVlKXtcclxuXHRcdGZ1bmN0aW9uIHVmdW5jKGY6VEZvbGRlcil7XHJcblx0XHRcdHJldHVybiBNYXRoLm1heChcclxuXHRcdFx0XHQuLi5mLmNoaWxkcmVuLmZpbHRlcigoZjpURmlsZSk9PmYuYmFzZW5hbWUpLm1hcCgoZjpURmlsZSk9PmYuc3RhdFxyXG5cdFx0XHRcdC5tdGltZSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0bGV0IHJlcyA9IGZvbGRlcnMuc29ydCgoYSxiKT0+dWZ1bmMoYSktdWZ1bmMoYikpO1xyXG5cdFx0aWYocmV2ZXJzZSl7XHJcblx0XHRcdHJlcyA9IHJlcy5yZXZlcnNlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY21kX21vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcih0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgZm9sZGVycyA9IHRoaXMuZ2V0X2FsbF9mb2xkZXJzKCk7XHJcblx0XHRmb2xkZXJzID0gdGhpcy5zb3J0X2ZvbGRlcnNfYnlfbXRpbWUoZm9sZGVyc1xyXG5cdFx0KS5maWx0ZXIoZj0+ZiE9dGZpbGUucGFyZW50KTtcclxuXHJcblx0XHRpZih0ZmlsZS5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0Zm9sZGVycyA9IGZvbGRlcnMuZmlsdGVyKChmOlRGaWxlKT0+dGhpcy5maWx0ZXJfdXNlcl9pZ25vcmUoZikpO1xyXG5cdFx0fVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IGZvbGRlciA9IGF3YWl0IHRoaXMudHBfc3VnZ2VzdGVyKChmOlRGaWxlKT0+Zi5wYXRoLGZvbGRlcnMpO1xyXG5cdFx0XHQvLyBcdTc5RkJcdTUyQThcdTdCMTRcdThCQjBcclxuXHRcdFx0bGV0IGRzdCA9IGZvbGRlci5wYXRoK1wiL1wiK3RmaWxlLmJhc2VuYW1lK1wiLlwiK3RmaWxlLmV4dGVuc2lvbjtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZSh0ZmlsZSxkc3QpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZpbHRlcl91c2VyX2lnbm9yZShub3RlOlRGaWxlKXtcclxuXHRcdGlmKCEodGhpcy5hcHAudmF1bHQuY29uZmlnLmF0dGFjaG1lbnRGb2xkZXJQYXRoPT09Jy4vJykpe1xyXG5cdFx0XHRpZihub3RlLnBhdGguc3RhcnRzV2l0aChcclxuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5jb25maWcuYXR0YWNobWVudEZvbGRlclBhdGgpXHJcblx0XHRcdCl7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZih0aGlzLmFwcC52YXVsdC5jb25maWcudXNlcklnbm9yZUZpbHRlcnMpe1xyXG5cdFx0XHRmb3IobGV0IHggb2YgdGhpcy5hcHAudmF1bHQuY29uZmlnLnVzZXJJZ25vcmVGaWx0ZXJzKXtcclxuXHRcdFx0XHRpZihub3RlLnBhdGguc3RhcnRzV2l0aCh4KSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2d1c3Rlcl9ub3RlKCl7XHJcblx0XHQvLyBcdTRFQ0VcdTVFOTNcdTRFMkRcdTkwMDlcdTYyRTlcdTRFMDBcdTRFMkFcdTdCMTRcdThCQjBcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuc29ydF90ZmlsZXMoXHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCksXHJcblx0XHRcdFsnbXRpbWUnLCd4J11cclxuXHRcdCkuZmlsdGVyKChmOlRGaWxlKT0+dGhpcy5maWx0ZXJfdXNlcl9pZ25vcmUoZikpO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLnRwX3N1Z2dlc3RlcigoZjpURmlsZSk9PmYucGF0aCxub3Rlcyk7XHJcblx0XHRcdHJldHVybiBub3RlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuX25vdGUodGZpbGU6VEZpbGUsbmV3X3RhYj1mYWxzZSxyZXZlYWxGb2xkZXI9dHJ1ZSl7XHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGlmKHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLnBpbm5lZCB8fCBuZXdfdGFiKXtcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVMZWFmLm9wZW5GaWxlKHRmaWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihyZXZlYWxGb2xkZXIpe1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIucmV2ZWFsSW5Gb2xkZXIodGZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdndXN0ZXJfb3Blbl9ub3RlKCl7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgbm90ZSA9IGF3YWl0IHRoaXMuc3VnZ3VzdGVyX25vdGUoKTtcclxuXHRcdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdGdldF90ZmlsZShwYXRoKXtcclxuXHRcdGxldCBuYW1lID0gcGF0aC5zcGxpdCgnfCcpWzBdLnJlcGxhY2UoJ1tbJywnJykucmVwbGFjZSgnXV0nLCcnKTtcclxuXHRcdHJldHVybiB0aGlzLnRwX2ZpbmRfdGZpbGUobmFtZSk7XHJcblx0fVxyXG5cclxuXHRnZXQgY3VycmVudF9ub3RlKCl7XHJcblx0XHRyZXR1cm4gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHR9XHJcblxyXG5cdGdldF9pbmxpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCByZXMgPSBuZXcgQXJyYXkoKTtcclxuXHJcblx0XHRsZXQgZHZfYXBpID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJkYXRhdmlld1wiKTtcclxuXHJcblx0XHRsZXQgaW5saW5rcyA9IGR2X2FwaS5pbmRleC5saW5rcy5pbnZNYXAuZ2V0KHRmaWxlLnBhdGgpO1xyXG5cdFx0aWYoaW5saW5rcz09dW5kZWZpbmVkKXtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBBcnJheS5mcm9tKGlubGlua3MpLm1hcChcclxuXHRcdFx0XHQocGF0aCk9Pih0aGlzLmFwcC52YXVsdC5maWxlTWFwW3BhdGhdKVxyXG5cdFx0XHQpLmZpbHRlcihcclxuXHRcdFx0XHQoaXRlbSk9PihpdGVtKVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfb3V0bGlua3ModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwpe3JldHVybiBbXTt9XHJcblx0XHRpZih0aGlzLmFwcCBpbnN0YW5jZW9mIEFwcCl7XHJcblx0XHRcdGlmKHRoaXMuYXBwLnBsdWdpbnMpe1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgZHZfYXBpID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJkYXRhdmlld1wiKTtcclxuXHRcdGxldCBpbmxpbmtzID0gZHZfYXBpLmluZGV4LmxpbmtzLm1hcC5nZXQodGZpbGUucGF0aCk7XHJcblx0XHRpZihpbmxpbmtzPT11bmRlZmluZWQpe1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIEFycmF5LmZyb20oaW5saW5rcykubWFwKFxyXG5cdFx0XHRcdChwYXRoKT0+KHRoaXMuYXBwLnZhdWx0LmZpbGVNYXBbcGF0aF0pXHJcblx0XHRcdCkuZmlsdGVyKFxyXG5cdFx0XHRcdChpdGVtKT0+KGl0ZW0pXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9saW5rcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgaW5saW5rcyA9IHRoaXMuZ2V0X2lubGlua3ModGZpbGUpO1xyXG5cdFx0bGV0IG91dGxpbmtzID0gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUpO1xyXG5cdFx0Zm9yKGxldCBsaW5rIG9mIGlubGlua3Mpe1xyXG5cdFx0XHRpZighb3V0bGlua3MuaW5jbHVkZXMobGluaykpe1xyXG5cdFx0XHRcdG91dGxpbmtzLnB1c2gobGluaylcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG91dGxpbmtzO1xyXG5cdH1cclxuXHJcblx0Z2V0X2Jyb3RoZXJzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGlmKHRmaWxlJiZ0ZmlsZS5wYXJlbnQpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcih0ZmlsZS5wYXJlbnQsZmFsc2UpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHJcblx0Z2V0X3VuY2xlcyh0ZmlsZTpURmlsZSl7XHJcblx0XHRpZih0ZmlsZSAmJiB0ZmlsZS5wYXJlbnQgJiYgdGZpbGUucGFyZW50LnBhcmVudCl7XHJcblx0XHRcdGxldCBmb2xkZXIgPSB0ZmlsZS5wYXJlbnQucGFyZW50O1xyXG5cdFx0XHRyZXR1cm4gZm9sZGVyLmNoaWxkcmVuLmZpbHRlcihcclxuXHRcdFx0XHQoeDpUQWJzdHJhY3RGaWxlKT0+eCBpbnN0YW5jZW9mIFRGaWxlXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHRcdHJldHVybiBbXVxyXG5cdH1cclxuXHJcblx0Z2V0X3RmaWxlc19vZl9mb2xkZXIodGZvbGRlcjpURm9sZGVyLHdpdGhfY2hpbGRyZW49ZmFsc2Upe1xyXG5cdFx0aWYodGZvbGRlcj09bnVsbCl7cmV0dXJuIFtdO31cclxuXHRcdGxldCBub3RlcyA9IFtdO1xyXG5cdFx0Zm9yKGxldCBjIG9mIHRmb2xkZXIuY2hpbGRyZW4pe1xyXG5cdFx0XHRpZihjIGluc3RhbmNlb2YgVEZpbGUgJiYgYy5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0XHRub3Rlcy5wdXNoKGMpO1xyXG5cdFx0XHR9ZWxzZSBpZihjIGluc3RhbmNlb2YgVEZvbGRlciAmJiB3aXRoX2NoaWxkcmVuKXtcclxuXHRcdFx0XHRsZXQgdG1wID0gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcihjKTtcclxuXHRcdFx0XHRmb3IobGV0IHggb2YgdG1wKXtcclxuXHRcdFx0XHRcdG5vdGVzLnB1c2goeCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbm90ZXM7XHJcblxyXG5cdH1cclxuXHJcblx0XHJcblxyXG5cdGluZGV4T2ZGb2xkZXIodGZpbGU6VEZvbGRlcix0ZmlsZXM6QXJyYXk8VEZpbGU+KXtcclxuXHRcdGxldCBmbm90ZSA9IHRoaXMudHBfZmluZF90ZmlsZSh0ZmlsZS5uYW1lKycubWQnKTtcclxuXHRcdGxldCBtc2cgPSB0aGlzLnBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRmbm90ZSxcIkZvbGRlclByZXZOb3RlXCJcclxuXHRcdCk7XHJcblx0XHRpZighbXNnKXtyZXR1cm4gLTE7fVxyXG5cdFx0bGV0IGl0ZW1zID0gbXNnLnNwbGl0KFwiXV0rXCIpO1xyXG5cdFx0bGV0IGFuY2hvciA9IHRoaXMuZ2V0X3RmaWxlKGl0ZW1zWzBdLnNsaWNlKDIpKTtcclxuXHRcdGlmKCFhbmNob3Ipe3JldHVybiAtMTt9XHJcblx0XHRsZXQgaWR4ID0gdGZpbGVzLmluZGV4T2YoYW5jaG9yKTtcclxuXHRcdGlmKGl0ZW1zLmxlbmd0aD09Mil7XHJcblx0XHRcdGlkeCA9IGlkeCArIHBhcnNlRmxvYXQoaXRlbXNbMV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGlkeDtcclxuXHR9XHJcblxyXG5cdHBhcnNlX2l0ZW0oaXRlbSl7XHJcblx0XHR2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxKTtcclxuXHRcdGxldCBrd2FyZ3MgPSB7fVxyXG5cdFx0aWYoYXJncy5sZW5ndGg9PTEpe1xyXG5cdFx0XHRrd2FyZ3MgPSBhcmdzWzBdO1xyXG5cdFx0fVxyXG5cdFx0bGV0IHNlcSA9IGt3YXJnc1snc2VxJ107XHJcblxyXG5cdFx0aWYoc2VxIT1udWxsKXtcclxuXHRcdFx0cmV0dXJuIGAke3NlcX0gLT4gJHtpdGVtfWA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbTtcclxuXHR9XHJcblxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0aWYodGZpbGUucGFyZW50PT1jdXJyLnBhcmVudCl7XHJcblx0XHRcdG1zZyA9IHRmaWxlLmJhc2VuYW1lO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdG1zZyA9IHRmaWxlLnBhdGg7XHJcblx0XHR9XHJcblx0XHRpZih0ZmlsZT09dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRyZXR1cm4gYFx1RDgzQ1x1REZFMCAke21zZ31gXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG1zZztcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHJcblx0cGFyc2VfaXRlbXMoaXRlbXM6QXJyYXk8c3RyaW5nfFRGaWxlPil7XHJcblx0XHR2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxKTtcclxuXHRcdGxldCBrd2FyZ3MgPSB7fVxyXG5cdFx0aWYoYXJncy5sZW5ndGg9PTEpe1xyXG5cdFx0XHRrd2FyZ3MgPSBhcmdzWzBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCByZXMgPSBbXTtcclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlKGk8aXRlbXMubGVuZ3RoKXtcclxuXHRcdFx0aWYoa3dhcmdzWydzZXEnXSl7XHJcblx0XHRcdFx0cmVzLnB1c2godGhpcy5wYXJzZV9pdGVtKGl0ZW1zW2ldLHsnc2VxJzppKzF9KSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5wdXNoKHRoaXMucGFyc2VfaXRlbShpdGVtc1tpXSkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ2VzdGVyX25vdGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLGN1cnJfZmlyc3Q9dHJ1ZSxzbW9kZT0nJyl7XHJcblx0XHRpZih0ZmlsZSl7dGZpbGU9PXRoaXMuY3VycmVudF9ub3RlO31cclxuXHRcdGxldCBrdiA9IFtcdFx0XHRcclxuXHRcdFx0J1x1NTQwQ1x1N0VBN1x1N0IxNFx1OEJCMCcsXHJcblx0XHRcdCdcdTdCMTRcdThCQjBcdTk0RkVcdTY3NjEnLFxyXG5cdFx0XHQnXHU0RTBBXHU3RUE3XHU3QjE0XHU4QkIwJyxcclxuXHRcdFx0J1x1NTQwQ1x1N0VBN1x1N0IxNFx1OEJCMCtcdTVCNTBcdTc2RUVcdTVGNTUnLFxyXG5cdFx0XHQnXHU1MUZBXHU5NEZFK1x1NTE2NVx1OTRGRScsXHJcblx0XHRcdCdcdTUxNjVcdTk0RkUnLFxyXG5cdFx0XHQnXHU1MUZBXHU5NEZFJyxcclxuXHRcdFx0J1x1NjI0MFx1NjcwOVx1N0IxNFx1OEJCMCcsXHJcblx0XHRcdCdyZWNlbnQtZmlsZXMtb2JzaWRpYW4nXHJcblx0XHRdXHJcblx0XHRcclxuXHRcdGlmKGN1cnJfZmlyc3Qpe1xyXG5cdFx0XHRrdi51bnNoaWZ0KCdcdTVGNTNcdTUyNERcdTdCMTRcdThCQjAnKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGt2LnB1c2goJ1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCcpXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCBrdnMgPSBbXVxyXG5cdFx0bGV0IGkgPSAxO1xyXG5cdFx0Zm9yKGxldCB4IG9mIGt2KXtcclxuXHRcdFx0a3ZzLnB1c2goYCR7aSsrfSAke3h9YCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1vZGUgPSAnJztcclxuXHRcdGlmKGt2LmNvbnRhaW5zKHNtb2RlKSl7XHJcblx0XHRcdG1vZGUgPSBzbW9kZTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtb2RlID0gYXdhaXQgdGhpcy50cF9zdWdnZXN0ZXIoa3ZzLGt2KTtcclxuXHRcdH1cclxuXHRcdGlmKG1vZGU9PT0nXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwJyl7XHJcblx0XHRcdHJldHVybiBbdGZpbGVdO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTU0MENcdTdFQTdcdTdCMTRcdThCQjAnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X2Jyb3RoZXJzKHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0nXHU1NDBDXHU3RUE3XHU3QjE0XHU4QkIwK1x1NUI1MFx1NzZFRVx1NUY1NScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcih0ZmlsZT8ucGFyZW50LHRydWUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTUxRkFcdTk0RkUrXHU1MTY1XHU5NEZFJyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NTE2NVx1OTRGRScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NTFGQVx1OTRGRScpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PSdcdTYyNDBcdTY3MDlcdTdCMTRcdThCQjAnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X2FsbF90ZmlsZXMoKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0ncmVjZW50LWZpbGVzLW9ic2lkaWFuJyl7XHJcblx0XHRcdGxldCByID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJyZWNlbnQtZmlsZXMtb2JzaWRpYW5cIik7XHJcblx0XHRcdGlmKCFyKXtyZXR1cm4gW107fVxyXG5cdFx0XHRyZXR1cm4gT2JqZWN0LnZhbHVlcyhcclxuXHRcdFx0XHRyLmRhdGEucmVjZW50RmlsZXMpLm1hcChmPT50aGlzLmFwcC52YXVsdC5maWxlTWFwW2YucGF0aF1cclxuXHRcdFx0KS5maWx0ZXIoZj0+Zik7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09J1x1NEUwQVx1N0VBN1x1N0IxNFx1OEJCMCcpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfdW5jbGVzKHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT0nXHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxJyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9jaGFpbihcclxuXHRcdFx0XHR0ZmlsZSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluKSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluKVxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHQvLyBDaGFpblxyXG5cdGdldF9wcmV2X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYoIXRmaWxlKXtyZXR1cm47fVxyXG5cdFx0aWYodGZpbGUuZGVsZXRlZCl7XHJcblx0XHRcdGxldCB0ZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHR0ZmlsZXMuZmlsdGVyKGY9PmBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gPT09YXBwLm5jLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZixcIk5leHROb3RlXCIpKVxyXG5cdFx0XHR0ZmlsZXMgPSB0ZmlsZXMuZmlsdGVyKGY9PmBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gPT09dGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGYsdGhpcy5uZXh0KSk7XHJcblx0XHRcdGlmKHRmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlc1swXTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgbmFtZSA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLnByZXYpO1xyXG5cdFx0XHRpZighbmFtZSl7cmV0dXJuIG51bGw7fVxyXG5cclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZShuYW1lKTtcclxuXHRcdFx0cmV0dXJuIG5vdGU/bm90ZTpudWxsO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRvcGVuX3ByZXZfbm90ZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGUgPSB0aGlzLmdldF9wcmV2X25vdGUodGZpbGUpO1xyXG5cdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0fVxyXG5cclxuXHRnZXRfbmV4dF9ub3RlKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJuIG51bGw7fVxyXG5cdFx0aWYodGZpbGUuZGVsZXRlZCl7XHJcblx0XHRcdGxldCB0ZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblx0XHRcdHRmaWxlcyA9IHRmaWxlcy5maWx0ZXIoZj0+YFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWA9PT10aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZix0aGlzLnByZXYpKTtcclxuXHRcdFx0aWYodGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGVzWzBdO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGxldCBuYW1lID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMubmV4dCk7XHJcblx0XHRcdGlmKCFuYW1lKXtyZXR1cm4gbnVsbDt9XHJcblxyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3RmaWxlKG5hbWUpO1xyXG5cdFx0XHRyZXR1cm4gbm90ZT9ub3RlOm51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuX25leHRfbm90ZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGUgPSB0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpO1xyXG5cdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0fVxyXG5cclxuXHRnZXRfY2hhaW4odGZpbGU9dGhpcy5jdXJyZW50X25vdGUscHJldj0xMCxuZXh0PTEwLHdpdGhfc2VsZj10cnVlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRpZih3aXRoX3NlbGYpe1xyXG5cdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB0bXAgPSB0ZmlsZTtcclxuXHRcdGZvcihsZXQgaT1wcmV2O2khPTA7aS0tKXtcdFxyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3ByZXZfbm90ZSh0bXApO1xyXG5cdFx0XHRpZighbm90ZSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNlIGlmKHJlcy5pbmNsdWRlcyhub3RlKSl7XHJcblx0XHRcdFx0Ly8gXHU2QkNGXHU2QjIxXHU4MUVBXHU1MkE4XHU1MjIwXHU5NjY0XHU1RkFBXHU3M0FGXHU5NEZFXHU2M0E1XHJcblx0XHRcdFx0dGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKG5vdGUsdGhpcy5uZXh0LFwiXCIpO1xyXG5cdFx0XHRcdHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcih0bXAsdGhpcy5wcmV2LFwiXCIpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXMudW5zaGlmdChub3RlKTtcclxuXHRcdFx0XHR0bXAgPSBub3RlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHJcblx0XHR0bXAgPSB0ZmlsZTtcclxuXHRcdGZvcihsZXQgaT1uZXh0O2khPTA7aS0tKXtcclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF9uZXh0X25vdGUodG1wKTtcclxuXHRcdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9ZWxzZSBpZihyZXMuaW5jbHVkZXMobm90ZSkpe1xyXG5cdFx0XHRcdC8vIFx1NkJDRlx1NkIyMVx1ODFFQVx1NTJBOFx1NTIyMFx1OTY2NFx1NUZBQVx1NzNBRlx1OTRGRVx1NjNBNVxyXG5cdFx0XHRcdHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihub3RlLHRoaXMucHJldixcIlwiKTtcclxuXHRcdFx0XHR0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIodG1wLHRoaXMubmV4dCxcIlwiKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnB1c2gobm90ZSk7XHJcblx0XHRcdFx0dG1wID0gbm90ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGdldF9maXJzdF9ub3RlKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X2NoYWluKHRmaWxlLC0xLDAsZmFsc2UpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gbm90ZXNbMF07XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfbGFzdF9ub3RlKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X2NoYWluKHRmaWxlLDAsLTEsZmFsc2UpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gbm90ZXNbbm90ZXMubGVuZ3RoLTFdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X25laWdoYm9ycyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHR0aGlzLmdldF9wcmV2X25vdGUodGZpbGUpLFxyXG5cdFx0XHR0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpLFxyXG5cdFx0XVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBjaGFpbl9zZXRfcHJldih0ZmlsZTpURmlsZSxwcmV2OlRGaWxlfG51bGwpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwgfHwgdGZpbGU9PXByZXYpe3JldHVybjt9XHJcblx0XHR0aGlzLnBsdWdpbi5jb25zb2xlX2xvZygnY2hhaW5fc2V0X3ByZXY6Jyx0ZmlsZS5iYXNlbmFtZSxwcmV2Py5iYXNlbmFtZSk7XHJcblx0XHRpZihwcmV2PT1udWxsICl7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLnByZXYsJydcclxuXHRcdFx0KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdFx0dGZpbGUsdGhpcy5wcmV2LGBbWyR7cHJldi5iYXNlbmFtZX1dXWBcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX3NldF9uZXh0KHRmaWxlOlRGaWxlLG5leHQ6VEZpbGV8bnVsbCl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCB8fCB0ZmlsZT09bmV4dCl7cmV0dXJuO31cclxuXHRcdHRoaXMucGx1Z2luLmNvbnNvbGVfbG9nKCdjaGFpbl9zZXRfbmV4dDonLHRmaWxlLmJhc2VuYW1lLG5leHQ/LmJhc2VuYW1lKTtcclxuXHRcdGlmKG5leHQ9PW51bGwgKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRcdHRmaWxlLHRoaXMubmV4dCwnJ1xyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLm5leHQsYFtbJHtuZXh0LmJhc2VuYW1lfV1dYFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fc2V0X3ByZXZfbmV4dChwcmV2OlRGaWxlLG5leHQ6VEZpbGUpe1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldihuZXh0LHByZXYpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfbmV4dChwcmV2LG5leHQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fY29uY2F0X3RmaWxlcyh0ZmlsZXM6QXJyYXk8VEZpbGU+KXtcclxuXHRcdC8vIFx1NkUwNVx1OTY2NFx1ODFFQVx1OTVFRFx1NzNBRlxyXG5cdFx0bGV0IHByZXYgPSB0aGlzLmdldF9wcmV2X25vdGUodGZpbGVzWzBdKTtcclxuXHRcdGlmKHRmaWxlcy5jb250YWlucyhwcmV2KSl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYodGZpbGVzWzBdLG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NkUwNVx1OTY2NFx1ODFFQVx1OTVFRFx1NzNBRlxyXG5cdFx0bGV0IG5leHQgPSB0aGlzLmdldF9uZXh0X25vdGUodGZpbGVzW3RmaWxlcy5sZW5ndGgtMV0pO1xyXG5cdFx0aWYodGZpbGVzLmNvbnRhaW5zKG5leHQpKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfbmV4dCh0ZmlsZXNbdGZpbGVzLmxlbmd0aC0xXSxudWxsKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Zm9yKGxldCBpPTA7aTx0ZmlsZXMubGVuZ3RoLTE7aSsrKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KHRmaWxlc1tpXSx0ZmlsZXNbaSsxXSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX3BvcF9ub2RlKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X25laWdoYm9ycyh0ZmlsZSk7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9wcmV2X25leHQobm90ZXNbMF0sbm90ZXNbMV0pO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZCh0ZmlsZTpURmlsZSxhbmNob3I6VEZpbGUpe1xyXG5cdFx0bGV0IGhlYWQgPSB0aGlzLmdldF9maXJzdF9ub3RlKGFuY2hvcik7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9wcmV2X25leHQodGZpbGUsaGVhZCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsKHRmaWxlOlRGaWxlLGFuY2hvcjpURmlsZSl7XHJcblx0XHRsZXQgdGFpbCA9IHRoaXMuZ2V0X2xhc3Rfbm90ZShhbmNob3IpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KHRhaWwsdGZpbGUpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXIodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCB0ID0gdGhpcztcclxuXHRcdGNvbnNvbGUubG9nKHRoaXMpO1xyXG5cdFx0dC5wbHVnaW4uY29uc29sZV9sb2codCk7XHJcblx0XHRhd2FpdCB0LmNoYWluX3BvcF9ub2RlKHRmaWxlKTtcclxuXHRcdGxldCBuZXh0ID0gdGhpcy5nZXRfbmV4dF9ub3RlKGFuY2hvcik7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX2NvbmNhdF90ZmlsZXMoW2FuY2hvcix0ZmlsZSxuZXh0XSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fcG9wX25vZGUodGZpbGUpO1xyXG5cdFx0bGV0IHByZXYgPSB0aGlzLmdldF9wcmV2X25vdGUoYW5jaG9yKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fY29uY2F0X3RmaWxlcyhbcHJldix0ZmlsZSxhbmNob3JdKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9mb2xkZXJfYWZ0ZXIodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGlmKCF0ZmlsZS5wYXJlbnQgfHwgdGZpbGUucGFyZW50LnBhcmVudCE9YW5jaG9yLnBhcmVudCl7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUodGZpbGUucGFyZW50Lm5hbWUpO1xyXG5cdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRjb25zb2xlLmxvZygnXHU5NzAwXHU4OTgxXHU4OTgxXHU1MTQ4XHU1MjFCXHU1RUZBXHU1NDBDXHU1NDBEXHU3QjE0XHU4QkIwJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdG5vdGUsXCJGb2xkZXJQcmV2Tm90ZVwiLGBbWyR7YW5jaG9yLmJhc2VuYW1lfV1dKzAuNWBcclxuXHRcdClcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgY2hhaW5fc3VnZ2VzdGVyX3RmaWxlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxtb2RlPSdzdWdnZXN0ZXInKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X2Jyb3RoZXJzKHRmaWxlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD09MCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgZmlsZXMgPSBhd2FpdCB0aGlzLnN1Z2dlc3Rlcl9zb3J0KG5vdGVzKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fY29uY2F0X3RmaWxlcyhmaWxlcyk7XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlcyhmaWxlczpBcnJheTxURmlsZT4sZmllbGQ6YW55KXtcclxuXHRcdGlmKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpe1xyXG5cdFx0XHRpZihmaWVsZD09PSduYW1lJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYSxiKT0+KGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nbXRpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0Lm10aW1lLWIuc3RhdC5tdGltZSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1lbHNlIGlmKGZpZWxkPT09J2N0aW1lJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYSxiKT0+KGEuc3RhdC5jdGltZS1iLnN0YXQuY3RpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYoZmllbGQ9PT0nY2hhaW4nKXtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5zb3J0X3RmaWxlc19ieV9jaGFpbihmaWxlcyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZpbGVzO1xyXG5cdFx0fWVsc2UgaWYodHlwZW9mIGZpZWxkID09PSAnb2JqZWN0Jyl7XHJcblx0XHRcdGlmKGZpZWxkIGluc3RhbmNlb2YgQXJyYXkpe1xyXG5cdFx0XHRcdGxldCBuZmlsZXMgPSB0aGlzLnNvcnRfdGZpbGVzKGZpbGVzLGZpZWxkWzBdKTtcclxuXHRcdFx0XHRpZihmaWVsZC5sZW5ndGg+PTIpe1xyXG5cdFx0XHRcdFx0aWYoZmllbGRbMV09PT0neCcpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbmZpbGVzLnJldmVyc2UoKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gbmZpbGVzO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmlsZXM7XHJcblx0fVxyXG5cdFxyXG5cdHNvcnRfdGZpbGVzX2J5X2NoYWluKHRmaWxlczpBcnJheTxUQWJzdHJhY3RGaWxlPil7XHJcblx0XHRsZXQgbm90ZXMgPSB0ZmlsZXMuZmlsdGVyKGY9PmYgaW5zdGFuY2VvZiBURmlsZSkgYXMgVEZpbGVbXTtcclxuXHRcdGxldCByZXMgPSBbXSBhcyBUQWJzdHJhY3RGaWxlW107XHJcblx0XHR3aGlsZShub3Rlcy5sZW5ndGg+MCl7XHJcblx0XHRcdGxldCBub3RlID0gbm90ZXNbMF07XHJcblx0XHRcdGxldCB4Y2hhaW4gPSB0aGlzLmdldF9jaGFpbihub3RlLC0xLC0xKTtcclxuXHRcdFx0Zm9yKGxldCB4IG9mIHhjaGFpbil7XHJcblx0XHRcdFx0aWYobm90ZXMuY29udGFpbnMoeCkpe1xyXG5cdFx0XHRcdFx0cmVzLnB1c2goeCk7XHJcblx0XHRcdFx0XHRub3Rlcy5yZW1vdmUoeCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgZm9sZGVycyA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGb2xkZXIpIGFzIFRGb2xkZXJbXTtcclxuXHRcdGlmKGZvbGRlcnMubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgaWR4cyA9IGZvbGRlcnMubWFwKFxyXG5cdFx0XHRcdChmOlRGb2xkZXIpPT50aGlzLmluZGV4T2ZGb2xkZXIoZixyZXMgYXMgVEZpbGVbXSlcclxuXHRcdFx0KTtcclxuXHRcdFx0cmVzLnB1c2goLi4uZm9sZGVycyk7XHJcblx0XHRcdGZ1bmN0aW9uIGluZGV4T2YoZjpUQWJzdHJhY3RGaWxlKXtcclxuXHRcdFx0XHRpZihmIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlcy5pbmRleE9mKGYpO1xyXG5cdFx0XHRcdH1lbHNlIGlmKGYgaW5zdGFuY2VvZiBURm9sZGVyKXtcclxuXHRcdFx0XHRcdHJldHVybiBpZHhzW2ZvbGRlcnMuaW5kZXhPZihmKV07XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJlcyA9IHJlcy5zb3J0KChhLGIpPT5pbmRleE9mKGEpLWluZGV4T2YoYikpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdHNvcnRfdGZpbGVzX2ZvbGRlcl9maXJzdCh0ZmlsZXM6QXJyYXk8VEZpbGU+KXtcclxuXHRcdGxldCBBID0gdGZpbGVzLmZpbHRlcihmPT5mIGluc3RhbmNlb2YgVEZvbGRlcikuc29ydCgoYSxiKT0+KGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpKTtcclxuXHRcdGxldCBCID0gdGZpbGVzLmZpbHRlcihmPT5mIGluc3RhbmNlb2YgVEZpbGUpO1xyXG5cdFx0cmV0dXJuIHRoaXMucGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShbQSxCXSk7XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlc19ieV9maWVsZCh0ZmlsZXM6QXJyYXk8VEZpbGU+LGZpZWxkOnN0cmluZyl7XHJcblx0XHRsZXQgcmVzID0gdGZpbGVzLnNvcnQoXHJcblx0XHRcdChhLGIpPT57XHJcblx0XHRcdFx0bGV0IGF2ID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGEsZmllbGQpO1xyXG5cdFx0XHRcdGxldCBidiA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihiLGZpZWxkKTtcclxuXHRcdFx0XHRyZXR1cm4gYXYgLSBidjtcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2dlc3Rlcl9zb3J0KHRmaWxlczpBcnJheTxURmlsZT4pe1xyXG5cdFx0aWYoIXRmaWxlcyl7cmV0dXJuIFtdO31cclxuXHRcdGlmKHRmaWxlcy5sZW5ndGg9PTApe3JldHVybiBbXX07XHJcblx0XHRsZXQga3YgPSB7XHJcblx0XHRcdCdjaGFpbic6J2NoYWluJyxcclxuXHRcdFx0J25hbWUnOiduYW1lJyxcclxuXHRcdFx0J2N0aW1lJzonY3RpbWUnLFxyXG5cdFx0XHQnbXRpbWUnOidtdGltZScsXHJcblx0XHRcdCduYW1lIFx1NTAxMlx1NUU4Ric6WyduYW1lJywneCddLFxyXG5cdFx0XHQnY3RpbWUgXHU1MDEyXHU1RThGJzpbJ2N0aW1lJywneCddLFxyXG5cdFx0XHQnbXRpbWUgXHU1MDEyXHU1RThGJzpbJ210aW1lJywneCddLFxyXG5cdFx0fVxyXG5cdFx0bGV0IGZpZWxkID0gYXdhaXQgdGhpcy50cF9zdWdnZXN0ZXIoXHJcblx0XHRcdE9iamVjdC5rZXlzKGt2KSxcclxuXHRcdFx0T2JqZWN0LnZhbHVlcyhrdilcclxuXHRcdCk7XHJcblx0XHRpZihmaWVsZD09bnVsbCl7cmV0dXJuIFtdO31cclxuXHRcdGlmKGZpZWxkPT0nY2hhaW4nKXtcclxuXHRcdFx0dGZpbGVzID0gdGhpcy5zb3J0X3RmaWxlcyh0ZmlsZXMsJ25hbWUnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzKHRmaWxlcyxmaWVsZCk7XHJcblx0fVxyXG5cclxuXHR2aWV3X3NvcnRfYnlfY2hhaW4oKXtcclxuXHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcclxuXHRcdFx0XCJmaWxlLWV4cGxvcmVyXCJcclxuXHRcdClbMF0/LnZpZXc7XHJcblx0XHRpZighdmlldyl7cmV0dXJuO31cclxuXHRcdHZpZXcuc29ydCgpO1xyXG5cdFx0aWYodmlldy5yZWFkeSl7XHJcblx0XHRcdGZvcihsZXQgcGF0aCBpbiB2aWV3LmZpbGVJdGVtcyl7XHJcblx0XHRcdFx0bGV0IGl0ZW0gPSB2aWV3LmZpbGVJdGVtc1twYXRoXTtcclxuXHRcdFx0XHRpZihpdGVtLnZDaGlsZHJlbil7XHJcblx0XHRcdFx0XHRsZXQgZmlsZXMgPSBpdGVtLnZDaGlsZHJlbi5fY2hpbGRyZW4ubWFwKGY9PmYuZmlsZSk7XHJcblx0XHRcdFx0XHRmaWxlcyA9IHRoaXMuc29ydF90ZmlsZXNfYnlfY2hhaW4oZmlsZXMpO1xyXG5cdFx0XHRcdFx0bGV0IGNoaWxkcmVuID0gaXRlbS52Q2hpbGRyZW4uX2NoaWxkcmVuLnNvcnQoXHJcblx0XHRcdFx0XHRcdChhLGIpPT5maWxlcy5pbmRleE9mKGEuZmlsZSktZmlsZXMuaW5kZXhPZihiLmZpbGUpXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRpdGVtLnZDaGlsZHJlbi5zZXRDaGlsZHJlbihjaGlsZHJlbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZpZXcudHJlZS5pbmZpbml0eVNjcm9sbC5jb21wdXRlKClcclxuXHRcdH1cclxuXHR9XHJcblxyXG59IiwgImltcG9ydCB7IFxyXG5cdEFwcCxUQWJzdHJhY3RGaWxlLFRGaWxlLFRGb2xkZXIsVmF1bHRcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQge05vdGVDaGFpblBsdWdpbn0gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IHtOb3RlQ2hhaW59IGZyb20gXCIuL05vdGVDaGFpblwiO1xyXG5cclxuXHJcbmxldCBjaGFpbl9zb3J0ID0gZnVuY3Rpb24ob3JnX3NvcnQ6RnVuY3Rpb24pIHtcclxuXHRsZXQgcGx1Z2luID0gYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKCdub3RlLWNoYWluJyk7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKC4uLmQ6YW55KXtcclxuXHRcdGlmKHBsdWdpbil7XHJcblx0XHRcdGlmKHBsdWdpbj8uc2V0dGluZ3MuaXNTb3J0RmlsZUV4cGxvcmVyKXtcclxuXHRcdFx0XHR2YXIgZSA9IHRoaXMuZmlsZVxyXG5cdFx0XHRcdCwgdCA9IHRoaXMudmlld1xyXG5cdFx0XHRcdCwgaSA9IGUuY2hpbGRyZW4uc2xpY2UoKTtcclxuXHRcdFx0XHRpID0gaS5maWx0ZXIoKHg6VEFic3RyYWN0RmlsZSk9PngpO1xyXG5cdFx0XHRcdGlmKGkubGVuZ3RoPjApe1xyXG5cdFx0XHRcdFx0bGV0IGl0ZW1zID0gcGx1Z2luLmNoYWluLmNoaWxkcmVuW2lbMF0ucGFyZW50LnBhdGhdO1xyXG5cdFx0XHRcdFx0aWYoaXRlbXMpe1xyXG5cdFx0XHRcdFx0XHRsZXQgYSA9IGl0ZW1zLmZpbHRlcigoeDpUQWJzdHJhY3RGaWxlKT0+aS5jb250YWlucyh4KSk7XHJcblx0XHRcdFx0XHRcdGxldCBiID0gaXRlbXMuZmlsdGVyKCh4OlRBYnN0cmFjdEZpbGUpPT4haS5jb250YWlucyh4KSk7XHJcblx0XHRcdFx0XHRcdGEucHVzaCguLi5iKTtcclxuXHRcdFx0XHRcdFx0aSA9IGE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHBsdWdpbi5zZXR0aW5ncy5pc0ZvbGRlckZpcnN0KXtcclxuXHRcdFx0XHRcdGkgPSBwbHVnaW4uY2hhaW4uc29ydF90ZmlsZXNfZm9sZGVyX2ZpcnN0KGkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKHZhciByID0gW10sIG8gPSAwLCBhID0gaTsgbyA8IGEubGVuZ3RoOyBvKyspIHtcclxuXHRcdFx0XHRcdHZhciBzID0gYVtvXVxyXG5cdFx0XHRcdFx0LCBsID0gdC5maWxlSXRlbXNbcy5wYXRoXTtcclxuXHRcdFx0XHRcdGwgJiYgci5wdXNoKGwpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMudkNoaWxkcmVuLnNldENoaWxkcmVuKHIpXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJldHVybiBvcmdfc29ydC5jYWxsKHRoaXMsLi4uZCk7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gb3JnX3NvcnQuY2FsbCh0aGlzLC4uLmQpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY2hhaW5fc29ydF92MSA9IGZ1bmN0aW9uKG9yZ19zb3J0OkZ1bmN0aW9uKSB7XHJcblx0bGV0IHBsdWdpbiA9IGFwcC5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xyXG5cdHJldHVybiBmdW5jdGlvbiguLi5kOmFueSl7XHJcblx0XHRpZihwbHVnaW4pe1xyXG5cdFx0XHRpZihwbHVnaW4/LnNldHRpbmdzLmlzU29ydEZpbGVFeHBsb3Jlcil7XHJcblx0XHRcdFx0dmFyIGUgPSB0aGlzLmZpbGVcclxuXHRcdFx0XHQsIHQgPSB0aGlzLnZpZXdcclxuXHRcdFx0XHQsIGkgPSBlLmNoaWxkcmVuLnNsaWNlKCk7XHJcblx0XHRcdFx0aSA9IGkuZmlsdGVyKHg9PngpO1xyXG5cdFx0XHRcdGkgPSBwbHVnaW4uY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4oaSk7XHJcblx0XHRcdFx0aSA9IHBsdWdpbi5jaGFpbi5zb3J0X3RmaWxlc19mb2xkZXJfZmlyc3QoaSk7XHJcblx0XHRcdFx0Zm9yICh2YXIgciA9IFtdLCBvID0gMCwgYSA9IGk7IG8gPCBhLmxlbmd0aDsgbysrKSB7XHJcblx0XHRcdFx0XHR2YXIgcyA9IGFbb11cclxuXHRcdFx0XHRcdCwgbCA9IHQuZmlsZUl0ZW1zW3MucGF0aF07XHJcblx0XHRcdFx0XHRsICYmIHIucHVzaChsKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnZDaGlsZHJlbi5zZXRDaGlsZHJlbihyKVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXR1cm4gb3JnX3NvcnQuY2FsbCh0aGlzLC4uLmQpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG9yZ19zb3J0LmNhbGwodGhpcywuLi5kKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOQ0ZpbGVFeHBsb3JlcntcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0Y2hhaW46Tm90ZUNoYWluO1xyXG5cdG9yZ19zb3J0OkZ1bmN0aW9uO1xyXG5cdG5ld19zb3J0OkZ1bmN0aW9uO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKXtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5jaGFpbiA9IHBsdWdpbi5jaGFpbjtcclxuXHRcdHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuXHRcdHRoaXMucmVnaXN0ZXIoKTtcclxuXHR9XHJcblxyXG5cclxuXHRyZWdpc3Rlcigpe1xyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCk9PntcclxuXHRcdFx0bGV0IGZvbGRlciA9IG5ldyBURm9sZGVyKFZhdWx0LFwiXCIpO1xyXG5cdFx0XHRsZXQgZG9tID0gdGhpcy5maWxlX2V4cGxvcmVyLmNyZWF0ZUZvbGRlckRvbShmb2xkZXIpLmNvbnN0cnVjdG9yO1xyXG5cdFx0XHR0aGlzLl9Gb2xkZXJEb21fID0gZG9tO1xyXG5cdFx0XHR0aGlzLm9yZ19zb3J0ID0gZG9tLnByb3RvdHlwZS5zb3J0O1xyXG5cdFx0XHR0aGlzLm5ld19zb3J0ID0gY2hhaW5fc29ydCh0aGlzLm9yZ19zb3J0KTtcclxuXHRcdFx0dGhpcy5fRm9sZGVyRG9tXy5wcm90b3R5cGUuc29ydCA9IHRoaXMubmV3X3NvcnQ7XHJcblx0XHRcdHRoaXMuc29ydCgpO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHVucmVnaXN0ZXIoKXtcclxuXHRcdGlmKHRoaXMub3JnX3NvcnQpe1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIlJlc2V0IEZpbGVFeHBsb3JlciB0byBvcmlnaW4gc29ydCBmdW5jdGlvbi5cIik7XHJcblx0XHRcdHRoaXMuX0ZvbGRlckRvbV8ucHJvdG90eXBlLnNvcnQgPSB0aGlzLm9yZ19zb3J0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0IGZpbGVfZXhwbG9yZXIoKXtcclxuXHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcclxuXHRcdFx0XCJmaWxlLWV4cGxvcmVyXCJcclxuXHRcdClbMF0/LnZpZXc7XHJcblx0XHRyZXR1cm4gdmlldztcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgc29ydChuc2xlZXA9MCl7XHJcblx0XHRpZih0aGlzLmZpbGVfZXhwbG9yZXI/LnNvcnQpe1xyXG5cdFx0XHRpZihuc2xlZXA+MCl7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXRpbHMuc2xlZXAobnNsZWVwKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnBsdWdpbi5jaGFpbi5pbml0X2NoaWxkcmVuKCk7XHJcblx0XHRcdHRoaXMuZmlsZV9leHBsb3Jlci5zb3J0KCk7XHJcblx0XHR9XHRcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cdCJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS08sU0FBUyxZQUFZQSxNQUFRLE1BQVk7QUFFaEQ7QUFFTyxTQUFT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QixXQUFLLE9BQU8sU0FBUyxZQUFZO0FBQ2pDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFHSixRQUFJLHlCQUFRLFdBQVcsRUFDcEIsUUFBUSxpQkFBaUIsRUFDekIsUUFBUSx1Q0FBdUMsRUFDL0M7QUFBQSxNQUFVLFVBQVEsS0FDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxlQUFlLEVBQzdDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLGtCQUFrQjtBQUN2QyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0Y7QUFDRixRQUFJLHlCQUFRLFdBQVcsRUFDcEIsUUFBUSxjQUFjLEVBQ3RCLFFBQVEsb0NBQW9DLEVBQzVDO0FBQUEsTUFBVSxVQUFRLEtBQ2pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFBWSxFQUMxQyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxlQUFlO0FBQ3BDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0g7QUFDRDsiLAogICJuYW1lcyI6IFsiYXBwIiwgImltcG9ydF9vYnNpZGlhbiIsICJhcHAiLCAiZiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiYSIsICJhcHAiXQp9Cg==
